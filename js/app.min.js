/*! For license information please see app.min.js.LICENSE.txt */
(()=>{var t={734:function(t,e,n){!function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){a(t,e,n[e])}))}return t}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var l="transitionend",h=1e6,c=1e3;function d(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function u(){return{bindType:l,delegateType:l,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function f(t){var n=this,i=!1;return e(this).one(p.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||p.triggerTransitionEnd(n)}),t),this}function g(){e.fn.emulateTransitionEnd=f,e.event.special[p.TRANSITION_END]=u()}var p={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(Math.random()*h)}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),r=parseFloat(n),a=parseFloat(i);return r||a?(n=n.split(",")[0],i=i.split(",")[0],(parseFloat(n)+parseFloat(i))*c):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(l)},supportsTransitionEnd:function(){return Boolean(l)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],a=e[i],o=a&&p.isElement(a)?"element":d(a);if(!new RegExp(r).test(o))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+o+'" but expected type "'+r+'".')}},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?p.findShadowRoot(t.parentNode):null}};g();var m="alert",v="4.3.1",y="bs.alert",_="."+y,b=".data-api",C=e.fn[m],w={DISMISS:'[data-dismiss="alert"]'},S={CLOSE:"close"+_,CLOSED:"closed"+_,CLICK_DATA_API:"click"+_+b},x={ALERT:"alert",FADE:"fade",SHOW:"show"},T=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,y),this._element=null},n._getRootElement=function(t){var n=p.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest("."+x.ALERT)[0]),i},n._triggerCloseEvent=function(t){var n=e.Event(S.CLOSE);return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass(x.SHOW),e(t).hasClass(x.FADE)){var i=p.getTransitionDurationFromElement(t);e(t).one(p.TRANSITION_END,(function(e){return n._destroyElement(t,e)})).emulateTransitionEnd(i)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger(S.CLOSED).remove()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data(y);r||(r=new t(this),i.data(y,r)),"close"===n&&r[n](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return v}}]),t}();e(document).on(S.CLICK_DATA_API,w.DISMISS,T._handleDismiss(new T)),e.fn[m]=T._jQueryInterface,e.fn[m].Constructor=T,e.fn[m].noConflict=function(){return e.fn[m]=C,T._jQueryInterface};var E="button",k="4.3.1",A="bs.button",O="."+A,D=".data-api",P=e.fn[E],I={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},L={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},M={CLICK_DATA_API:"click"+O+D,FOCUS_BLUR_DATA_API:"focus"+O+D+" blur"+O+D},N=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest(L.DATA_TOGGLE)[0];if(i){var r=this._element.querySelector(L.INPUT);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(I.ACTIVE))t=!1;else{var a=i.querySelector(L.ACTIVE);a&&e(a).removeClass(I.ACTIVE)}if(t){if(r.hasAttribute("disabled")||i.hasAttribute("disabled")||r.classList.contains("disabled")||i.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(I.ACTIVE),e(r).trigger("change")}r.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(I.ACTIVE)),t&&e(this._element).toggleClass(I.ACTIVE)},n.dispose=function(){e.removeData(this._element,A),this._element=null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data(A);i||(i=new t(this),e(this).data(A,i)),"toggle"===n&&i[n]()}))},r(t,null,[{key:"VERSION",get:function(){return k}}]),t}();e(document).on(M.CLICK_DATA_API,L.DATA_TOGGLE_CARROT,(function(t){t.preventDefault();var n=t.target;e(n).hasClass(I.BUTTON)||(n=e(n).closest(L.BUTTON)),N._jQueryInterface.call(e(n),"toggle")})).on(M.FOCUS_BLUR_DATA_API,L.DATA_TOGGLE_CARROT,(function(t){var n=e(t.target).closest(L.BUTTON)[0];e(n).toggleClass(I.FOCUS,/^focus(in)?$/.test(t.type))})),e.fn[E]=N._jQueryInterface,e.fn[E].Constructor=N,e.fn[E].noConflict=function(){return e.fn[E]=P,N._jQueryInterface};var R="carousel",G="4.3.1",F="bs.carousel",H="."+F,B=".data-api",j=e.fn[R],W=37,z=39,q=500,U=40,V={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Y={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},X={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},$={SLIDE:"slide"+H,SLID:"slid"+H,KEYDOWN:"keydown"+H,MOUSEENTER:"mouseenter"+H,MOUSELEAVE:"mouseleave"+H,TOUCHSTART:"touchstart"+H,TOUCHMOVE:"touchmove"+H,TOUCHEND:"touchend"+H,POINTERDOWN:"pointerdown"+H,POINTERUP:"pointerup"+H,DRAG_START:"dragstart"+H,LOAD_DATA_API:"load"+H+B,CLICK_DATA_API:"click"+H+B},K={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},Q={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},J={TOUCH:"touch",PEN:"pen"},Z=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(Q.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide(X.NEXT)},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide(X.PREV)},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(Q.NEXT_PREV)&&(p.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(Q.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one($.SLID,(function(){return n.to(t)}));else{if(i===t)return this.pause(),void this.cycle();var r=t>i?X.NEXT:X.PREV;this._slide(r,this._items[t])}},n.dispose=function(){e(this._element).off(H),e.removeData(this._element,F),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=o({},V,t),p.typeCheckConfig(R,t,Y),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=U)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on($.KEYDOWN,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&e(this._element).on($.MOUSEENTER,(function(e){return t.pause(e)})).on($.MOUSELEAVE,(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&J[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX},r=function(e){t._pointerEvent&&J[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),q+t._config.interval))};e(this._element.querySelectorAll(Q.ITEM_IMG)).on($.DRAG_START,(function(t){return t.preventDefault()})),this._pointerEvent?(e(this._element).on($.POINTERDOWN,(function(t){return n(t)})),e(this._element).on($.POINTERUP,(function(t){return r(t)})),this._element.classList.add(K.POINTER_EVENT)):(e(this._element).on($.TOUCHSTART,(function(t){return n(t)})),e(this._element).on($.TOUCHMOVE,(function(t){return i(t)})),e(this._element).on($.TOUCHEND,(function(t){return r(t)})))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case W:t.preventDefault(),this.prev();break;case z:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(Q.ITEM)):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n=t===X.NEXT,i=t===X.PREV,r=this._getItemIndex(e),a=this._items.length-1;if((i&&0===r||n&&r===a)&&!this._config.wrap)return e;var o=(r+(t===X.PREV?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},n._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(Q.ACTIVE_ITEM)),a=e.Event($.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(a),a},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(Q.ACTIVE));e(n).removeClass(K.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(K.ACTIVE)}},n._slide=function(t,n){var i,r,a,o=this,s=this._element.querySelector(Q.ACTIVE_ITEM),l=this._getItemIndex(s),h=n||s&&this._getItemByDirection(t,s),c=this._getItemIndex(h),d=Boolean(this._interval);if(t===X.NEXT?(i=K.LEFT,r=K.NEXT,a=X.LEFT):(i=K.RIGHT,r=K.PREV,a=X.RIGHT),h&&e(h).hasClass(K.ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(h,a).isDefaultPrevented()&&s&&h){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(h);var u=e.Event($.SLID,{relatedTarget:h,direction:a,from:l,to:c});if(e(this._element).hasClass(K.SLIDE)){e(h).addClass(r),p.reflow(h),e(s).addClass(i),e(h).addClass(i);var f=parseInt(h.getAttribute("data-interval"),10);f?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=f):this._config.interval=this._config.defaultInterval||this._config.interval;var g=p.getTransitionDurationFromElement(s);e(s).one(p.TRANSITION_END,(function(){e(h).removeClass(i+" "+r).addClass(K.ACTIVE),e(s).removeClass(K.ACTIVE+" "+r+" "+i),o._isSliding=!1,setTimeout((function(){return e(o._element).trigger(u)}),0)})).emulateTransitionEnd(g)}else e(s).removeClass(K.ACTIVE),e(h).addClass(K.ACTIVE),this._isSliding=!1,e(this._element).trigger(u);d&&this.cycle()}},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data(F),r=o({},V,e(this).data());"object"==typeof n&&(r=o({},r,n));var a="string"==typeof n?n:r.slide;if(i||(i=new t(this,r),e(this).data(F,i)),"number"==typeof n)i.to(n);else if("string"==typeof a){if(void 0===i[a])throw new TypeError('No method named "'+a+'"');i[a]()}else r.interval&&r.ride&&(i.pause(),i.cycle())}))},t._dataApiClickHandler=function(n){var i=p.getSelectorFromElement(this);if(i){var r=e(i)[0];if(r&&e(r).hasClass(K.CAROUSEL)){var a=o({},e(r).data(),e(this).data()),s=this.getAttribute("data-slide-to");s&&(a.interval=!1),t._jQueryInterface.call(e(r),a),s&&e(r).data(F).to(s),n.preventDefault()}}},r(t,null,[{key:"VERSION",get:function(){return G}},{key:"Default",get:function(){return V}}]),t}();e(document).on($.CLICK_DATA_API,Q.DATA_SLIDE,Z._dataApiClickHandler),e(window).on($.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(Q.DATA_RIDE)),n=0,i=t.length;n<i;n++){var r=e(t[n]);Z._jQueryInterface.call(r,r.data())}})),e.fn[R]=Z._jQueryInterface,e.fn[R].Constructor=Z,e.fn[R].noConflict=function(){return e.fn[R]=j,Z._jQueryInterface};var tt="collapse",et="4.3.1",nt="bs.collapse",it="."+nt,rt=".data-api",at=e.fn[tt],ot={toggle:!0,parent:""},st={toggle:"boolean",parent:"(string|element)"},lt={SHOW:"show"+it,SHOWN:"shown"+it,HIDE:"hide"+it,HIDDEN:"hidden"+it,CLICK_DATA_API:"click"+it+rt},ht={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},ct={WIDTH:"width",HEIGHT:"height"},dt={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},ut=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(dt.DATA_TOGGLE)),i=0,r=n.length;i<r;i++){var a=n[i],o=p.getSelectorFromElement(a),s=[].slice.call(document.querySelectorAll(o)).filter((function(e){return e===t}));null!==o&&s.length>0&&(this._selector=o,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass(ht.SHOW)?this.hide():this.show()},n.show=function(){var n,i,r=this;if(!(this._isTransitioning||e(this._element).hasClass(ht.SHOW)||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(dt.ACTIVES)).filter((function(t){return"string"==typeof r._config.parent?t.getAttribute("data-parent")===r._config.parent:t.classList.contains(ht.COLLAPSE)}))).length&&(n=null),n&&(i=e(n).not(this._selector).data(nt))&&i._isTransitioning))){var a=e.Event(lt.SHOW);if(e(this._element).trigger(a),!a.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),i||e(n).data(nt,null));var o=this._getDimension();e(this._element).removeClass(ht.COLLAPSE).addClass(ht.COLLAPSING),this._element.style[o]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(ht.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var s=function(){e(r._element).removeClass(ht.COLLAPSING).addClass(ht.COLLAPSE).addClass(ht.SHOW),r._element.style[o]="",r.setTransitioning(!1),e(r._element).trigger(lt.SHOWN)},l="scroll"+(o[0].toUpperCase()+o.slice(1)),h=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,s).emulateTransitionEnd(h),this._element.style[o]=this._element[l]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(ht.SHOW)){var n=e.Event(lt.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",p.reflow(this._element),e(this._element).addClass(ht.COLLAPSING).removeClass(ht.COLLAPSE).removeClass(ht.SHOW);var r=this._triggerArray.length;if(r>0)for(var a=0;a<r;a++){var o=this._triggerArray[a],s=p.getSelectorFromElement(o);null!==s&&(e([].slice.call(document.querySelectorAll(s))).hasClass(ht.SHOW)||e(o).addClass(ht.COLLAPSED).attr("aria-expanded",!1))}this.setTransitioning(!0);var l=function(){t.setTransitioning(!1),e(t._element).removeClass(ht.COLLAPSING).addClass(ht.COLLAPSE).trigger(lt.HIDDEN)};this._element.style[i]="";var h=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,l).emulateTransitionEnd(h)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,nt),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=o({},ot,t)).toggle=Boolean(t.toggle),p.typeCheckConfig(tt,t,st),t},n._getDimension=function(){return e(this._element).hasClass(ct.WIDTH)?ct.WIDTH:ct.HEIGHT},n._getParent=function(){var n,i=this;p.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',a=[].slice.call(n.querySelectorAll(r));return e(a).each((function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])})),n},n._addAriaAndCollapsedClass=function(t,n){var i=e(t).hasClass(ht.SHOW);n.length&&e(n).toggleClass(ht.COLLAPSED,!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=p.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data(nt),a=o({},ot,i.data(),"object"==typeof n&&n?n:{});if(!r&&a.toggle&&/show|hide/.test(n)&&(a.toggle=!1),r||(r=new t(this,a),i.data(nt,r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return et}},{key:"Default",get:function(){return ot}}]),t}();e(document).on(lt.CLICK_DATA_API,dt.DATA_TOGGLE,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),i=p.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));e(r).each((function(){var t=e(this),i=t.data(nt)?"toggle":n.data();ut._jQueryInterface.call(t,i)}))})),e.fn[tt]=ut._jQueryInterface,e.fn[tt].Constructor=ut,e.fn[tt].noConflict=function(){return e.fn[tt]=at,ut._jQueryInterface};var ft="dropdown",gt="4.3.1",pt="bs.dropdown",mt="."+pt,vt=".data-api",yt=e.fn[ft],_t=27,bt=32,Ct=9,wt=38,St=40,xt=3,Tt=new RegExp(wt+"|"+St+"|"+_t),Et={HIDE:"hide"+mt,HIDDEN:"hidden"+mt,SHOW:"show"+mt,SHOWN:"shown"+mt,CLICK:"click"+mt,CLICK_DATA_API:"click"+mt+vt,KEYDOWN_DATA_API:"keydown"+mt+vt,KEYUP_DATA_API:"keyup"+mt+vt},kt={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},At={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},Ot={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},Dt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Pt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},It=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(kt.DISABLED)){var i=t._getParentFromElement(this._element),r=e(this._menu).hasClass(kt.SHOW);if(t._clearMenus(),!r){var a={relatedTarget:this._element},o=e.Event(Et.SHOW,a);if(e(i).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var s=this._element;"parent"===this._config.reference?s=i:p.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(i).addClass(kt.POSITION_STATIC),this._popper=new n(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(i).closest(At.NAVBAR_NAV).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(kt.SHOW),e(i).toggleClass(kt.SHOW).trigger(e.Event(Et.SHOWN,a))}}}},i.show=function(){if(!(this._element.disabled||e(this._element).hasClass(kt.DISABLED)||e(this._menu).hasClass(kt.SHOW))){var n={relatedTarget:this._element},i=e.Event(Et.SHOW,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(kt.SHOW),e(r).toggleClass(kt.SHOW).trigger(e.Event(Et.SHOWN,n)))}},i.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass(kt.DISABLED)&&e(this._menu).hasClass(kt.SHOW)){var n={relatedTarget:this._element},i=e.Event(Et.HIDE,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(kt.SHOW),e(r).toggleClass(kt.SHOW).trigger(e.Event(Et.HIDDEN,n)))}},i.dispose=function(){e.removeData(this._element,pt),e(this._element).off(mt),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;e(this._element).on(Et.CLICK,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},i._getConfig=function(t){return t=o({},this.constructor.Default,e(this._element).data(),t),p.typeCheckConfig(ft,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(At.MENU))}return this._menu},i._getPlacement=function(){var t=e(this._element.parentNode),n=Ot.BOTTOM;return t.hasClass(kt.DROPUP)?(n=Ot.TOP,e(this._menu).hasClass(kt.MENURIGHT)&&(n=Ot.TOPEND)):t.hasClass(kt.DROPRIGHT)?n=Ot.RIGHT:t.hasClass(kt.DROPLEFT)?n=Ot.LEFT:e(this._menu).hasClass(kt.MENURIGHT)&&(n=Ot.BOTTOMEND),n},i._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data(pt);if(i||(i=new t(this,"object"==typeof n?n:null),e(this).data(pt,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},t._clearMenus=function(n){if(!n||n.which!==xt&&("keyup"!==n.type||n.which===Ct))for(var i=[].slice.call(document.querySelectorAll(At.DATA_TOGGLE)),r=0,a=i.length;r<a;r++){var o=t._getParentFromElement(i[r]),s=e(i[r]).data(pt),l={relatedTarget:i[r]};if(n&&"click"===n.type&&(l.clickEvent=n),s){var h=s._menu;if(e(o).hasClass(kt.SHOW)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&n.which===Ct)&&e.contains(o,n.target))){var c=e.Event(Et.HIDE,l);e(o).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[r].setAttribute("aria-expanded","false"),e(h).removeClass(kt.SHOW),e(o).removeClass(kt.SHOW).trigger(e.Event(Et.HIDDEN,l)))}}}},t._getParentFromElement=function(t){var e,n=p.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if(!(/input|textarea/i.test(n.target.tagName)?n.which===bt||n.which!==_t&&(n.which!==St&&n.which!==wt||e(n.target).closest(At.MENU).length):!Tt.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!e(this).hasClass(kt.DISABLED))){var i=t._getParentFromElement(this),r=e(i).hasClass(kt.SHOW);if(r&&(!r||n.which!==_t&&n.which!==bt)){var a=[].slice.call(i.querySelectorAll(At.VISIBLE_ITEMS));if(0!==a.length){var o=a.indexOf(n.target);n.which===wt&&o>0&&o--,n.which===St&&o<a.length-1&&o++,o<0&&(o=0),a[o].focus()}}else{if(n.which===_t){var s=i.querySelector(At.DATA_TOGGLE);e(s).trigger("focus")}e(this).trigger("click")}}},r(t,null,[{key:"VERSION",get:function(){return gt}},{key:"Default",get:function(){return Dt}},{key:"DefaultType",get:function(){return Pt}}]),t}();e(document).on(Et.KEYDOWN_DATA_API,At.DATA_TOGGLE,It._dataApiKeydownHandler).on(Et.KEYDOWN_DATA_API,At.MENU,It._dataApiKeydownHandler).on(Et.CLICK_DATA_API+" "+Et.KEYUP_DATA_API,It._clearMenus).on(Et.CLICK_DATA_API,At.DATA_TOGGLE,(function(t){t.preventDefault(),t.stopPropagation(),It._jQueryInterface.call(e(this),"toggle")})).on(Et.CLICK_DATA_API,At.FORM_CHILD,(function(t){t.stopPropagation()})),e.fn[ft]=It._jQueryInterface,e.fn[ft].Constructor=It,e.fn[ft].noConflict=function(){return e.fn[ft]=yt,It._jQueryInterface};var Lt="modal",Mt="4.3.1",Nt="bs.modal",Rt="."+Nt,Gt=".data-api",Ft=e.fn[Lt],Ht=27,Bt={backdrop:!0,keyboard:!0,focus:!0,show:!0},jt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Wt={HIDE:"hide"+Rt,HIDDEN:"hidden"+Rt,SHOW:"show"+Rt,SHOWN:"shown"+Rt,FOCUSIN:"focusin"+Rt,RESIZE:"resize"+Rt,CLICK_DISMISS:"click.dismiss"+Rt,KEYDOWN_DISMISS:"keydown.dismiss"+Rt,MOUSEUP_DISMISS:"mouseup.dismiss"+Rt,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Rt,CLICK_DATA_API:"click"+Rt+Gt},zt={SCROLLABLE:"modal-dialog-scrollable",SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},qt={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},Ut=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(qt.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(zt.FADE)&&(this._isTransitioning=!0);var i=e.Event(Wt.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(Wt.CLICK_DISMISS,qt.DATA_DISMISS,(function(t){return n.hide(t)})),e(this._dialog).on(Wt.MOUSEDOWN_DISMISS,(function(){e(n._element).one(Wt.MOUSEUP_DISMISS,(function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(t)})))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=e.Event(Wt.HIDE);if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=e(this._element).hasClass(zt.FADE);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(Wt.FOCUSIN),e(this._element).removeClass(zt.SHOW),e(this._element).off(Wt.CLICK_DISMISS),e(this._dialog).off(Wt.MOUSEDOWN_DISMISS),r){var a=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,(function(t){return n._hideModal(t)})).emulateTransitionEnd(a)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return e(t).off(Rt)})),e(document).off(Wt.FOCUSIN),e.removeData(this._element,Nt),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=o({},Bt,t),p.typeCheckConfig(Lt,t,jt),t},n._showElement=function(t){var n=this,i=e(this._element).hasClass(zt.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(zt.SCROLLABLE)?this._dialog.querySelector(qt.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,i&&p.reflow(this._element),e(this._element).addClass(zt.SHOW),this._config.focus&&this._enforceFocus();var r=e.Event(Wt.SHOWN,{relatedTarget:t}),a=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(r)};if(i){var o=p.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(p.TRANSITION_END,a).emulateTransitionEnd(o)}else a()},n._enforceFocus=function(){var t=this;e(document).off(Wt.FOCUSIN).on(Wt.FOCUSIN,(function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()}))},n._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(Wt.KEYDOWN_DISMISS,(function(e){e.which===Ht&&(e.preventDefault(),t.hide())})):this._isShown||e(this._element).off(Wt.KEYDOWN_DISMISS)},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on(Wt.RESIZE,(function(e){return t.handleUpdate(e)})):e(window).off(Wt.RESIZE)},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass(zt.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(Wt.HIDDEN)}))},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,i=e(this._element).hasClass(zt.FADE)?zt.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=zt.BACKDROP,i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on(Wt.CLICK_DISMISS,(function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())})),i&&p.reflow(this._backdrop),e(this._backdrop).addClass(zt.SHOW),!t)return;if(!i)return void t();var r=p.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(p.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(zt.SHOW);var a=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass(zt.FADE)){var o=p.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(p.TRANSITION_END,a).emulateTransitionEnd(o)}else a()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(qt.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(qt.STICKY_CONTENT));e(n).each((function(n,i){var r=i.style.paddingRight,a=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(a)+t._scrollbarWidth+"px")})),e(i).each((function(n,i){var r=i.style.marginRight,a=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(a)-t._scrollbarWidth+"px")}));var r=document.body.style.paddingRight,a=e(document.body).css("padding-right");e(document.body).data("padding-right",r).css("padding-right",parseFloat(a)+this._scrollbarWidth+"px")}e(document.body).addClass(zt.OPEN)},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(qt.FIXED_CONTENT));e(t).each((function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""}));var n=[].slice.call(document.querySelectorAll(""+qt.STICKY_CONTENT));e(n).each((function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")}));var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className=zt.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,i){return this.each((function(){var r=e(this).data(Nt),a=o({},Bt,e(this).data(),"object"==typeof n&&n?n:{});if(r||(r=new t(this,a),e(this).data(Nt,r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](i)}else a.show&&r.show(i)}))},r(t,null,[{key:"VERSION",get:function(){return Mt}},{key:"Default",get:function(){return Bt}}]),t}();e(document).on(Wt.CLICK_DATA_API,qt.DATA_TOGGLE,(function(t){var n,i=this,r=p.getSelectorFromElement(this);r&&(n=document.querySelector(r));var a=e(n).data(Nt)?"toggle":o({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var s=e(n).one(Wt.SHOW,(function(t){t.isDefaultPrevented()||s.one(Wt.HIDDEN,(function(){e(i).is(":visible")&&i.focus()}))}));Ut._jQueryInterface.call(e(n),a,this)})),e.fn[Lt]=Ut._jQueryInterface,e.fn[Lt].Constructor=Ut,e.fn[Lt].noConflict=function(){return e.fn[Lt]=Ft,Ut._jQueryInterface};var Vt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Yt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Xt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,$t=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function Kt(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===Vt.indexOf(n)||Boolean(t.nodeValue.match(Xt)||t.nodeValue.match($t));for(var i=e.filter((function(t){return t instanceof RegExp})),r=0,a=i.length;r<a;r++)if(n.match(i[r]))return!0;return!1}function Qt(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),r=Object.keys(e),a=[].slice.call(i.body.querySelectorAll("*")),o=function(t,n){var i=a[t],o=i.nodeName.toLowerCase();if(-1===r.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var s=[].slice.call(i.attributes),l=[].concat(e["*"]||[],e[o]||[]);s.forEach((function(t){Kt(t,l)||i.removeAttribute(t.nodeName)}))},s=0,l=a.length;s<l;s++)o(s,l);return i.body.innerHTML}var Jt="tooltip",Zt="4.3.1",te="bs.tooltip",ee="."+te,ne=e.fn[Jt],ie="bs-tooltip",re=new RegExp("(^|\\s)"+ie+"\\S+","g"),ae=["sanitize","whiteList","sanitizeFn"],oe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},se={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},le={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:Yt},he={SHOW:"show",OUT:"out"},ce={HIDE:"hide"+ee,HIDDEN:"hidden"+ee,SHOW:"show"+ee,SHOWN:"shown"+ee,INSERTED:"inserted"+ee,CLICK:"click"+ee,FOCUSIN:"focusin"+ee,FOCUSOUT:"focusout"+ee,MOUSEENTER:"mouseenter"+ee,MOUSELEAVE:"mouseleave"+ee},de={FADE:"fade",SHOW:"show"},ue={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},fe={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},ge=function(){function t(t,e){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(de.SHOW))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var r=p.findShadowRoot(this.element),a=e.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!a)return;var o=this.getTipElement(),s=p.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&e(o).addClass(de.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,h=this._getAttachment(l);this.addAttachmentClass(h);var c=this._getContainer();e(o).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(o).appendTo(c),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,o,{placement:h,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:ue.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),e(o).addClass(de.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var d=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===he.OUT&&t._leave(null,t)};if(e(this.tip).hasClass(de.FADE)){var u=p.getTransitionDurationFromElement(this.tip);e(this.tip).one(p.TRANSITION_END,d).emulateTransitionEnd(u)}else d()}},i.hide=function(t){var n=this,i=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),a=function(){n._hoverState!==he.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(r),!r.isDefaultPrevented()){if(e(i).removeClass(de.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[fe.CLICK]=!1,this._activeTrigger[fe.FOCUS]=!1,this._activeTrigger[fe.HOVER]=!1,e(this.tip).hasClass(de.FADE)){var o=p.getTransitionDurationFromElement(i);e(i).one(p.TRANSITION_END,a).emulateTransitionEnd(o)}else a();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass(ie+"-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(ue.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(de.FADE+" "+de.SHOW)},i.setElementContent=function(t,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=Qt(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n):this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:p.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},i._getAttachment=function(t){return se[t.toUpperCase()]},i._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(n!==fe.MANUAL){var i=n===fe.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=n===fe.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,(function(e){return t._enter(e)})).on(r,t.config.selector,(function(e){return t._leave(e)}))}})),e(this.element).closest(".modal").on("hide.bs.modal",(function(){t.element&&t.hide()})),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?fe.FOCUS:fe.HOVER]=!0),e(n.getTipElement()).hasClass(de.SHOW)||n._hoverState===he.SHOW?n._hoverState=he.SHOW:(clearTimeout(n._timeout),n._hoverState=he.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){n._hoverState===he.SHOW&&n.show()}),n.config.delay.show):n.show())},i._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?fe.FOCUS:fe.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=he.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){n._hoverState===he.OUT&&n.hide()}),n.config.delay.hide):n.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach((function(t){-1!==ae.indexOf(t)&&delete n[t]})),"number"==typeof(t=o({},this.constructor.Default,n,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),p.typeCheckConfig(Jt,t,this.constructor.DefaultType),t.sanitize&&(t.template=Qt(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(re);null!==n&&n.length&&t.removeClass(n.join(""))},i._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(de.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data(te),r="object"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new t(this,r),e(this).data(te,i)),"string"==typeof n)){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return Zt}},{key:"Default",get:function(){return le}},{key:"NAME",get:function(){return Jt}},{key:"DATA_KEY",get:function(){return te}},{key:"Event",get:function(){return ce}},{key:"EVENT_KEY",get:function(){return ee}},{key:"DefaultType",get:function(){return oe}}]),t}();e.fn[Jt]=ge._jQueryInterface,e.fn[Jt].Constructor=ge,e.fn[Jt].noConflict=function(){return e.fn[Jt]=ne,ge._jQueryInterface};var pe="popover",me="4.3.1",ve="bs.popover",ye="."+ve,_e=e.fn[pe],be="bs-popover",Ce=new RegExp("(^|\\s)"+be+"\\S+","g"),we=o({},ge.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Se=o({},ge.DefaultType,{content:"(string|element|function)"}),xe={FADE:"fade",SHOW:"show"},Te={TITLE:".popover-header",CONTENT:".popover-body"},Ee={HIDE:"hide"+ye,HIDDEN:"hidden"+ye,SHOW:"show"+ye,SHOWN:"shown"+ye,INSERTED:"inserted"+ye,CLICK:"click"+ye,FOCUSIN:"focusin"+ye,FOCUSOUT:"focusout"+ye,MOUSEENTER:"mouseenter"+ye,MOUSELEAVE:"mouseleave"+ye},ke=function(t){function n(){return t.apply(this,arguments)||this}s(n,t);var i=n.prototype;return i.isWithContent=function(){return this.getTitle()||this._getContent()},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass(be+"-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(Te.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(Te.CONTENT),n),t.removeClass(xe.FADE+" "+xe.SHOW)},i._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(Ce);null!==n&&n.length>0&&t.removeClass(n.join(""))},n._jQueryInterface=function(t){return this.each((function(){var i=e(this).data(ve),r="object"==typeof t?t:null;if((i||!/dispose|hide/.test(t))&&(i||(i=new n(this,r),e(this).data(ve,i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},r(n,null,[{key:"VERSION",get:function(){return me}},{key:"Default",get:function(){return we}},{key:"NAME",get:function(){return pe}},{key:"DATA_KEY",get:function(){return ve}},{key:"Event",get:function(){return Ee}},{key:"EVENT_KEY",get:function(){return ye}},{key:"DefaultType",get:function(){return Se}}]),n}(ge);e.fn[pe]=ke._jQueryInterface,e.fn[pe].Constructor=ke,e.fn[pe].noConflict=function(){return e.fn[pe]=_e,ke._jQueryInterface};var Ae="scrollspy",Oe="4.3.1",De="bs.scrollspy",Pe="."+De,Ie=".data-api",Le=e.fn[Ae],Me={offset:10,method:"auto",target:""},Ne={offset:"number",method:"string",target:"(string|element)"},Re={ACTIVATE:"activate"+Pe,SCROLL:"scroll"+Pe,LOAD_DATA_API:"load"+Pe+Ie},Ge={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},Fe={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},He={OFFSET:"offset",POSITION:"position"},Be=function(){function t(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+Fe.NAV_LINKS+","+this._config.target+" "+Fe.LIST_ITEMS+","+this._config.target+" "+Fe.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(Re.SCROLL,(function(t){return i._process(t)})),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?He.OFFSET:He.POSITION,i="auto"===this._config.method?n:this._config.method,r=i===He.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var n,a=p.getSelectorFromElement(t);if(a&&(n=document.querySelector(a)),n){var o=n.getBoundingClientRect();if(o.width||o.height)return[e(n)[i]().top+r,a]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},n.dispose=function(){e.removeData(this._element,De),e(this._scrollElement).off(Pe),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=o({},Me,"object"==typeof t&&t?t:{})).target){var n=e(t.target).attr("id");n||(n=p.getUID(Ae),e(t.target).attr("id",n)),t.target="#"+n}return p.typeCheckConfig(Ae,t,Ne),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(Ge.DROPDOWN_ITEM)?(i.closest(Fe.DROPDOWN).find(Fe.DROPDOWN_TOGGLE).addClass(Ge.ACTIVE),i.addClass(Ge.ACTIVE)):(i.addClass(Ge.ACTIVE),i.parents(Fe.NAV_LIST_GROUP).prev(Fe.NAV_LINKS+", "+Fe.LIST_ITEMS).addClass(Ge.ACTIVE),i.parents(Fe.NAV_LIST_GROUP).prev(Fe.NAV_ITEMS).children(Fe.NAV_LINKS).addClass(Ge.ACTIVE)),e(this._scrollElement).trigger(Re.ACTIVATE,{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains(Ge.ACTIVE)})).forEach((function(t){return t.classList.remove(Ge.ACTIVE)}))},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data(De);if(i||(i=new t(this,"object"==typeof n&&n),e(this).data(De,i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return Oe}},{key:"Default",get:function(){return Me}}]),t}();e(window).on(Re.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(Fe.DATA_SPY)),n=t.length;n--;){var i=e(t[n]);Be._jQueryInterface.call(i,i.data())}})),e.fn[Ae]=Be._jQueryInterface,e.fn[Ae].Constructor=Be,e.fn[Ae].noConflict=function(){return e.fn[Ae]=Le,Be._jQueryInterface};var je="tab",We="4.3.1",ze="bs.tab",qe="."+ze,Ue=".data-api",Ve=e.fn[je],Ye={HIDE:"hide"+qe,HIDDEN:"hidden"+qe,SHOW:"show"+qe,SHOWN:"shown"+qe,CLICK_DATA_API:"click"+qe+Ue},Xe={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},$e={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},Ke=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(Xe.ACTIVE)||e(this._element).hasClass(Xe.DISABLED))){var n,i,r=e(this._element).closest($e.NAV_LIST_GROUP)[0],a=p.getSelectorFromElement(this._element);if(r){var o="UL"===r.nodeName||"OL"===r.nodeName?$e.ACTIVE_UL:$e.ACTIVE;i=(i=e.makeArray(e(r).find(o)))[i.length-1]}var s=e.Event(Ye.HIDE,{relatedTarget:this._element}),l=e.Event(Ye.SHOW,{relatedTarget:i});if(i&&e(i).trigger(s),e(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){a&&(n=document.querySelector(a)),this._activate(this._element,r);var h=function(){var n=e.Event(Ye.HIDDEN,{relatedTarget:t._element}),r=e.Event(Ye.SHOWN,{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(r)};n?this._activate(n,n.parentNode,h):h()}}},n.dispose=function(){e.removeData(this._element,ze),this._element=null},n._activate=function(t,n,i){var r=this,a=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children($e.ACTIVE):e(n).find($e.ACTIVE_UL))[0],o=i&&a&&e(a).hasClass(Xe.FADE),s=function(){return r._transitionComplete(t,a,i)};if(a&&o){var l=p.getTransitionDurationFromElement(a);e(a).removeClass(Xe.SHOW).one(p.TRANSITION_END,s).emulateTransitionEnd(l)}else s()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass(Xe.ACTIVE);var r=e(n.parentNode).find($e.DROPDOWN_ACTIVE_CHILD)[0];r&&e(r).removeClass(Xe.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(Xe.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),p.reflow(t),t.classList.contains(Xe.FADE)&&t.classList.add(Xe.SHOW),t.parentNode&&e(t.parentNode).hasClass(Xe.DROPDOWN_MENU)){var a=e(t).closest($e.DROPDOWN)[0];if(a){var o=[].slice.call(a.querySelectorAll($e.DROPDOWN_TOGGLE));e(o).addClass(Xe.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data(ze);if(r||(r=new t(this),i.data(ze,r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return We}}]),t}();e(document).on(Ye.CLICK_DATA_API,$e.DATA_TOGGLE,(function(t){t.preventDefault(),Ke._jQueryInterface.call(e(this),"show")})),e.fn[je]=Ke._jQueryInterface,e.fn[je].Constructor=Ke,e.fn[je].noConflict=function(){return e.fn[je]=Ve,Ke._jQueryInterface};var Qe="toast",Je="4.3.1",Ze="bs.toast",tn="."+Ze,en=e.fn[Qe],nn={CLICK_DISMISS:"click.dismiss"+tn,HIDE:"hide"+tn,HIDDEN:"hidden"+tn,SHOW:"show"+tn,SHOWN:"shown"+tn},rn={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},an={animation:"boolean",autohide:"boolean",delay:"number"},on={animation:!0,autohide:!0,delay:500},sn={DATA_DISMISS:'[data-dismiss="toast"]'},ln=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this;e(this._element).trigger(nn.SHOW),this._config.animation&&this._element.classList.add(rn.FADE);var n=function(){t._element.classList.remove(rn.SHOWING),t._element.classList.add(rn.SHOW),e(t._element).trigger(nn.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(rn.HIDE),this._element.classList.add(rn.SHOWING),this._config.animation){var i=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},n.hide=function(t){var n=this;this._element.classList.contains(rn.SHOW)&&(e(this._element).trigger(nn.HIDE),t?this._close():this._timeout=setTimeout((function(){n._close()}),this._config.delay))},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(rn.SHOW)&&this._element.classList.remove(rn.SHOW),e(this._element).off(nn.CLICK_DISMISS),e.removeData(this._element,Ze),this._element=null,this._config=null},n._getConfig=function(t){return t=o({},on,e(this._element).data(),"object"==typeof t&&t?t:{}),p.typeCheckConfig(Qe,t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on(nn.CLICK_DISMISS,sn.DATA_DISMISS,(function(){return t.hide(!0)}))},n._close=function(){var t=this,n=function(){t._element.classList.add(rn.HIDE),e(t._element).trigger(nn.HIDDEN)};if(this._element.classList.remove(rn.SHOW),this._config.animation){var i=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data(Ze);if(r||(r=new t(this,"object"==typeof n&&n),i.data(Ze,r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](this)}}))},r(t,null,[{key:"VERSION",get:function(){return Je}},{key:"DefaultType",get:function(){return an}},{key:"Default",get:function(){return on}}]),t}();e.fn[Qe]=ln._jQueryInterface,e.fn[Qe].Constructor=ln,e.fn[Qe].noConflict=function(){return e.fn[Qe]=en,ln._jQueryInterface},function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split("."),n=1,i=2,r=9,a=1,o=4;if(t[0]<i&&t[1]<r||t[0]===n&&t[1]===r&&t[2]<a||t[0]>=o)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=p,t.Alert=T,t.Button=N,t.Carousel=Z,t.Collapse=ut,t.Dropdown=It,t.Modal=Ut,t.Popover=ke,t.Scrollspy=Be,t.Tab=Ke,t.Toast=ln,t.Tooltip=ge,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(755),n(981))},226:(t,e,n)=>{var i,r,a;r=[n(755)],i=function(t,e){"use strict";var n={background:"rgba(255, 255, 255, 0.8)",backgroundClass:"",image:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'><circle r='80' cx='500' cy='90'/><circle r='80' cx='500' cy='910'/><circle r='80' cx='90' cy='500'/><circle r='80' cx='910' cy='500'/><circle r='80' cx='212' cy='212'/><circle r='80' cx='788' cy='212'/><circle r='80' cx='212' cy='788'/><circle r='80' cx='788' cy='788'/></svg>",imageAnimation:"2000ms rotate_right",imageAutoResize:!0,imageResizeFactor:1,imageColor:"#202020",imageClass:"",imageOrder:1,fontawesome:"",fontawesomeAnimation:"",fontawesomeAutoResize:!0,fontawesomeResizeFactor:1,fontawesomeColor:"#202020",fontawesomeOrder:2,custom:"",customAnimation:"",customAutoResize:!0,customResizeFactor:1,customOrder:3,text:"",textAnimation:"",textAutoResize:!0,textResizeFactor:.5,textColor:"#202020",textClass:"",textOrder:4,progress:!1,progressAutoResize:!0,progressResizeFactor:.25,progressColor:"#a0a0a0",progressClass:"",progressOrder:5,progressFixedPosition:"",progressSpeed:200,progressMin:0,progressMax:100,size:50,maxSize:120,minSize:20,direction:"column",fade:!0,resizeInterval:50,zIndex:2147483647},i={overlay:{"box-sizing":"border-box",position:"relative",display:"flex","flex-wrap":"nowrap","align-items":"center","justify-content":"space-around"},element:{"box-sizing":"border-box",overflow:"visible",flex:"0 0 auto",display:"flex","justify-content":"center","align-items":"center"},element_svg:{width:"100%",height:"100%"},progress_fixed:{position:"absolute",left:"0",width:"100%"},progress_wrapper:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},progress_bar:{position:"absolute",left:"0"}},r={count:0,container:e,settings:e,wholePage:e,resizeIntervalId:e,text:e,progress:e},a={animations:["rotate_right","rotate_left","fadein","pulse"],progressPosition:["top","bottom"]},o={animations:{name:"rotate_right",time:"2000ms"},fade:[400,200]};function s(e,n){e=t(e),n.size=_(n.size),n.maxSize=parseInt(n.maxSize,10)||0,n.minSize=parseInt(n.minSize,10)||0,n.resizeInterval=parseInt(n.resizeInterval,10)||0;var a=f(e),s=g(e);if(!1===s){if((s=t.extend({},r)).container=e,s.wholePage=e.is("body"),a=t("<div>",{class:"loadingoverlay"}).css(i.overlay).css("flex-direction","row"===n.direction.toLowerCase()?"row":"column"),n.backgroundClass?a.addClass(n.backgroundClass):a.css("background",n.background),s.wholePage&&a.css({position:"fixed",top:0,left:0,width:"100%",height:"100%"}),void 0!==n.zIndex&&a.css("z-index",n.zIndex),n.image){t.isArray(n.imageColor)?0===n.imageColor.length?n.imageColor=!1:1===n.imageColor.length?n.imageColor={fill:n.imageColor[0]}:n.imageColor={fill:n.imageColor[0],stroke:n.imageColor[1]}:n.imageColor&&(n.imageColor={fill:n.imageColor});var l=p(a,n.imageOrder,n.imageAutoResize,n.imageResizeFactor,n.imageAnimation);"<svg"===n.image.slice(0,4).toLowerCase()&&"</svg>"===n.image.slice(-6).toLowerCase()?(l.append(n.image),l.children().css(i.element_svg),!n.imageClass&&n.imageColor&&l.find("*").css(n.imageColor)):".svg"===n.image.slice(-4).toLowerCase()||"data:image/svg"===n.image.slice(0,14).toLowerCase()?t.ajax({url:n.image,type:"GET",dataType:"html",global:!1}).done((function(t){l.html(t),l.children().css(i.element_svg),!n.imageClass&&n.imageColor&&l.find("*").css(n.imageColor)})):l.css({"background-image":"url("+n.image+")","background-position":"center","background-repeat":"no-repeat","background-size":"cover"}),n.imageClass&&l.addClass(n.imageClass)}if(n.fontawesome&&(l=p(a,n.fontawesomeOrder,n.fontawesomeAutoResize,n.fontawesomeResizeFactor,n.fontawesomeAnimation).addClass("loadingoverlay_fa"),t("<div>",{class:n.fontawesome}).appendTo(l),n.fontawesomeColor&&l.css("color",n.fontawesomeColor)),n.custom&&(l=p(a,n.customOrder,n.customAutoResize,n.customResizeFactor,n.customAnimation).append(n.custom)),n.text&&(s.text=p(a,n.textOrder,n.textAutoResize,n.textResizeFactor,n.textAnimation).addClass("loadingoverlay_text").text(n.text),n.textClass?s.text.addClass(n.textClass):n.textColor&&s.text.css("color",n.textColor)),n.progress){l=p(a,n.progressOrder,n.progressAutoResize,n.progressResizeFactor,!1).addClass("loadingoverlay_progress");var h=t("<div>").css(i.progress_wrapper).appendTo(l);s.progress={bar:t("<div>").css(i.progress_bar).appendTo(h),fixed:!1,margin:0,min:parseFloat(n.progressMin),max:parseFloat(n.progressMax),speed:parseInt(n.progressSpeed,10)};var c=(n.progressFixedPosition+"").replace(/\s\s+/g," ").toLowerCase().split(" ");2===c.length&&y(c[0])?(s.progress.fixed=c[0],s.progress.margin=_(c[1])):2===c.length&&y(c[1])?(s.progress.fixed=c[1],s.progress.margin=_(c[0])):1===c.length&&y(c[0])&&(s.progress.fixed=c[0],s.progress.margin=0),"top"===s.progress.fixed?l.css(i.progress_fixed).css("top",s.progress.margin?s.progress.margin.value+(s.progress.margin.fixed?s.progress.margin.units:"%"):0):"bottom"===s.progress.fixed&&l.css(i.progress_fixed).css("top","auto"),n.progressClass?s.progress.bar.addClass(n.progressClass):n.progressColor&&s.progress.bar.css("background",n.progressColor)}n.fade?!0===n.fade?n.fade=o.fade:"string"==typeof n.fade||"number"==typeof n.fade?n.fade=[n.fade,n.fade]:t.isArray(n.fade)&&n.fade.length<2&&(n.fade=[n.fade[0],n.fade[0]]):n.fade=[0,0],n.fade=[parseInt(n.fade[0],10),parseInt(n.fade[1],10)],s.settings=n,a.data("loadingoverlay_data",s),e.data("loadingoverlay",a),a.fadeTo(0,.01).appendTo("body"),u(e,!0),0<n.resizeInterval&&(s.resizeIntervalId=setInterval((function(){u(e,!1)}),n.resizeInterval)),a.fadeTo(n.fade[0],1)}s.count++}function l(e,n){var i=f(e=t(e)),r=g(e);!1!==r&&(r.count--,(n||r.count<=0)&&i.animate({opacity:0},r.settings.fade[1],(function(){r.resizeIntervalId&&clearInterval(r.resizeIntervalId),t(this).remove(),e.removeData("loadingoverlay")})))}function h(e){u(t(e),!0)}function c(e,n){var i=g(e=t(e));!1!==i&&i.text&&(!1===n?i.text.hide():i.text.show().text(n))}function d(e,n){var i=g(e=t(e));if(!1!==i&&i.progress)if(!1===n)i.progress.bar.hide();else{var r=100*((parseFloat(n)||0)-i.progress.min)/(i.progress.max-i.progress.min);r<0&&(r=0),100<r&&(r=100),i.progress.bar.show().animate({width:r+"%"},i.progress.speed)}}function u(e,n){var i=f(e),r=g(e);if(!1!==r){if(!r.wholePage){var a="fixed"===e.css("position"),o=a?e[0].getBoundingClientRect():e.offset();i.css({position:a?"fixed":"absolute",top:o.top+parseInt(e.css("border-top-width"),10),left:o.left+parseInt(e.css("border-left-width"),10),width:e.innerWidth(),height:e.innerHeight()})}if(r.settings.size){var s=r.wholePage?t(window):e,l=r.settings.size.value;r.settings.size.fixed||(l=Math.min(s.innerWidth(),s.innerHeight())*l/100,r.settings.maxSize&&l>r.settings.maxSize&&(l=r.settings.maxSize),r.settings.minSize&&l<r.settings.minSize&&(l=r.settings.minSize)),i.children(".loadingoverlay_element").each((function(){var e=t(this);if(n||e.data("loadingoverlay_autoresize")){var i=e.data("loadingoverlay_resizefactor");e.hasClass("loadingoverlay_fa")||e.hasClass("loadingoverlay_text")?e.css("font-size",l*i+r.settings.size.units):e.hasClass("loadingoverlay_progress")?(r.progress.bar.css("height",l*i+r.settings.size.units),r.progress.fixed?"bottom"===r.progress.fixed&&e.css("bottom",r.progress.margin?r.progress.margin.value+(r.progress.margin.fixed?r.progress.margin.units:"%"):0).css("bottom","+="+l*i+r.settings.size.units):r.progress.bar.css("top",e.position().top).css("top","-="+l*i*.5+r.settings.size.units)):e.css({width:l*i+r.settings.size.units,height:l*i+r.settings.size.units})}}))}}}function f(t){return t.data("loadingoverlay")}function g(n){var i=f(n),r=void 0===i?e:i.data("loadingoverlay_data");return void 0===r?(t(".loadingoverlay").each((function(){var e=t(this),n=e.data("loadingoverlay_data");document.body.contains(n.container[0])||(n.resizeIntervalId&&clearInterval(n.resizeIntervalId),e.remove())})),!1):(i.toggle(n.is(":visible")),r)}function p(e,n,r,a,s){var l=t("<div>",{class:"loadingoverlay_element",css:{order:n}}).css(i.element).data({loadingoverlay_autoresize:r,loadingoverlay_resizefactor:a}).appendTo(e);if(!0===s&&(s=o.animations.time+" "+o.animations.name),"string"==typeof s){var h,c,d=s.replace(/\s\s+/g," ").toLowerCase().split(" ");2===d.length&&m(d[0])&&v(d[1])?(h=d[1],c=d[0]):2===d.length&&m(d[1])&&v(d[0])?(h=d[0],c=d[1]):1===d.length&&m(d[0])?(h=o.animations.name,c=d[0]):1===d.length&&v(d[0])&&(h=d[0],c=o.animations.time),l.css({"animation-name":"loadingoverlay_animation__"+h,"animation-duration":c,"animation-timing-function":"linear","animation-iteration-count":"infinite"})}return l}function m(t){return!isNaN(parseFloat(t))&&("s"===t.slice(-1)||"ms"===t.slice(-2))}function v(t){return-1<a.animations.indexOf(t)}function y(t){return-1<a.progressPosition.indexOf(t)}function _(t){return!(!t||t<0)&&("string"==typeof t&&-1<["vmin","vmax"].indexOf(t.slice(-4))?{fixed:!0,units:t.slice(-4),value:t.slice(0,-4)}:"string"==typeof t&&-1<["rem"].indexOf(t.slice(-3))?{fixed:!0,units:t.slice(-3),value:t.slice(0,-3)}:"string"==typeof t&&-1<["px","em","cm","mm","in","pt","pc","vh","vw"].indexOf(t.slice(-2))?{fixed:!0,units:t.slice(-2),value:t.slice(0,-2)}:{fixed:!1,units:"px",value:parseFloat(t)})}t.LoadingOverlaySetup=function(e){t.extend(!0,n,e)},t.LoadingOverlay=function(e,i){switch(e.toLowerCase()){case"show":s("body",t.extend(!0,{},n,i));break;case"hide":l("body",i);break;case"resize":h("body");break;case"text":c("body",i);break;case"progress":d("body",i)}},t.fn.LoadingOverlay=function(e,i){switch(e.toLowerCase()){case"show":return this.each((function(){s(this,t.extend(!0,{},n,i))}));case"hide":return this.each((function(){l(this,i)}));case"resize":return this.each((function(){h(this)}));case"text":return this.each((function(){c(this,i)}));case"progress":return this.each((function(){d(this,i)}))}},t((function(){t("head").append(["<style>","@-webkit-keyframes loadingoverlay_animation__rotate_right {","to {","-webkit-transform : rotate(360deg);","transform : rotate(360deg);","}","}","@keyframes loadingoverlay_animation__rotate_right {","to {","-webkit-transform : rotate(360deg);","transform : rotate(360deg);","}","}","@-webkit-keyframes loadingoverlay_animation__rotate_left {","to {","-webkit-transform : rotate(-360deg);","transform : rotate(-360deg);","}","}","@keyframes loadingoverlay_animation__rotate_left {","to {","-webkit-transform : rotate(-360deg);","transform : rotate(-360deg);","}","}","@-webkit-keyframes loadingoverlay_animation__fadein {","0% {","opacity   : 0;","-webkit-transform : scale(0.1, 0.1);","transform : scale(0.1, 0.1);","}","50% {","opacity   : 1;","}","100% {","opacity   : 0;","-webkit-transform : scale(1, 1);","transform : scale(1, 1);","}","}","@keyframes loadingoverlay_animation__fadein {","0% {","opacity   : 0;","-webkit-transform : scale(0.1, 0.1);","transform : scale(0.1, 0.1);","}","50% {","opacity   : 1;","}","100% {","opacity   : 0;","-webkit-transform : scale(1, 1);","transform : scale(1, 1);","}","}","@-webkit-keyframes loadingoverlay_animation__pulse {","0% {","-webkit-transform : scale(0, 0);","transform : scale(0, 0);","}","50% {","-webkit-transform : scale(1, 1);","transform : scale(1, 1);","}","100% {","-webkit-transform : scale(0, 0);","transform : scale(0, 0);","}","}","@keyframes loadingoverlay_animation__pulse {","0% {","-webkit-transform : scale(0, 0);","transform : scale(0, 0);","}","50% {","-webkit-transform : scale(1, 1);","transform : scale(1, 1);","}","100% {","-webkit-transform : scale(0, 0);","transform : scale(0, 0);","}","}","</style>"].join(" "))}))},void 0===(a="function"==typeof i?i.apply(e,r):i)||(t.exports=a)},755:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var a=[],o=Object.getPrototypeOf,s=a.slice,l=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},h=a.push,c=a.indexOf,d={},u=d.toString,f=d.hasOwnProperty,g=f.toString,p=g.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},y=function(t){return null!=t&&t===t.window},_=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function C(t,e,n){var i,r,a=(n=n||_).createElement("script");if(a.text=t,e)for(i in b)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&a.setAttribute(i,r);n.head.appendChild(a).parentNode.removeChild(a)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[u.call(t)]||"object":typeof t}var S="3.6.0",x=function(t,e){return new x.fn.init(t,e)};function T(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}x.fn=x.prototype={jquery:S,constructor:x,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=x.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return x.each(this,t)},map:function(t){return this.pushStack(x.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(x.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:a.sort,splice:a.splice},x.extend=x.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[s]||{},s++),"object"==typeof o||v(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&o!==i&&(h&&i&&(x.isPlainObject(i)||(r=Array.isArray(i)))?(n=o[e],a=r&&!Array.isArray(n)?[]:r||x.isPlainObject(n)?n:{},r=!1,o[e]=x.extend(h,a,i)):void 0!==i&&(o[e]=i));return o},x.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==u.call(t))&&(!(e=o(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&g.call(n)===p)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){C(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(T(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?x.merge(n,"string"==typeof t?[t]:t):h.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,o=[];if(T(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&o.push(r);return l(o)},guid:1,support:m}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=a[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){d["[object "+e+"]"]=e.toLowerCase()}));var E=function(t){var e,n,i,r,a,o,s,l,h,c,d,u,f,g,p,m,v,y,_,b="sizzle"+1*new Date,C=t.document,w=0,S=0,x=lt(),T=lt(),E=lt(),k=lt(),A=function(t,e){return t===e&&(d=!0),0},O={}.hasOwnProperty,D=[],P=D.pop,I=D.push,L=D.push,M=D.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",G="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+G+"*([*^$|!~]?=)"+G+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+G+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",j=new RegExp(G+"+","g"),W=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),z=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),q=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),U=new RegExp(G+"|>"),V=new RegExp(B),Y=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=function(){u()},ot=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{L.apply(D=M.call(C.childNodes),C.childNodes),D[C.childNodes.length].nodeType}catch(t){L={apply:D.length?function(t,e){I.apply(t,M.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,r){var a,s,h,c,d,g,v,y=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!r&&(u(e),e=e||f,p)){if(11!==C&&(d=Z.exec(t)))if(a=d[1]){if(9===C){if(!(h=e.getElementById(a)))return i;if(h.id===a)return i.push(h),i}else if(y&&(h=y.getElementById(a))&&_(e,h)&&h.id===a)return i.push(h),i}else{if(d[2])return L.apply(i,e.getElementsByTagName(t)),i;if((a=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(i,e.getElementsByClassName(a)),i}if(n.qsa&&!k[t+" "]&&(!m||!m.test(t))&&(1!==C||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===C&&(U.test(t)||q.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((c=e.getAttribute("id"))?c=c.replace(it,rt):e.setAttribute("id",c=b)),s=(g=o(t)).length;s--;)g[s]=(c?"#"+c:":scope")+" "+_t(g[s]);v=g.join(",")}try{return L.apply(i,y.querySelectorAll(v)),i}catch(e){k(t,!0)}finally{c===b&&e.removeAttribute("id")}}}return l(t.replace(W,"$1"),e,i,r)}function lt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ht(t){return t[b]=!0,t}function ct(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function gt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ht((function(e){return e=+e,ht((function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},a=st.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!$.test(e||n&&n.nodeName||"HTML")},u=st.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:C;return o!=f&&9===o.nodeType&&o.documentElement?(g=(f=o).documentElement,p=!a(f),C!=f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",at,!1):r.attachEvent&&r.attachEvent("onunload",at)),n.scope=ct((function(t){return g.appendChild(t).appendChild(f.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=ct((function(t){return g.appendChild(t).id=b,!f.getElementsByName||!f.getElementsByName(b).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var n,i,r,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(r=e.getElementsByName(t),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&p)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=J.test(f.querySelectorAll))&&(ct((function(t){var e;g.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+R+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),(e=f.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),g.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=J.test(y=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.oMatchesSelector||g.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(g.compareDocumentPosition),_=e||J.test(g.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==f||t.ownerDocument==C&&_(C,t)?-1:e==f||e.ownerDocument==C&&_(C,e)?1:c?N(c,t)-N(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t==f?-1:e==f?1:r?-1:a?1:c?N(c,t)-N(c,e):0;if(r===a)return ut(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?ut(o[i],s[i]):o[i]==C?-1:s[i]==C?1:0},f):f},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&p&&!k[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){k(e,!0)}return st(e,f,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=f&&u(t),_(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=f&&u(t);var r=i.attrHandle[e.toLowerCase()],a=r&&O.call(i.attrHandle,e.toLowerCase())?r(t,e,!p):void 0;return void 0!==a?a:n.attributes||!p?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},st.escape=function(t){return(t+"").replace(it,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],r=0,a=0;if(d=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(A),d){for(;e=t[a++];)e===t[a]&&(r=i.push(a));for(;r--;)t.splice(i[r],1)}return c=null,t},r=st.getText=function(t){var e,n="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},i=st.selectors={cacheLength:50,createPseudo:ht,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=o(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+G+"|$)"))&&x(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=st.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(j," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var h,c,d,u,f,g,p=a!==o?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(m){if(a){for(;p;){for(u=e;u=u[p];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;g=p="only"===t&&!g&&"nextSibling"}return!0}if(g=[o?m.firstChild:m.lastChild],o&&y){for(_=(f=(h=(c=(d=(u=m)[b]||(u[b]={}))[u.uniqueID]||(d[u.uniqueID]={}))[t]||[])[0]===w&&h[1])&&h[2],u=f&&m.childNodes[f];u=++f&&u&&u[p]||(_=f=0)||g.pop();)if(1===u.nodeType&&++_&&u===e){c[t]=[w,f,_];break}}else if(y&&(_=f=(h=(c=(d=(u=e)[b]||(u[b]={}))[u.uniqueID]||(d[u.uniqueID]={}))[t]||[])[0]===w&&h[1]),!1===_)for(;(u=++f&&u&&u[p]||(_=f=0)||g.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++_||(y&&((c=(d=u[b]||(u[b]={}))[u.uniqueID]||(d[u.uniqueID]={}))[t]=[w,_]),u!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ht((function(t,n){for(var i,a=r(t,e),o=a.length;o--;)t[i=N(t,a[o])]=!(n[i]=a[o])})):function(t){return r(t,0,n)}):r}},pseudos:{not:ht((function(t){var e=[],n=[],i=s(t.replace(W,"$1"));return i[b]?ht((function(t,e,n,r){for(var a,o=i(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))})):function(t,r,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}})),has:ht((function(t){return function(e){return st(t,e).length>0}})),contains:ht((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ht((function(t){return Y.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=p?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===g},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt((function(){return[0]})),last:mt((function(t,e){return[e-1]})),eq:mt((function(t,e,n){return[n<0?n+e:n]})),even:mt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:mt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:mt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:mt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=gt(e);function yt(){}function _t(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=e.next,a=r||i,o=n&&"parentNode"===a,s=S++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r);return!1}:function(e,n,l){var h,c,d,u=[w,s];if(l){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(c=(d=e[b]||(e[b]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((h=c[a])&&h[0]===w&&h[1]===s)return u[2]=h[2];if(c[a]=u,u[2]=t(e,n,l))return!0}return!1}}function Ct(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,h=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,i,r)||(o.push(a),h&&e.push(s)));return o}function St(t,e,n,i,r,a){return i&&!i[b]&&(i=St(i)),r&&!r[b]&&(r=St(r,a)),ht((function(a,o,s,l){var h,c,d,u=[],f=[],g=o.length,p=a||function(t,e,n){for(var i=0,r=e.length;i<r;i++)st(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!a&&e?p:wt(p,u,t,s,l),v=n?r||(a?t:g||i)?[]:o:m;if(n&&n(m,v,s,l),i)for(h=wt(v,f),i(h,[],s,l),c=h.length;c--;)(d=h[c])&&(v[f[c]]=!(m[f[c]]=d));if(a){if(r||t){if(r){for(h=[],c=v.length;c--;)(d=v[c])&&h.push(m[c]=d);r(null,v=[],h,l)}for(c=v.length;c--;)(d=v[c])&&(h=r?N(a,d):u[c])>-1&&(a[h]=!(o[h]=d))}}else v=wt(v===o?v.splice(g,v.length):v),r?r(null,o,v,l):L.apply(o,v)}))}function xt(t){for(var e,n,r,a=t.length,o=i.relative[t[0].type],s=o||i.relative[" "],l=o?1:0,c=bt((function(t){return t===e}),s,!0),d=bt((function(t){return N(e,t)>-1}),s,!0),u=[function(t,n,i){var r=!o&&(i||n!==h)||((e=n).nodeType?c(t,n,i):d(t,n,i));return e=null,r}];l<a;l++)if(n=i.relative[t[l].type])u=[bt(Ct(u),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<a&&!i.relative[t[r].type];r++);return St(l>1&&Ct(u),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(W,"$1"),n,l<r&&xt(t.slice(l,r)),r<a&&xt(t=t.slice(r)),r<a&&_t(t))}u.push(n)}return Ct(u)}return yt.prototype=i.filters=i.pseudos,i.setFilters=new yt,o=st.tokenize=function(t,e){var n,r,a,o,s,l,h,c=T[t+" "];if(c)return e?0:c.slice(0);for(s=t,l=[],h=i.preFilter;s;){for(o in n&&!(r=z.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=q.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length)),i.filter)!(r=X[o].exec(s))||h[o]&&!(r=h[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):T(t,l).slice(0)},s=st.compile=function(t,e){var n,r=[],a=[],s=E[t+" "];if(!s){for(e||(e=o(t)),n=e.length;n--;)(s=xt(e[n]))[b]?r.push(s):a.push(s);s=E(t,function(t,e){var n=e.length>0,r=t.length>0,a=function(a,o,s,l,c){var d,g,m,v=0,y="0",_=a&&[],b=[],C=h,S=a||r&&i.find.TAG("*",c),x=w+=null==C?1:Math.random()||.1,T=S.length;for(c&&(h=o==f||o||c);y!==T&&null!=(d=S[y]);y++){if(r&&d){for(g=0,o||d.ownerDocument==f||(u(d),s=!p);m=t[g++];)if(m(d,o||f,s)){l.push(d);break}c&&(w=x)}n&&((d=!m&&d)&&v--,a&&_.push(d))}if(v+=y,n&&y!==v){for(g=0;m=e[g++];)m(_,b,o,s);if(a){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=P.call(l));b=wt(b)}L.apply(l,b),c&&!a&&b.length>0&&v+e.length>1&&st.uniqueSort(l)}return c&&(w=x,h=C),_};return n?ht(a):a}(a,r)),s.selector=t}return s},l=st.select=function(t,e,n,r){var a,l,h,c,d,u="function"==typeof t&&t,f=!r&&o(t=u.selector||t);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(h=l[0]).type&&9===e.nodeType&&p&&i.relative[l[1].type]){if(!(e=(i.find.ID(h.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(a=X.needsContext.test(t)?0:l.length;a--&&(h=l[a],!i.relative[c=h.type]);)if((d=i.find[c])&&(r=d(h.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(a,1),!(t=r.length&&_t(l)))return L.apply(n,r),n;break}}return(u||s(t,f))(r,e,!p,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=b.split("").sort(A).join("")===b,n.detectDuplicates=!!d,u(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||dt("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||dt("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||dt(R,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),st}(i);x.find=E,x.expr=E.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=E.uniqueSort,x.text=E.getText,x.isXMLDoc=E.isXML,x.contains=E.contains,x.escapeSelector=E.escape;var k=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&x(t).is(n))break;i.push(t)}return i},A=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},O=x.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,e,n){return v(e)?x.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?x.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?x.grep(t,(function(t){return c.call(e,t)>-1!==n})):x.filter(e,t,n)}x.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?x.find.matchesSelector(i,t)?[i]:[]:x.find.matches(t,x.grep(e,(function(t){return 1===t.nodeType})))},x.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(x(t).filter((function(){for(e=0;e<i;e++)if(x.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)x.find(t,r[e],n);return i>1?x.uniqueSort(n):n},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&O.test(t)?x(t):t||[],!1).length}});var L,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||L,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof x?e[0]:e,x.merge(this,x.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:_,!0)),P.test(i[1])&&x.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=_.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(x):x.makeArray(t,this)}).prototype=x.fn,L=x(_);var N=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function G(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}x.fn.extend({has:function(t){var e=x(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(x.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,a=[],o="string"!=typeof t&&x(t);if(!O.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?x.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?c.call(x(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),x.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return G(t,"nextSibling")},prev:function(t){return G(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return A((t.parentNode||{}).firstChild,t)},children:function(t){return A(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(D(t,"template")&&(t=t.content||t),x.merge([],t.childNodes))}},(function(t,e){x.fn[t]=function(n,i){var r=x.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=x.filter(i,r)),this.length>1&&(R[t]||x.uniqueSort(r),N.test(t)&&r.reverse()),this.pushStack(r)}}));var F=/[^\x20\t\r\n\f]+/g;function H(t){return t}function B(t){throw t}function j(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}x.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return x.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):x.extend({},t);var e,n,i,r,a=[],o=[],s=-1,l=function(){for(r=r||t.once,i=e=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},h={add:function(){return a&&(n&&!e&&(s=a.length-1,o.push(n)),function e(n){x.each(n,(function(n,i){v(i)?t.unique&&h.has(i)||a.push(i):i&&i.length&&"string"!==w(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return x.each(arguments,(function(t,e){for(var n;(n=x.inArray(e,a,n))>-1;)a.splice(n,1),n<=s&&s--})),this},has:function(t){return t?x.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],n||e||(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},x.extend({Deferred:function(t){var e=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return x.Deferred((function(n){x.each(e,(function(e,i){var r=v(t[i[4]])&&t[i[4]];a[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,r){var a=0;function o(t,e,n,r){return function(){var s=this,l=arguments,h=function(){var i,h;if(!(t<a)){if((i=n.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");h=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(h)?r?h.call(i,o(a,e,H,r),o(a,e,B,r)):(a++,h.call(i,o(a,e,H,r),o(a,e,B,r),o(a,e,H,e.notifyWith))):(n!==H&&(s=void 0,l=[i]),(r||e.resolveWith)(s,l))}},c=r?h:function(){try{h()}catch(i){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(i,c.stackTrace),t+1>=a&&(n!==B&&(s=void 0,l=[i]),e.rejectWith(s,l))}};t?c():(x.Deferred.getStackHook&&(c.stackTrace=x.Deferred.getStackHook()),i.setTimeout(c))}}return x.Deferred((function(i){e[0][3].add(o(0,i,v(r)?r:H,i.notifyWith)),e[1][3].add(o(0,i,v(t)?t:H)),e[2][3].add(o(0,i,v(n)?n:B))})).promise()},promise:function(t){return null!=t?x.extend(t,r):r}},a={};return x.each(e,(function(t,i){var o=i[2],s=i[5];r[i[1]]=o.add,s&&o.add((function(){n=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=o.fireWith})),r.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,i=Array(n),r=s.call(arguments),a=x.Deferred(),o=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?s.call(arguments):n,--e||a.resolveWith(i,r)}};if(e<=1&&(j(t,a.done(o(n)).resolve,a.reject,!e),"pending"===a.state()||v(r[n]&&r[n].then)))return a.then();for(;n--;)j(r[n],o(n),a.reject);return a.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&W.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},x.readyException=function(t){i.setTimeout((function(){throw t}))};var z=x.Deferred();function q(){_.removeEventListener("DOMContentLoaded",q),i.removeEventListener("load",q),x.ready()}x.fn.ready=function(t){return z.then(t).catch((function(t){x.readyException(t)})),this},x.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==t&&--x.readyWait>0||z.resolveWith(_,[x]))}}),x.ready.then=z.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?i.setTimeout(x.ready):(_.addEventListener("DOMContentLoaded",q),i.addEventListener("load",q));var U=function(t,e,n,i,r,a,o){var s=0,l=t.length,h=null==n;if("object"===w(n))for(s in r=!0,n)U(t,e,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,v(i)||(o=!0),h&&(o?(e.call(t,i),e=null):(h=e,e=function(t,e,n){return h.call(x(t),n)})),e))for(;s<l;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:h?e.call(t):l?e(t[0],n):a},V=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function $(t){return t.replace(V,"ms-").replace(Y,X)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=x.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[$(e)]=n;else for(i in e)r[$(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][$(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map($):(e=$(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||x.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!x.isEmptyObject(e)}};var J=new Q,Z=new Q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}x.extend({hasData:function(t){return Z.hasData(t)||J.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),x.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=Z.get(a),1===a.nodeType&&!J.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=$(i.slice(5)),nt(a,i,r[i]));J.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){Z.set(this,t)})):U(this,(function(e){var n;if(a&&void 0===e)return void 0!==(n=Z.get(a,t))||void 0!==(n=nt(a,t))?n:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),x.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=x.queue(t,e),i=n.length,r=n.shift(),a=x._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,(function(){x.dequeue(t,e)}),a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:x.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",n])}))})}}),x.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?x.queue(this[0],t):void 0===e?this:this.each((function(){var n=x.queue(this,t,e);x._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&x.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){x.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=x.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=J.get(a[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),at=["Top","Right","Bottom","Left"],ot=_.documentElement,st=function(t){return x.contains(t.ownerDocument,t)},lt={composed:!0};ot.getRootNode&&(st=function(t){return x.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ht=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===x.css(t,"display")};function ct(t,e,n,i){var r,a,o=20,s=i?function(){return i.cur()}:function(){return x.css(t,e,"")},l=s(),h=n&&n[3]||(x.cssNumber[e]?"":"px"),c=t.nodeType&&(x.cssNumber[e]||"px"!==h&&+l)&&rt.exec(x.css(t,e));if(c&&c[3]!==h){for(l/=2,h=h||c[3],c=+l||1;o--;)x.style(t,e,c+h),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;c*=2,x.style(t,e,c+h),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=h,i.start=c,i.end=r)),r}var dt={};function ut(t){var e,n=t.ownerDocument,i=t.nodeName,r=dt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=x.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),dt[i]=r,r)}function ft(t,e){for(var n,i,r=[],a=0,o=t.length;a<o;a++)(i=t[a]).style&&(n=i.style.display,e?("none"===n&&(r[a]=J.get(i,"display")||null,r[a]||(i.style.display="")),""===i.style.display&&ht(i)&&(r[a]=ut(i))):"none"!==n&&(r[a]="none",J.set(i,"display",n)));for(a=0;a<o;a++)null!=r[a]&&(t[a].style.display=r[a]);return t}x.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ht(this)?x(this).show():x(this).hide()}))}});var gt,pt,mt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;gt=_.createDocumentFragment().appendChild(_.createElement("div")),(pt=_.createElement("input")).setAttribute("type","radio"),pt.setAttribute("checked","checked"),pt.setAttribute("name","t"),gt.appendChild(pt),m.checkClone=gt.cloneNode(!0).cloneNode(!0).lastChild.checked,gt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!gt.cloneNode(!0).lastChild.defaultValue,gt.innerHTML="<option></option>",m.option=!!gt.lastChild;var _t={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?x.merge([t],n):n}function Ct(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td,m.option||(_t.optgroup=_t.option=[1,"<select multiple='multiple'>","</select>"]);var wt=/<|&#?\w+;/;function St(t,e,n,i,r){for(var a,o,s,l,h,c,d=e.createDocumentFragment(),u=[],f=0,g=t.length;f<g;f++)if((a=t[f])||0===a)if("object"===w(a))x.merge(u,a.nodeType?[a]:a);else if(wt.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(vt.exec(a)||["",""])[1].toLowerCase(),l=_t[s]||_t._default,o.innerHTML=l[1]+x.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;x.merge(u,o.childNodes),(o=d.firstChild).textContent=""}else u.push(e.createTextNode(a));for(d.textContent="",f=0;a=u[f++];)if(i&&x.inArray(a,i)>-1)r&&r.push(a);else if(h=st(a),o=bt(d.appendChild(a),"script"),h&&Ct(o),n)for(c=0;a=o[c++];)yt.test(a.type||"")&&n.push(a);return d}var xt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Et(){return!1}function kt(t,e){return t===function(){try{return _.activeElement}catch(t){}}()==("focus"===e)}function At(t,e,n,i,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)At(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Et;else if(!r)return t;return 1===a&&(o=r,r=function(t){return x().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=x.guid++)),t.each((function(){x.event.add(this,e,r,i,n)}))}function Ot(t,e,n){n?(J.set(t,e,!1),x.event.add(t,e,{namespace:!1,handler:function(t){var i,r,a=J.get(this,e);if(1&t.isTrigger&&this[e]){if(a.length)(x.event.special[e]||{}).delegateType&&t.stopPropagation();else if(a=s.call(arguments),J.set(this,e,a),i=n(this,e),this[e](),a!==(r=J.get(this,e))||i?J.set(this,e,!1):r={},a!==r)return t.stopImmediatePropagation(),t.preventDefault(),r&&r.value}else a.length&&(J.set(this,e,{value:x.event.trigger(x.extend(a[0],x.Event.prototype),a.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&x.event.add(t,e,Tt)}x.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,h,c,d,u,f,g,p,m=J.get(t);if(K(t))for(n.handler&&(n=(a=n).handler,r=a.selector),r&&x.find.matchesSelector(ot,r),n.guid||(n.guid=x.guid++),(l=m.events)||(l=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(e){return void 0!==x&&x.event.triggered!==e.type?x.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(F)||[""]).length;h--;)f=p=(s=xt.exec(e[h])||[])[1],g=(s[2]||"").split(".").sort(),f&&(d=x.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=x.event.special[f]||{},c=x.extend({type:f,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:g.join(".")},a),(u=l[f])||((u=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,g,o)||t.addEventListener&&t.addEventListener(f,o)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?u.splice(u.delegateCount++,0,c):u.push(c),x.event.global[f]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,h,c,d,u,f,g,p,m=J.hasData(t)&&J.get(t);if(m&&(l=m.events)){for(h=(e=(e||"").match(F)||[""]).length;h--;)if(f=p=(s=xt.exec(e[h])||[])[1],g=(s[2]||"").split(".").sort(),f){for(d=x.event.special[f]||{},u=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=u.length;a--;)c=u[a],!r&&p!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(u.splice(a,1),c.selector&&u.delegateCount--,d.remove&&d.remove.call(t,c));o&&!u.length&&(d.teardown&&!1!==d.teardown.call(t,g,m.handle)||x.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)x.event.remove(t,f+e[h],n,i,!0);x.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,a,o,s=new Array(arguments.length),l=x.event.fix(t),h=(J.get(this,"events")||Object.create(null))[l.type]||[],c=x.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(o=x.event.handlers.call(this,l,h),e=0;(r=o[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(i=((x.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,a,o,s=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(a=[],o={},n=0;n<l;n++)void 0===o[r=(i=e[n]).selector+" "]&&(o[r]=i.needsContext?x(r,this).index(h)>-1:x.find(r,this,null,[h]).length),o[r]&&a.push(i);a.length&&s.push({elem:h,handlers:a})}return h=this,l<e.length&&s.push({elem:h,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(x.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[x.expando]?t:new x.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&D(e,"input")&&Ot(e,"click",Tt),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&D(e,"input")&&Ot(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&D(e,"input")&&J.get(e,"click")||D(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},x.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},x.Event=function(t,e){if(!(this instanceof x.Event))return new x.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&x.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(t,e){x.event.special[t]={setup:function(){return Ot(this,t,kt),!1},trigger:function(){return Ot(this,t),!0},_default:function(){return!0},delegateType:e}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){x.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,a=t.handleObj;return r&&(r===i||x.contains(i,r))||(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}})),x.fn.extend({on:function(t,e,n,i){return At(this,t,e,n,i)},one:function(t,e,n,i){return At(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,x(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Et),this.each((function(){x.event.remove(this,t,n,e)}))}});var Dt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&x(t).children("tbody")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Nt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,i,r,a,o,s;if(1===e.nodeType){if(J.hasData(t)&&(s=J.get(t).events))for(r in J.remove(e,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)x.event.add(e,r,s[r][n]);Z.hasData(t)&&(a=Z.access(t),o=x.extend({},a),Z.set(e,o))}}function Gt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&mt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ft(t,e,n,i){e=l(e);var r,a,o,s,h,c,d=0,u=t.length,f=u-1,g=e[0],p=v(g);if(p||u>1&&"string"==typeof g&&!m.checkClone&&Pt.test(g))return t.each((function(r){var a=t.eq(r);p&&(e[0]=g.call(this,r,a.html())),Ft(a,e,n,i)}));if(u&&(a=(r=St(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(o=x.map(bt(r,"script"),Mt)).length;d<u;d++)h=r,d!==f&&(h=x.clone(h,!0,!0),s&&x.merge(o,bt(h,"script"))),n.call(t[d],h,d);if(s)for(c=o[o.length-1].ownerDocument,x.map(o,Nt),d=0;d<s;d++)h=o[d],yt.test(h.type||"")&&!J.access(h,"globalEval")&&x.contains(c,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?x._evalUrl&&!h.noModule&&x._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},c):C(h.textContent.replace(It,""),h,c))}return t}function Ht(t,e,n){for(var i,r=e?x.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||x.cleanData(bt(i)),i.parentNode&&(n&&st(i)&&Ct(bt(i,"script")),i.parentNode.removeChild(i));return t}x.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,a,o,s=t.cloneNode(!0),l=st(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||x.isXMLDoc(t)))for(o=bt(s),i=0,r=(a=bt(t)).length;i<r;i++)Gt(a[i],o[i]);if(e)if(n)for(a=a||bt(t),o=o||bt(s),i=0,r=a.length;i<r;i++)Rt(a[i],o[i]);else Rt(t,s);return(o=bt(s,"script")).length>0&&Ct(o,!l&&bt(t,"script")),s},cleanData:function(t){for(var e,n,i,r=x.event.special,a=0;void 0!==(n=t[a]);a++)if(K(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),x.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return U(this,(function(t){return void 0===t?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ft(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,t).appendChild(t)}))},prepend:function(){return Ft(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ft(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(x.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return x.clone(this,t,e)}))},html:function(t){return U(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!_t[(vt.exec(t)||["",""])[1].toLowerCase()]){t=x.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(x.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,(function(e){var n=this.parentNode;x.inArray(this,t)<0&&(x.cleanData(bt(this)),n&&n.replaceChild(e,this))}),t)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){x.fn[t]=function(t){for(var n,i=[],r=x(t),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),x(r[o])[e](n),h.apply(i,n.get());return this.pushStack(i)}}));var Bt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),jt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Wt=function(t,e,n){var i,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=a[r];return i},zt=new RegExp(at.join("|"),"i");function qt(t,e,n){var i,r,a,o,s=t.style;return(n=n||jt(t))&&(""!==(o=n.getPropertyValue(e)||n[e])||st(t)||(o=x.style(t,e)),!m.pixelBoxStyles()&&Bt.test(o)&&zt.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(h).appendChild(c);var t=i.getComputedStyle(c);n="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",o=36===e(t.right),r=36===e(t.width),c.style.position="absolute",a=12===e(c.offsetWidth/3),ot.removeChild(h),c=null}}function e(t){return Math.round(parseFloat(t))}var n,r,a,o,s,l,h=_.createElement("div"),c=_.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,x.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,e,n,r;return null==s&&(t=_.createElement("table"),e=_.createElement("tr"),n=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",ot.appendChild(t).appendChild(e).appendChild(n),r=i.getComputedStyle(e),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===e.offsetHeight,ot.removeChild(t)),s}}))}();var Vt=["Webkit","Moz","ms"],Yt=_.createElement("div").style,Xt={};function $t(t){var e=x.cssProps[t]||Xt[t];return e||(t in Yt?t:Xt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Vt.length;n--;)if((t=Vt[n]+e)in Yt)return t}(t)||t)}var Kt=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,Jt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"};function te(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ee(t,e,n,i,r,a){var o="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=x.css(t,n+at[o],!0,r)),i?("content"===n&&(l-=x.css(t,"padding"+at[o],!0,r)),"margin"!==n&&(l-=x.css(t,"border"+at[o]+"Width",!0,r))):(l+=x.css(t,"padding"+at[o],!0,r),"padding"!==n?l+=x.css(t,"border"+at[o]+"Width",!0,r):s+=x.css(t,"border"+at[o]+"Width",!0,r));return!i&&a>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-s-.5))||0),l}function ne(t,e,n){var i=jt(t),r=(!m.boxSizingReliable()||n)&&"border-box"===x.css(t,"boxSizing",!1,i),a=r,o=qt(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(Bt.test(o)){if(!n)return o;o="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&D(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===x.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===x.css(t,"boxSizing",!1,i),(a=s in t)&&(o=t[s])),(o=parseFloat(o)||0)+ee(t,e,n||(r?"border":"content"),a,i,o)+"px"}function ie(t,e,n,i,r){return new ie.prototype.init(t,e,n,i,r)}x.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=$(e),l=Qt.test(e),h=t.style;if(l||(e=$t(s)),o=x.cssHooks[e]||x.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:h[e];"string"===(a=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ct(t,e,r),a="number"),null!=n&&n==n&&("number"!==a||l||(n+=r&&r[3]||(x.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l?h.setProperty(e,n):h[e]=n))}},css:function(t,e,n,i){var r,a,o,s=$(e);return Qt.test(e)||(e=$t(s)),(o=x.cssHooks[e]||x.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=qt(t,e,i)),"normal"===r&&e in Zt&&(r=Zt[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),x.each(["height","width"],(function(t,e){x.cssHooks[e]={get:function(t,n,i){if(n)return!Kt.test(x.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,e,i):Wt(t,Jt,(function(){return ne(t,e,i)}))},set:function(t,n,i){var r,a=jt(t),o=!m.scrollboxSize()&&"absolute"===a.position,s=(o||i)&&"border-box"===x.css(t,"boxSizing",!1,a),l=i?ee(t,e,i,s,a):0;return s&&o&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-ee(t,e,"border",!1,a)-.5)),l&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=x.css(t,e)),te(0,n,l)}}})),x.cssHooks.marginLeft=Ut(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(t,e){x.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+at[i]+e]=a[i]||a[i-2]||a[0];return r}},"margin"!==t&&(x.cssHooks[t+e].set=te)})),x.fn.extend({css:function(t,e){return U(this,(function(t,e,n){var i,r,a={},o=0;if(Array.isArray(e)){for(i=jt(t),r=e.length;o<r;o++)a[e[o]]=x.css(t,e[o],!1,i);return a}return void 0!==n?x.style(t,e,n):x.css(t,e)}),t,e,arguments.length>1)}}),x.Tween=ie,ie.prototype={constructor:ie,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||x.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(x.cssNumber[n]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,n=ie.propHooks[this.prop];return this.options.duration?this.pos=e=x.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ie.propHooks._default.set(this),this}},ie.prototype.init.prototype=ie.prototype,ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=x.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){x.fx.step[t.prop]?x.fx.step[t.prop](t):1!==t.elem.nodeType||!x.cssHooks[t.prop]&&null==t.elem.style[$t(t.prop)]?t.elem[t.prop]=t.now:x.style(t.elem,t.prop,t.now+t.unit)}}},ie.propHooks.scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},x.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},x.fx=ie.prototype.init,x.fx.step={};var re,ae,oe=/^(?:toggle|show|hide)$/,se=/queueHooks$/;function le(){ae&&(!1===_.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(le):i.setTimeout(le,x.fx.interval),x.fx.tick())}function he(){return i.setTimeout((function(){re=void 0})),re=Date.now()}function ce(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=at[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function de(t,e,n){for(var i,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function ue(t,e,n){var i,r,a=0,o=ue.prefilters.length,s=x.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=re||he(),n=Math.max(0,h.startTime+h.duration-e),i=1-(n/h.duration||0),a=0,o=h.tweens.length;a<o;a++)h.tweens[a].run(i);return s.notifyWith(t,[h,i,n]),i<1&&o?n:(o||s.notifyWith(t,[h,1,0]),s.resolveWith(t,[h]),!1)},h=s.promise({elem:t,props:x.extend({},e),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||he(),duration:n.duration,tweens:[],createTween:function(e,n){var i=x.Tween(t,h.opts,e,n,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(i),i},stop:function(e){var n=0,i=e?h.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)h.tweens[n].run(1);return e?(s.notifyWith(t,[h,1,0]),s.resolveWith(t,[h,e])):s.rejectWith(t,[h,e]),this}}),c=h.props;for(!function(t,e){var n,i,r,a,o;for(n in t)if(r=e[i=$(n)],a=t[n],Array.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(o=x.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}(c,h.opts.specialEasing);a<o;a++)if(i=ue.prefilters[a].call(h,t,c,h.opts))return v(i.stop)&&(x._queueHooks(h.elem,h.opts.queue).stop=i.stop.bind(i)),i;return x.map(c,de,h),v(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),x.fx.timer(x.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h}x.Animation=x.extend(ue,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ue.tweeners[n]=ue.tweeners[n]||[],ue.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,a,o,s,l,h,c,d="width"in e||"height"in e,u=this,f={},g=t.style,p=t.nodeType&&ht(t),m=J.get(t,"fxshow");for(i in n.queue||(null==(o=x._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,u.always((function(){u.always((function(){o.unqueued--,x.queue(t,"fx").length||o.empty.fire()}))}))),e)if(r=e[i],oe.test(r)){if(delete e[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}f[i]=m&&m[i]||x.style(t,i)}if((l=!x.isEmptyObject(e))||!x.isEmptyObject(f))for(i in d&&1===t.nodeType&&(n.overflow=[g.overflow,g.overflowX,g.overflowY],null==(h=m&&m.display)&&(h=J.get(t,"display")),"none"===(c=x.css(t,"display"))&&(h?c=h:(ft([t],!0),h=t.style.display||h,c=x.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=h)&&"none"===x.css(t,"float")&&(l||(u.done((function(){g.display=h})),null==h&&(c=g.display,h="none"===c?"":c)),g.display="inline-block")),n.overflow&&(g.overflow="hidden",u.always((function(){g.overflow=n.overflow[0],g.overflowX=n.overflow[1],g.overflowY=n.overflow[2]}))),l=!1,f)l||(m?"hidden"in m&&(p=m.hidden):m=J.access(t,"fxshow",{display:h}),a&&(m.hidden=!p),p&&ft([t],!0),u.done((function(){for(i in p||ft([t]),J.remove(t,"fxshow"),f)x.style(t,i,f[i])}))),l=de(p?m[i]:0,i,u),i in m||(m[i]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),x.speed=function(t,e,n){var i=t&&"object"==typeof t?x.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in x.fx.speeds?i.duration=x.fx.speeds[i.duration]:i.duration=x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ht).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=x.isEmptyObject(t),a=x.speed(e,n,i),o=function(){var e=ue(this,x.extend({},t),a);(r||J.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",a=x.timers,o=J.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&se.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(n),e=!1,a.splice(r,1));!e&&n||x.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=x.timers,o=i?i.length:0;for(n.finish=!0,x.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),x.each(["toggle","show","hide"],(function(t,e){var n=x.fn[e];x.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,i,r)}})),x.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){x.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),x.timers=[],x.fx.tick=function(){var t,e=0,n=x.timers;for(re=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||x.fx.stop(),re=void 0},x.fx.timer=function(t){x.timers.push(t),x.fx.start()},x.fx.interval=13,x.fx.start=function(){ae||(ae=!0,le())},x.fx.stop=function(){ae=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,e){return t=x.fx&&x.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},function(){var t=_.createElement("input"),e=_.createElement("select").appendChild(_.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=_.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var fe,ge=x.expr.attrHandle;x.fn.extend({attr:function(t,e){return U(this,x.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){x.removeAttr(this,t)}))}}),x.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?x.prop(t,e,n):(1===a&&x.isXMLDoc(t)||(r=x.attrHooks[e.toLowerCase()]||(x.expr.match.bool.test(e)?fe:void 0)),void 0!==n?null===n?void x.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=x.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&D(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),fe={set:function(t,e,n){return!1===e?x.removeAttr(t,n):t.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ge[e]||x.find.attr;ge[e]=function(t,e,i){var r,a,o=e.toLowerCase();return i||(a=ge[o],ge[o]=r,r=null!=n(t,e,i)?o:null,ge[o]=a),r}}));var pe=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ve(t){return(t.match(F)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function _e(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}x.fn.extend({prop:function(t,e){return U(this,x.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[x.propFix[t]||t]}))}}),x.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&x.isXMLDoc(t)||(e=x.propFix[e]||e,r=x.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=x.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(x.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,l=0;if(v(t))return this.each((function(e){x(this).addClass(t.call(this,e,ye(this)))}));if((e=_e(t)).length)for(;n=this[l++];)if(r=ye(n),i=1===n.nodeType&&" "+ve(r)+" "){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=ve(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,l=0;if(v(t))return this.each((function(e){x(this).removeClass(t.call(this,e,ye(this)))}));if(!arguments.length)return this.attr("class","");if((e=_e(t)).length)for(;n=this[l++];)if(r=ye(n),i=1===n.nodeType&&" "+ve(r)+" "){for(o=0;a=e[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=ve(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(n){x(this).toggleClass(t.call(this,n,ye(this),e),e)})):this.each((function(){var e,r,a,o;if(i)for(r=0,a=x(this),o=_e(t);e=o[r++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else void 0!==t&&"boolean"!==n||((e=ye(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ve(ye(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;x.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,x(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,(function(t){return null==t?"":t+""}))),(e=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(be,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(t){var e=x.find.attr(t,"value");return null!=e?e:ve(x.text(t))}},select:{get:function(t){var e,n,i,r=t.options,a=t.selectedIndex,o="select-one"===t.type,s=o?null:[],l=o?a+1:r.length;for(i=a<0?l:o?a:0;i<l;i++)if(((n=r[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(e=x(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,a=x.makeArray(e),o=r.length;o--;)((i=r[o]).selected=x.inArray(x.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=x.inArray(x(t).val(),e)>-1}},m.checkOn||(x.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in i;var Ce=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};x.extend(x.event,{trigger:function(t,e,n,r){var a,o,s,l,h,c,d,u,g=[n||_],p=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];if(o=u=s=n=n||_,3!==n.nodeType&&8!==n.nodeType&&!Ce.test(p+x.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),h=p.indexOf(":")<0&&"on"+p,(t=t[x.expando]?t:new x.Event(p,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:x.makeArray(e,[t]),d=x.event.special[p]||{},r||!d.trigger||!1!==d.trigger.apply(n,e))){if(!r&&!d.noBubble&&!y(n)){for(l=d.delegateType||p,Ce.test(l+p)||(o=o.parentNode);o;o=o.parentNode)g.push(o),s=o;s===(n.ownerDocument||_)&&g.push(s.defaultView||s.parentWindow||i)}for(a=0;(o=g[a++])&&!t.isPropagationStopped();)u=o,t.type=a>1?l:d.bindType||p,(c=(J.get(o,"events")||Object.create(null))[t.type]&&J.get(o,"handle"))&&c.apply(o,e),(c=h&&o[h])&&c.apply&&K(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),e)||!K(n)||h&&v(n[p])&&!y(n)&&((s=n[h])&&(n[h]=null),x.event.triggered=p,t.isPropagationStopped()&&u.addEventListener(p,we),n[p](),t.isPropagationStopped()&&u.removeEventListener(p,we),x.event.triggered=void 0,s&&(n[h]=s)),t.result}},simulate:function(t,e,n){var i=x.extend(new x.Event,n,{type:t,isSimulated:!0});x.event.trigger(i,null,e)}}),x.fn.extend({trigger:function(t,e){return this.each((function(){x.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return x.event.trigger(t,e,n,!0)}}),m.focusin||x.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){x.event.simulate(e,t.target,x.event.fix(t))};x.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}}));var Se=i.location,xe={guid:Date.now()},Te=/\?/;x.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||x.error("Invalid XML: "+(n?x.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Ee=/\[\]$/,ke=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;function De(t,e,n,i){var r;if(Array.isArray(e))x.each(e,(function(e,r){n||Ee.test(t)?i(t,r):De(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==w(e))i(t,e);else for(r in e)De(t+"["+r+"]",e[r],n,i)}x.param=function(t,e){var n,i=[],r=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!x.isPlainObject(t))x.each(t,(function(){r(this.name,this.value)}));else for(n in t)De(n,t[n],e,r);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=x.prop(this,"elements");return t?x.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!x(this).is(":disabled")&&Oe.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!mt.test(t))})).map((function(t,e){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,(function(t){return{name:e.name,value:t.replace(ke,"\r\n")}})):{name:e.name,value:n.replace(ke,"\r\n")}})).get()}});var Pe=/%20/g,Ie=/#.*$/,Le=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:GET|HEAD)$/,Re=/^\/\//,Ge={},Fe={},He="*/".concat("*"),Be=_.createElement("a");function je(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(F)||[];if(v(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function We(t,e,n,i){var r={},a=t===Fe;function o(s){var l;return r[s]=!0,x.each(t[s]||[],(function(t,s){var h=s(e,n,i);return"string"!=typeof h||a||r[h]?a?!(l=h):void 0:(e.dataTypes.unshift(h),o(h),!1)})),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function ze(t,e){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&x.extend(!0,t,i),t}Be.href=Se.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,x.ajaxSettings),e):ze(x.ajaxSettings,t)},ajaxPrefilter:je(Ge),ajaxTransport:je(Fe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,a,o,s,l,h,c,d,u,f=x.ajaxSetup({},e),g=f.context||f,p=f.context&&(g.nodeType||g.jquery)?x(g):x.event,m=x.Deferred(),v=x.Callbacks("once memory"),y=f.statusCode||{},b={},C={},w="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(h){if(!o)for(o={};e=Me.exec(a);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return h?a:null},setRequestHeader:function(t,e){return null==h&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==h&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)S.always(t[S.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||w;return n&&n.abort(e),T(0,e),this}};if(m.promise(S),f.url=((t||f.url||Se.href)+"").replace(Re,Se.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(F)||[""],null==f.crossDomain){l=_.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Be.protocol+"//"+Be.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=x.param(f.data,f.traditional)),We(Ge,f,e,S),h)return S;for(d in(c=x.event&&f.global)&&0==x.active++&&x.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ne.test(f.type),r=f.url.replace(Ie,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Pe,"+")):(u=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Te.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Le,"$1"),u=(Te.test(r)?"&":"?")+"_="+xe.guid+++u),f.url=r+u),f.ifModified&&(x.lastModified[r]&&S.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&S.setRequestHeader("If-None-Match",x.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+He+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(g,S,f)||h))return S.abort();if(w="abort",v.add(f.complete),S.done(f.success),S.fail(f.error),n=We(Fe,f,e,S)){if(S.readyState=1,c&&p.trigger("ajaxSend",[S,f]),h)return S;f.async&&f.timeout>0&&(s=i.setTimeout((function(){S.abort("timeout")}),f.timeout));try{h=!1,n.send(b,T)}catch(t){if(h)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,o,l){var d,u,_,b,C,w=e;h||(h=!0,s&&i.clearTimeout(s),n=void 0,a=l||"",S.readyState=t>0?4:0,d=t>=200&&t<300||304===t,o&&(b=function(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(f,S,o)),!d&&x.inArray("script",f.dataTypes)>-1&&x.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),b=function(t,e,n,i){var r,a,o,s,l,h={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)h[o.toLowerCase()]=t.converters[o];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=h[l+" "+a]||h["* "+a]))for(r in h)if((s=r.split(" "))[1]===a&&(o=h[l+" "+s[0]]||h["* "+s[0]])){!0===o?o=h[r]:!0!==h[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(f,b,S,d),d?(f.ifModified&&((C=S.getResponseHeader("Last-Modified"))&&(x.lastModified[r]=C),(C=S.getResponseHeader("etag"))&&(x.etag[r]=C)),204===t||"HEAD"===f.type?w="nocontent":304===t?w="notmodified":(w=b.state,u=b.data,d=!(_=b.error))):(_=w,!t&&w||(w="error",t<0&&(t=0))),S.status=t,S.statusText=(e||w)+"",d?m.resolveWith(g,[u,w,S]):m.rejectWith(g,[S,w,_]),S.statusCode(y),y=void 0,c&&p.trigger(d?"ajaxSuccess":"ajaxError",[S,f,d?u:_]),v.fireWith(g,[S,w]),c&&(p.trigger("ajaxComplete",[S,f]),--x.active||x.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return x.get(t,e,n,"json")},getScript:function(t,e){return x.get(t,void 0,e,"script")}}),x.each(["get","post"],(function(t,e){x[e]=function(t,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),x.ajax(x.extend({url:t,type:e,dataType:r,data:n,success:i},x.isPlainObject(t)&&t))}})),x.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),x._evalUrl=function(t,e,n){return x.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){x.globalEval(t,e,n)}})},x.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=x(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){x(this).wrapInner(t.call(this,e))})):this.each((function(){var e=x(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){x(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(t){return!x.expr.pseudos.visible(t)},x.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Ue=x.ajaxSettings.xhr();m.cors=!!Ue&&"withCredentials"in Ue,m.ajax=Ue=!!Ue,x.ajaxTransport((function(t){var e,n;if(m.cors||Ue&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(qe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),x.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return x.globalEval(t),t}}}),x.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),x.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=x("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),_.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ve,Ye=[],Xe=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||x.expando+"_"+xe.guid++;return this[t]=!0,t}}),x.ajaxPrefilter("json jsonp",(function(t,e,n){var r,a,o,s=!1!==t.jsonp&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xe,"$1"+r):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||x.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=i[r],i[r]=function(){o=arguments},n.always((function(){void 0===a?x(i).removeProp(r):i[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(r)),o&&v(a)&&a(o[0]),o=a=void 0})),"script"})),m.createHTMLDocument=((Ve=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ve.childNodes.length),x.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,e.head.appendChild(i)):e=_),a=!n&&[],(r=P.exec(t))?[e.createElement(r[1])]:(r=St([t],e,a),a&&a.length&&x(a).remove(),x.merge([],r.childNodes)));var i,r,a},x.fn.load=function(t,e,n){var i,r,a,o=this,s=t.indexOf(" ");return s>-1&&(i=ve(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&x.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){a=arguments,o.html(i?x("<div>").append(x.parseHTML(t)).find(i):t)})).always(n&&function(t,e){o.each((function(){n.apply(this,a||[t.responseText,e,t])}))}),this},x.expr.pseudos.animated=function(t){return x.grep(x.timers,(function(e){return t===e.elem})).length},x.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,h=x.css(t,"position"),c=x(t),d={};"static"===h&&(t.style.position="relative"),s=c.offset(),a=x.css(t,"top"),l=x.css(t,"left"),("absolute"===h||"fixed"===h)&&(a+l).indexOf("auto")>-1?(o=(i=c.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),v(e)&&(e=e.call(t,n,x.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):c.css(d)}},x.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){x.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===x.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=x(t).offset()).top+=x.css(t,"borderTopWidth",!0),r.left+=x.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-x.css(i,"marginTop",!0),left:e.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===x.css(t,"position");)t=t.offsetParent;return t||ot}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;x.fn[t]=function(i){return U(this,(function(t,i,r){var a;if(y(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===r)return a?a[e]:t[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):t[i]=r}),t,i,arguments.length)}})),x.each(["top","left"],(function(t,e){x.cssHooks[e]=Ut(m.pixelPosition,(function(t,n){if(n)return n=qt(t,e),Bt.test(n)?x(t).position()[e]+"px":n}))})),x.each({Height:"height",Width:"width"},(function(t,e){x.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){x.fn[i]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===a?"margin":"border");return U(this,(function(e,n,r){var a;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===r?x.css(e,n,s):x.style(e,n,r,s)}),e,o?r:void 0,o)}}))})),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){x.fn[e]=function(t){return this.on(e,t)}})),x.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){x.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var $e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=s.call(arguments,2),r=function(){return t.apply(e||this,i.concat(s.call(arguments)))},r.guid=t.guid=t.guid||x.guid++,r},x.holdReady=function(t){t?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=D,x.isFunction=v,x.isWindow=y,x.camelCase=$,x.type=w,x.now=Date.now,x.isNumeric=function(t){var e=x.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},x.trim=function(t){return null==t?"":(t+"").replace($e,"")},void 0===(n=function(){return x}.apply(e,[]))||(t.exports=n);var Ke=i.jQuery,Qe=i.$;return x.noConflict=function(t){return i.$===x&&(i.$=Qe),t&&i.jQuery===x&&(i.jQuery=Ke),x},void 0===r&&(i.jQuery=i.$=x),x}))},981:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>dt});for(var i="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],a=0,o=0;o<r.length;o+=1)if(i&&navigator.userAgent.indexOf(r[o])>=0){a=1;break}var s=i&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),a))}};function l(t){return t&&"[object Function]"==={}.toString.call(t)}function h(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function c(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function d(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=h(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:d(c(t))}var u=i&&!(!window.MSInputMethodContext||!document.documentMode),f=i&&/MSIE 10/.test(navigator.userAgent);function g(t){return 11===t?u:10===t?f:u||f}function p(t){if(!t)return document.documentElement;for(var e=g(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===h(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function m(t){return null!==t.parentNode?m(t.parentNode):t}function v(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,a=document.createRange();a.setStart(i,0),a.setEnd(r,0);var o,s,l=a.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(s=(o=l).nodeName)||"HTML"!==s&&p(o.firstElementChild)!==o?p(l):l;var h=m(t);return h.host?v(h.host,e):v(t,m(e).host)}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=t.ownerDocument.documentElement,a=t.ownerDocument.scrollingElement||r;return a[n]}return t[n]}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=y(e,"top"),r=y(e,"left"),a=n?-1:1;return t.top+=i*a,t.bottom+=i*a,t.left+=r*a,t.right+=r*a,t}function b(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function C(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],g(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function w(t){var e=t.body,n=t.documentElement,i=g(10)&&getComputedStyle(n);return{height:C("Height",e,n,i),width:C("Width",e,n,i)}}var S=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),T=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function k(t){return E({},t,{right:t.left+t.width,bottom:t.top+t.height})}function A(t){var e={};try{if(g(10)){e=t.getBoundingClientRect();var n=y(t,"top"),i=y(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a="HTML"===t.nodeName?w(t.ownerDocument):{},o=a.width||t.clientWidth||r.right-r.left,s=a.height||t.clientHeight||r.bottom-r.top,l=t.offsetWidth-o,c=t.offsetHeight-s;if(l||c){var d=h(t);l-=b(d,"x"),c-=b(d,"y"),r.width-=l,r.height-=c}return k(r)}function O(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=g(10),r="HTML"===e.nodeName,a=A(t),o=A(e),s=d(t),l=h(e),c=parseFloat(l.borderTopWidth,10),u=parseFloat(l.borderLeftWidth,10);n&&r&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=k({top:a.top-o.top-c,left:a.left-o.left-u,width:a.width,height:a.height});if(f.marginTop=0,f.marginLeft=0,!i&&r){var p=parseFloat(l.marginTop,10),m=parseFloat(l.marginLeft,10);f.top-=c-p,f.bottom-=c-p,f.left-=u-m,f.right-=u-m,f.marginTop=p,f.marginLeft=m}return(i&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(f=_(f,e)),f}function D(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=O(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:y(n),s=e?0:y(n,"left"),l={top:o-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:a};return k(l)}function P(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===h(t,"position"))return!0;var n=c(t);return!!n&&P(n)}function I(t){if(!t||!t.parentElement||g())return document.documentElement;for(var e=t.parentElement;e&&"none"===h(e,"transform");)e=e.parentElement;return e||document.documentElement}function L(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=r?I(t):v(t,e);if("viewport"===i)a=D(o,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=d(c(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===i?t.ownerDocument.documentElement:i;var l=O(s,o,r);if("HTML"!==s.nodeName||P(o))a=l;else{var h=w(t.ownerDocument),u=h.height,f=h.width;a.top+=l.top-l.marginTop,a.bottom=u+l.top,a.left+=l.left-l.marginLeft,a.right=f+l.left}}var g="number"==typeof(n=n||0);return a.left+=g?n:n.left||0,a.top+=g?n:n.top||0,a.right-=g?n:n.right||0,a.bottom-=g?n:n.bottom||0,a}function M(t){return t.width*t.height}function N(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var o=L(n,i,a,r),s={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},l=Object.keys(s).map((function(t){return E({key:t},s[t],{area:M(s[t])})})).sort((function(t,e){return e.area-t.area})),h=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),c=h.length>0?h[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function R(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?I(e):v(e,n);return O(n,r,i)}function G(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function F(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function H(t,e,n){n=n.split("-")[0];var i=G(t),r={width:i.width,height:i.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",h=a?"width":"height";return r[o]=e[o]+e[l]/2-i[l]/2,r[s]=n===s?e[s]-i[h]:e[F(s)],r}function B(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function j(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=B(t,(function(t){return t[e]===n}));return t.indexOf(i)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&l(n)&&(e.offsets.popper=k(e.offsets.popper),e.offsets.reference=k(e.offsets.reference),e=n(e,t))})),e}function W(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=N(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=H(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=j(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function z(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function q(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],a=r?""+r+n:t;if(void 0!==document.body.style[a])return a}return null}function U(){return this.state.isDestroyed=!0,z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function V(t){var e=t.ownerDocument;return e?e.defaultView:window}function Y(t,e,n,i){var r="BODY"===t.nodeName,a=r?t.ownerDocument.defaultView:t;a.addEventListener(e,n,{passive:!0}),r||Y(d(a.parentNode),e,n,i),i.push(a)}function X(t,e,n,i){n.updateBound=i,V(t).addEventListener("resize",n.updateBound,{passive:!0});var r=d(t);return Y(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function $(){this.state.eventsEnabled||(this.state=X(this.reference,this.options,this.state,this.scheduleUpdate))}function K(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,V(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Q(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function J(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Q(e[n])&&(i="px"),t.style[n]=e[n]+i}))}var Z=i&&/Firefox/i.test(navigator.userAgent);function tt(t,e,n){var i=B(t,(function(t){return t.name===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var a="`"+e+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return r}var et=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],nt=et.slice(3);function it(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=nt.indexOf(t),i=nt.slice(n+1).concat(nt.slice(0,n));return e?i.reverse():i}var rt="flip",at="clockwise",ot="counterclockwise";function st(t,e,n,i){var r=[0,0],a=-1!==["right","left"].indexOf(i),o=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=o.indexOf(B(o,(function(t){return-1!==t.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,h=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return h=h.map((function(t,i){var r=(1===i?!a:a)?"height":"width",o=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,o=!0,t):o?(t[t.length-1]+=e,o=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],o=r[2];if(!a)return t;if(0===o.indexOf("%")){return k("%p"===o?n:i)[e]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(t,r,e,n)}))})),h.forEach((function(t,e){t.forEach((function(n,i){Q(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}var lt={shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,a=r.reference,o=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",h=s?"width":"height",c={start:T({},l,a[l]),end:T({},l,a[l]+a[h]-o[h])};t.offsets.popper=E({},o,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,a=r.popper,o=r.reference,s=i.split("-")[0],l=void 0;return l=Q(+n)?[+n,0]:st(n,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var i=q("transform"),r=t.instance.popper.style,a=r.top,o=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=L(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=a,r.left=o,r[i]=s,e.boundaries=l;var h=e.priority,c=t.offsets.popper,d={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),T({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),T({},n,i)}};return h.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=E({},c,d[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(r),s=o?"right":"bottom",l=o?"left":"top",h=o?"width":"height";return n[s]<a(i[l])&&(t.offsets.popper[l]=a(i[l])-n[h]),n[l]>a(i[s])&&(t.offsets.popper[l]=a(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!tt(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],a=t.offsets,o=a.popper,s=a.reference,l=-1!==["left","right"].indexOf(r),c=l?"height":"width",d=l?"Top":"Left",u=d.toLowerCase(),f=l?"left":"top",g=l?"bottom":"right",p=G(i)[c];s[g]-p<o[u]&&(t.offsets.popper[u]-=o[u]-(s[g]-p)),s[u]+p>o[g]&&(t.offsets.popper[u]+=s[u]+p-o[g]),t.offsets.popper=k(t.offsets.popper);var m=s[u]+s[c]/2-p/2,v=h(t.instance.popper),y=parseFloat(v["margin"+d],10),_=parseFloat(v["border"+d+"Width"],10),b=m-t.offsets.popper[u]-y-_;return b=Math.max(Math.min(o[c]-p,b),0),t.arrowElement=i,t.offsets.arrow=(T(n={},u,Math.round(b)),T(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(z(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=L(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=F(i),a=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case rt:o=[i,r];break;case at:o=it(i);break;case ot:o=it(i,!0);break;default:o=e.behavior}return o.forEach((function(s,l){if(i!==s||o.length===l+1)return t;i=t.placement.split("-")[0],r=F(i);var h=t.offsets.popper,c=t.offsets.reference,d=Math.floor,u="left"===i&&d(h.right)>d(c.left)||"right"===i&&d(h.left)<d(c.right)||"top"===i&&d(h.bottom)>d(c.top)||"bottom"===i&&d(h.top)<d(c.bottom),f=d(h.left)<d(n.left),g=d(h.right)>d(n.right),p=d(h.top)<d(n.top),m=d(h.bottom)>d(n.bottom),v="left"===i&&f||"right"===i&&g||"top"===i&&p||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),_=!!e.flipVariations&&(y&&"start"===a&&f||y&&"end"===a&&g||!y&&"start"===a&&p||!y&&"end"===a&&m);(u||v||_)&&(t.flipped=!0,(u||v)&&(i=o[l+1]),_&&(a=function(t){return"end"===t?"start":"start"===t?"end":t}(a)),t.placement=i+(a?"-"+a:""),t.offsets.popper=E({},t.offsets.popper,H(t.instance.popper,t.offsets.reference,t.placement)),t=j(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,a=i.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[o?"left":"top"]=a[n]-(s?r[o?"width":"height"]:0),t.placement=F(e),t.offsets.popper=k(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!tt(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=B(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,a=B(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:e.gpuAcceleration,s=p(t.instance.popper),l=A(s),h={position:r.position},c=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,a=Math.round,o=Math.floor,s=function(t){return t},l=a(r.width),h=a(i.width),c=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),u=e?c||d||l%2==h%2?a:o:s,f=e?a:s;return{left:u(l%2==1&&h%2==1&&!d&&e?i.left-1:i.left),top:f(i.top),bottom:f(i.bottom),right:u(i.right)}}(t,window.devicePixelRatio<2||!Z),d="bottom"===n?"top":"bottom",u="right"===i?"left":"right",f=q("transform"),g=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,g="right"===u?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,o&&f)h[f]="translate3d("+g+"px, "+m+"px, 0)",h[d]=0,h[u]=0,h.willChange="transform";else{var v="bottom"===d?-1:1,y="right"===u?-1:1;h[d]=m*v,h[u]=g*y,h.willChange=d+", "+u}var _={"x-placement":t.placement};return t.attributes=E({},_,t.attributes),t.styles=E({},h,t.styles),t.arrowStyles=E({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return J(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&J(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var a=R(r,e,t,n.positionFixed),o=N(n.placement,a,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),J(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},ht={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:lt},ct=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};S(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=E({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(E({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){i.options.modifiers[e]=E({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return E({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&l(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return x(t,[{key:"update",value:function(){return W.call(this)}},{key:"destroy",value:function(){return U.call(this)}},{key:"enableEventListeners",value:function(){return $.call(this)}},{key:"disableEventListeners",value:function(){return K.call(this)}}]),t}();ct.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,ct.placements=et,ct.Defaults=ht;const dt=ct}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=Math.PI/180;const e="undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},i={_global:e,version:"8.3.0",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:e=>i.angleDeg?e*t:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>i.DD.isDragging,isDragReady:()=>!!i.DD.node,document:e.document,_injectGlobal(t){e.Konva=t}},r=t=>{i[t.prototype.getClassName()]=t};i._injectGlobal(i);class a{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new a(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),n=Math.sin(t),i=this.m[0]*e+this.m[2]*n,r=this.m[1]*e+this.m[3]*n,a=this.m[0]*-n+this.m[2]*e,o=this.m[1]*-n+this.m[3]*e;return this.m[0]=i,this.m[1]=r,this.m[2]=a,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var n=this.m[0]+this.m[2]*e,i=this.m[1]+this.m[3]*e,r=this.m[2]+this.m[0]*t,a=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=i,this.m[2]=r,this.m[3]=a,this}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],a=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=a,this.m[5]=o,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,i=-this.m[2]*t,r=this.m[0]*t,a=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=a,this.m[5]=o,this}getMatrix(){return this.m}setAbsolutePosition(t,e){var n=this.m[0],i=this.m[1],r=this.m[2],a=this.m[3],o=this.m[4],s=(n*(e-this.m[5])-i*(t-o))/(n*a-i*r),l=(t-o-r*s)/n;return this.translate(l,s)}decompose(){var t=this.m[0],e=this.m[1],n=this.m[2],i=this.m[3],r=t*i-e*n;let a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=e){var o=Math.sqrt(t*t+e*e);a.rotation=e>0?Math.acos(t/o):-Math.acos(t/o),a.scaleX=o,a.scaleY=r/o,a.skewX=(t*n+e*i)/r,a.skewY=0}else if(0!=n||0!=i){var s=Math.sqrt(n*n+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-n/s):-Math.acos(n/s)),a.scaleX=r/s,a.scaleY=s,a.skewX=0,a.skewY=(t*n+e*i)/r}return a.rotation=f._getRotation(a.rotation),a}}var o=Math.PI/180,s=180/Math.PI,l="Konva error: ",h={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,d=[];const u="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(t){setTimeout(t,60)},f={_isElement:t=>!(!t||1!=t.nodeType),_isFunction:t=>!!(t&&t.constructor&&t.call&&t.apply),_isPlainObject:t=>!!t&&t.constructor===Object,_isArray:t=>"[object Array]"===Object.prototype.toString.call(t),_isNumber:t=>"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t),_isString:t=>"[object String]"===Object.prototype.toString.call(t),_isBoolean:t=>"[object Boolean]"===Object.prototype.toString.call(t),isObject:t=>t instanceof Object,isValidSelector(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:t=>0===t||t>0?1:-1,requestAnimFrame(t){d.push(t),1===d.length&&u((function(){const t=d;d=[],t.forEach((function(t){t()}))}))},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:()=>document.createElement("img"),_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var n=f.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex:(t,e,n)=>((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1),_hexToRgb(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},getRGB(t){var e;return t in h?{r:(e=h[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=c.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:t=>(t=t||"black",f._namedColorToRBA(t)||f._hex3ColorToRGBA(t)||f._hex6ColorToRGBA(t)||f._rgbColorToRGBA(t)||f._rgbaColorToRGBA(t)||f._hslColorToRGBA(t)),_namedColorToRBA(t){var e=h[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),i=Number(n[0])/360,r=Number(n[1])/100,a=Number(n[2])/100;let o,s,l;if(0===r)return l=255*a,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o=a<.5?a*(1+r):a+r-a*r;const h=2*a-o,c=[0,0,0];for(let t=0;t<3;t++)s=i+1/3*-(t-1),s<0&&s++,s>1&&s--,l=6*s<1?h+6*(o-h)*s:2*s<1?o:3*s<2?h+(o-h)*(2/3-s)*6:h,c[t]=255*l;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:(t,e)=>!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y),cloneObject(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:t=>t.slice(0),degToRad:t=>t*o,radToDeg:t=>t*s,_degToRad:t=>(f.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),f.degToRad(t)),_radToDeg:t=>(f.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),f.radToDeg(t)),_getRotation:t=>i.angleDeg?f.radToDeg(t):t,_capitalize:t=>t.charAt(0).toUpperCase()+t.slice(1),throw(t){throw new Error(l+t)},error(t){console.error(l+t)},warn(t){i.showWarnings&&console.warn("Konva warning: "+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange:(t,e,n)=>e<=t&&t<n,_getProjectionToSegment(t,e,n,i,r,a){var o,s,l,h=(t-n)*(t-n)+(e-i)*(e-i);if(0==h)o=t,s=e,l=(r-n)*(r-n)+(a-i)*(a-i);else{var c=((r-t)*(n-t)+(a-e)*(i-e))/h;c<0?(o=t,s=e,l=(t-r)*(t-r)+(e-a)*(e-a)):c>1?(o=n,s=i,l=(n-r)*(n-r)+(i-a)*(i-a)):l=((o=t+c*(n-t))-r)*(o-r)+((s=e+c*(i-e))-a)*(s-a)}return[o,s,l]},_getProjectionToLine(t,e,n){var i=f.cloneObject(t),r=Number.MAX_VALUE;return e.forEach((function(a,o){if(n||o!==e.length-1){var s=e[(o+1)%e.length],l=f._getProjectionToSegment(a.x,a.y,s.x,s.y,t.x,t.y),h=l[0],c=l[1],d=l[2];d<r&&(i.x=h,i.y=c,r=d)}})),i},_prepareArrayForTween(t,e,n){var i,r=[],a=[];if(t.length>e.length){var o=e;e=t,t=o}for(i=0;i<t.length;i+=2)r.push({x:t[i],y:t[i+1]});for(i=0;i<e.length;i+=2)a.push({x:e[i],y:e[i+1]});var s=[];return a.forEach((function(t){var e=f._getProjectionToLine(t,r,n);s.push(e.x),s.push(e.y)})),s},_prepareToStringify(t){var e;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||f._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===f._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:t=>t.touches?t.changedTouches[0].identifier:t.pointerId||999};function g(t){return f._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||f._isBoolean(t)?t:Object.prototype.toString.call(t)}function p(t){return t>255?255:t<0?0:Math.round(t)}function m(){if(i.isUnminified)return function(t,e){return f._isNumber(t)||f.warn(g(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function v(t){if(i.isUnminified)return function(e,n){let i=f._isNumber(e),r=f._isArray(e)&&e.length==t;return i||r||f.warn(g(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function y(){if(i.isUnminified)return function(t,e){return f._isNumber(t)||"auto"===t||f.warn(g(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function _(){if(i.isUnminified)return function(t,e){return f._isString(t)||f.warn(g(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function b(){if(i.isUnminified)return function(t,e){const n=f._isString(t),i="[object CanvasGradient]"===Object.prototype.toString.call(t)||t&&t.addColorStop;return n||i||f.warn(g(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function C(){if(i.isUnminified)return function(t,e){return!0===t||!1===t||f.warn(g(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}var w="get",S="set";const x={addGetterSetter(t,e,n,i,r){x.addGetter(t,e,n),x.addSetter(t,e,i,r),x.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){var i=w+f._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter(t,e,n,i){var r=S+f._capitalize(e);t.prototype[r]||x.overWriteSetter(t,e,n,i)},overWriteSetter(t,e,n,i){var r=S+f._capitalize(e);t.prototype[r]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter(t,e,n,r,a){var o,s,l=n.length,h=f._capitalize,c=w+h(e),d=S+h(e);t.prototype[c]=function(){var t={};for(o=0;o<l;o++)t[s=n[o]]=this.getAttr(e+h(s));return t};var u=function(t){if(i.isUnminified)return function(e,n){return f.isObject(e)||f.warn(g(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(n);t.prototype[d]=function(t){var n,i=this.attrs[e];for(n in r&&(t=r.call(this,t)),u&&u.call(this,t,e),t)t.hasOwnProperty(n)&&this._setAttr(e+h(n),t[n]);return this._fireChangeEvent(e,i,t),a&&a.call(this),this},x.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var n=f._capitalize(e),i=S+n,r=w+n;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[r]()}},addDeprecatedGetterSetter(t,e,n,i){f.error("Adding deprecated "+e);var r=w+f._capitalize(e),a=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[r]=function(){f.error(a);var t=this.attrs[e];return void 0===t?n:t},x.addSetter(t,e,i,(function(){f.error(a)})),x.addOverloadedGetterSetter(t,e)},backCompat(t,e){f.each(e,(function(e,n){var i=t.prototype[n],r=w+f._capitalize(e),a=S+f._capitalize(e);function o(){i.apply(this,arguments),f.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=o,t.prototype[r]=o,t.prototype[a]=o}))},afterSetFilter(){this._filterUpToDate=!1}};function T(t){var e,n,i=[],r=t.length,a=f;for(e=0;e<r;e++)n=t[e],a._isNumber(n)?n=Math.round(1e3*n)/1e3:a._isString(n)||(n+=""),i.push(n);return i}var E=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class k{constructor(t){this.canvas=t,this._context=t._canvas.getContext("2d"),i.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var n,i,r,a,o=this.traceArr,s=o.length,l="";for(n=0;n<s;n++)(r=(i=o[n]).method)?(a=i.args,l+=r,t?l+="()":f._isArray(a[0])?l+="(["+a.join(",")+"])":(e&&(a=a.map((t=>"number"==typeof t?Math.floor(t):t))),l+="("+a.join(",")+")")):(l+=i.property,t||(l+="="+i.val)),l+=";";return l}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,n,i,r,a){this._context.arc(t,e,n,i,r,a)}arcTo(t,e,n,i,r){this._context.arcTo(t,e,n,i,r)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,n,i,r,a){this._context.bezierCurveTo(t,e,n,i,r,a)}clearRect(t,e,n,i){this._context.clearRect(t,e,n,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0}createLinearGradient(t,e,n,i){return this._context.createLinearGradient(t,e,n,i)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,n,i,r,a){return this._context.createRadialGradient(t,e,n,i,r,a)}drawImage(t,e,n,i,r,a,o,s,l){var h=arguments,c=this._context;3===h.length?c.drawImage(t,e,n):5===h.length?c.drawImage(t,e,n,i,r):9===h.length&&c.drawImage(t,e,n,i,r,a,o,s,l)}ellipse(t,e,n,i,r,a,o,s){this._context.ellipse(t,e,n,i,r,a,o,s)}isPointInPath(t,e){return this._context.isPointInPath(t,e)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,n,i){this._context.fillRect(t,e,n,i)}strokeRect(t,e,n,i){this._context.strokeRect(t,e,n,i)}fillText(t,e,n,i){i?this._context.fillText(t,e,n,i):this._context.fillText(t,e,n)}measureText(t){return this._context.measureText(t)}getImageData(t,e,n,i){return this._context.getImageData(t,e,n,i)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,n,i){this._context.rect(t,e,n,i)}putImageData(t,e,n){this._context.putImageData(t,e,n)}quadraticCurveTo(t,e,n,i){this._context.quadraticCurveTo(t,e,n,i)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,n,i,r,a){this._context.setTransform(t,e,n,i,r,a)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,n,i){this._context.strokeText(t,e,n,i)}transform(t,e,n,i,r,a){this._context.transform(t,e,n,i,r,a)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var t,e,n=this,i=E.length,r=this.setAttr,a=function(t){var i,r=n[t];n[t]=function(){return e=T(Array.prototype.slice.call(arguments,0)),i=r.apply(n,arguments),n._trace({method:t,args:e}),i}};for(t=0;t<i;t++)a(E[t]);n.setAttr=function(){r.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;!e||"source-over"===e||this.setAttr("globalCompositeOperation",e)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(k.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})}));class A extends k{_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var i=t.getFillPatternImage();if(i&&"pattern"===n)this._fillPattern(t);else{var r=t.getFillLinearGradientColorStops();if(r&&"linear-gradient"===n)this._fillLinearGradient(t);else{var a=t.getFillRadialGradientColorStops();a&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):i?this._fillPattern(t):r?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)}}}}_strokeLinearGradient(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),i=t.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(e.x,e.y,n.x,n.y);if(i){for(var a=0;a<i.length;a+=2)r.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",r)}}_stroke(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}}_applyShadow(t){var e,n,i,r=null!==(e=t.getShadowRGBA())&&void 0!==e?e:"black",a=null!==(n=t.getShadowBlur())&&void 0!==n?n:5,o=null!==(i=t.getShadowOffset())&&void 0!==i?i:{x:0,y:0},s=t.getAbsoluteScale(),l=this.canvas.getPixelRatio(),h=s.x*l,c=s.y*l;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",a*Math.min(Math.abs(h),Math.abs(c))),this.setAttr("shadowOffsetX",o.x*h),this.setAttr("shadowOffsetY",o.y*c)}}class O extends k{_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var i=t.hitStrokeWidth(),r="auto"===i?t.strokeWidth():i;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}}var D;class P{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||i.pixelRatio||function(){if(D)return D;var t=f.createCanvasElement().getContext("2d");return D=(i._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=f.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return f.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}x.addGetterSetter(P,"pixelRatio",void 0,m());class I extends P{constructor(t={width:0,height:0}){super(t),this.context=new A(this),this.setSize(t.width,t.height)}}class L extends P{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new O(this),this.setSize(t.width,t.height)}}const M={get isDragging(){var t=!1;return M._dragElements.forEach((e=>{"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return M._dragElements.forEach((e=>{t=e.node})),t},_dragElements:new Map,_drag(t){const e=[];M._dragElements.forEach(((n,i)=>{const{node:r}=n,a=r.getStage();a.setPointersPositions(t),void 0===n.pointerId&&(n.pointerId=f._getFirstPointerId(t));const o=a._changedPointerPositions.find((t=>t.id===n.pointerId));if(o){if("dragging"!==n.dragStatus){var s=r.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<s)return;if(r.startDrag({evt:t}),!r.isDragging())return}r._setDragPosition(t,n),e.push(r)}})),e.forEach((e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore(t){M._dragElements.forEach((e=>{const{node:n}=e,r=n.getStage();t&&r.setPointersPositions(t);if(!r._changedPointerPositions.find((t=>t.id===e.pointerId)))return;"dragging"!==e.dragStatus&&"stopped"!==e.dragStatus||(M.justDragged=!0,i._mouseListenClick=!1,i._touchListenClick=!1,i._pointerListenClick=!1,e.dragStatus="stopped");const a=e.node.getLayer()||e.node instanceof i.Stage&&e.node;a&&a.batchDraw()}))},_endDragAfter(t){M._dragElements.forEach(((e,n)=>{"stopped"===e.dragStatus&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),"dragging"!==e.dragStatus&&M._dragElements.delete(n)}))}};i.isBrowser&&(window.addEventListener("mouseup",M._endDragBefore,!0),window.addEventListener("touchend",M._endDragBefore,!0),window.addEventListener("mousemove",M._drag),window.addEventListener("touchmove",M._drag),window.addEventListener("mouseup",M._endDragAfter,!1),window.addEventListener("touchend",M._endDragAfter,!1));var N="absoluteOpacity",R="allEventListeners",G="absoluteTransform",F="absoluteScale",H="canvas",B="listening",j="mouseenter",W="mouseleave",z="Shape",q=" ",U="stage",V="transform",Y="visible",X=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(q);let K=1;class Q{constructor(t){this._id=K++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){t!==V&&t!==G||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0}_getCache(t,e){var n=this._cache.get(t);return(void 0===n||(t===V||t===G)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n}_calculate(t,e,n){if(!this._attachedDepsListeners.get(t)){const n=e.map((t=>t+"Change.konva")).join(q);this.on(n,(()=>{this._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)}_getCanvasCache(){return this._cache.get(H)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===G&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(H),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(e.width||n.width),r=Math.ceil(e.height||n.height),a=e.pixelRatio,o=void 0===e.x?n.x:e.x,s=void 0===e.y?n.y:e.y,l=e.offset||0,h=e.drawBorder||!1,c=e.hitCanvasPixelRatio||1;if(i&&r){o-=l,s-=l;var d=new I({pixelRatio:a,width:i+=2*l,height:r+=2*l}),u=new I({pixelRatio:a,width:0,height:0}),g=new L({pixelRatio:c,width:i,height:r}),p=d.getContext(),m=g.getContext();return g.isCache=!0,d.isCache=!0,this._cache.delete(H),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,u.getContext()._context.imageSmoothingEnabled=!1),p.save(),m.save(),p.translate(-o,-s),m.translate(-o,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(N),this._clearSelfAndDescendantCache(F),this.drawScene(d,this),this.drawHit(g,this),this._isUnderCache=!1,p.restore(),m.restore(),h&&(p.save(),p.beginPath(),p.rect(0,0,i,r),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(H,{scene:d,filter:u,hit:g,x:o,y:s}),this._requestDraw(),this}f.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(H)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var n,i,r,a,o=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return o.forEach((function(t){var e=s.point(t);void 0===n&&(n=r=e.x,i=a=e.y),n=Math.min(n,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),a=Math.max(a,e.y)})),{x:n,y:i,width:r-n,height:a-i}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),i=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/i,n.height/i),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t,e,n,i,r=this.filters(),a=this._getCanvasCache(),o=a.scene,s=a.filter,l=s.getContext();if(r){if(!this._filterUpToDate){var h=o.pixelRatio;s.setSize(o.width/o.pixelRatio,o.height/o.pixelRatio);try{for(t=r.length,l.clear(),l.drawImage(o._canvas,0,0,o.getWidth()/h,o.getHeight()/h),e=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<t;n++)"function"==typeof(i=r[n])?(i.call(this,e),l.putImageData(e,0,0)):f.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(t){f.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return o}on(t,e){if(this._cache&&this._cache.delete(R),3===arguments.length)return this._delegate.apply(this,arguments);var n,i,r,a,o=t.split(q),s=o.length;for(n=0;n<s;n++)r=(i=o[n].split("."))[0],a=i[1]||"",this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:a,handler:e});return this}off(t,e){var n,i,r,a,o,s=(t||"").split(q),l=s.length;if(this._cache&&this._cache.delete(R),!t)for(i in this.eventListeners)this._off(i);for(n=0;n<l;n++)if(a=(r=s[n].split("."))[0],o=r[1],a)this.eventListeners[a]&&this._off(a,o,e);else for(i in this.eventListeners)this._off(i,o,e);return this}dispatchEvent(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,n){var i=this;this.on(t,(function(t){for(var r=t.target.findAncestors(e,!0,i),a=0;a<r.length;a++)(t=f.cloneObject(t)).currentTarget=r[a],n.call(r[a],t)}))}remove(){return this.isDragging()&&this.stopDrag(),M._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(G),this._clearSelfAndDescendantCache(N),this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache(U),this._clearSelfAndDescendantCache(Y),this._clearSelfAndDescendantCache(B)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(t){var e="get"+f._capitalize(t);return f._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges((()=>{var e,n;if(!t)return this;for(e in t)"children"!==e&&(n="set"+f._capitalize(e),f._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]))})),this}isListening(){return this._getCache(B,this._isListening)}_isListening(t){if(!this.listening())return!1;const e=this.getParent();return!e||e===t||this===t||e._isListening(t)}isVisible(){return this._getCache(Y,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const e=this.getParent();return!e||e===t||this===t||e._isVisible(t)}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var n=this.getLayer(),r=!1;M._dragElements.forEach((t=>{"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===n)&&(r=!0)}));var a=!e&&!i.hitOnDragEnabled&&r;return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t,e,n,i,r=this.getDepth(),a=this,o=0;return"Stage"!==a.nodeType&&function s(l){for(t=[],e=l.length,n=0;n<e;n++)i=l[n],o++,i.nodeType!==z&&(t=t.concat(i.getChildren().slice())),i._id===a._id&&(n=e);t.length>0&&t[0].getDepth()<=r&&s(t)}(a.getStage().getChildren()),o}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(V),this._clearSelfAndDescendantCache(G)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges((()=>{this.x(t.x),this.y(t.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,n=this.parent;for(;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),r=new a,o=this.offset();return r.m=i.slice(),r.translate(o.x,o.y),r.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(V);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(V),this._clearSelfAndDescendantCache(G),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,n=t.y,i=this.x(),r=this.y();return void 0!==e&&(i+=e),void 0!==n&&(r+=n),this.setPosition({x:i,y:r}),this}_eachAncestorReverse(t,e){var n,i,r=[],a=this.getParent();if(!e||e._id!==this._id){for(r.unshift(this);a&&(!e||a._id!==e._id);)r.unshift(a),a=a.parent;for(n=r.length,i=0;i<n;i++)t(r[i])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return f.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0}moveUp(){if(!this.parent)return f.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return f.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return f.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(t){if(!this.parent)return f.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&f.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(N,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t,e,n,i,r={},a=this.getAttrs();for(t in r.attrs={},a)e=a[t],f.isObject(e)&&!f._isPlainObject(e)&&!f._isArray(e)||(n="function"==typeof this[t]&&this[t],delete a[t],i=n?n.call(this):null,a[t]=e,i!==e&&(r.attrs[t]=e));return r.className=this.getClassName(),f._prepareToStringify(r)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,n){var i=[];e&&this._isMatch(t)&&i.push(this);for(var r=this.parent;r;){if(r===n)return i;r._isMatch(t)&&i.push(r),r=r.parent}return i}isAncestorOf(t){return!1}findAncestor(t,e,n){return this.findAncestors(t,e,n)[0]}_isMatch(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,n,i=t.replace(/ /g,"").split(","),r=i.length;for(e=0;e<r;e++)if(n=i[e],f.isValidSelector(n)||(f.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),f.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),f.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(U,this._getStage)}_getStage(){var t=this.getParent();return t?t.getStage():void 0}fire(t,e={},n){return e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(G,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new a,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(G)||new a,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var n=this.transformsEnabled();if("all"===n)e.multiply(this.getTransform());else if("position"===n){const t=this.attrs.x||0,n=this.attrs.y||0,i=this.attrs.offsetX||0,r=this.attrs.offsetY||0;e.translate(t-i,n-r)}return e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(V,this._getTransform)}_getTransform(){var t,e,n=this._cache.get(V)||new a;n.reset();var r=this.x(),o=this.y(),s=i.getAngle(this.rotation()),l=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,h=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===r&&0===o||n.translate(r,o),0!==s&&n.rotate(s),0===c&&0===d||n.skew(c,d),1===l&&1===h||n.scale(l,h),0===u&&0===f||n.translate(-1*u,-1*f),n.dirty=!1,n}clone(t){var e,n,i,r,a,o=f.cloneObject(this.attrs);for(e in t)o[e]=t[e];var s=new this.constructor(o);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,r=0;r<i;r++)(a=n[r]).name.indexOf("konva")<0&&(s.eventListeners[e]||(s.eventListeners[e]=[]),s.eventListeners[e].push(a));return s}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),i=void 0!==t.x?t.x:e.x,r=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,o=new I({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:a}),s=o.getContext();return s.save(),(i||r)&&s.translate(-1*i,-1*r),this.drawScene(o),s.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,i=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(i),i}toImage(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,f._urlToImage(this.toDataURL(t),(function(t){e(t)}))}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.dragDistance}_off(t,e,n){var i,r,a,o=this.eventListeners[t];for(i=0;i<o.length;i++)if(r=o[i].name,a=o[i].handler,!("konva"===r&&"konva"!==e||e&&r!==e||n&&n!==a)){if(o.splice(i,1),0===o.length){delete this.eventListeners[t];break}i--}}_fireChangeEvent(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})}addName(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.name(n)}return this}hasName(t){if(!t)return!1;const e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)}removeName(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.name(e.join(" "))),this}setAttr(t,e){var n=this["set"+f._capitalize(t)];return f._isFunction(n)?n.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(i.autoDrawEnabled){const t=this.getLayer()||this.getStage();null==t||t.batchDraw()}}_setAttr(t,e){var n=this.attrs[t];(n!==e||f.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,n,e),this._requestDraw())}_setComponentAttr(t,e,n){var i;void 0!==n&&((i=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,i,n))}_fireAndBubble(t,e,n){if(e&&this.nodeType===z&&(e.target=this),!((t===j||t===W)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var i=(t===j||t===W)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){let e=this._cache.get(R);if(!e){e={};let t=Object.getPrototypeOf(this);for(;t;)if(t.eventListeners){for(var n in t.eventListeners){const i=t.eventListeners[n],r=e[n]||[];e[n]=i.concat(r)}t=Object.getPrototypeOf(t)}else t=Object.getPrototypeOf(t);this._cache.set(R,e)}return e[t]}_fire(t,e){(e=e||{}).currentTarget=this,e.type=t;const n=this._getProtoListeners(t);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,e);const r=this.eventListeners[t];if(r)for(i=0;i<r.length;i++)r[i].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition(),r=n._getPointerById(e)||n._changedPointerPositions[0]||i;M._dragElements.set(this._id,{node:this,startPointerPos:r,offset:{x:r.x-i.x,y:r.y-i.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){M._dragElements.has(this._id)||this._createDragElement(t);M._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const n=this.getStage()._getPointerById(e.pointerId);if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y},r=this.dragBoundFunc();if(void 0!==r){const e=r.call(this,i,t);e?i=e:f.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(t){const e=M._dragElements.get(this._id);e&&(e.dragStatus="stopped"),M._endDragBefore(t),M._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=M._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){if((!(void 0!==t.evt.button)||i.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var e=!1;M._dragElements.forEach((t=>{this.isAncestorOf(t.node)&&(e=!0)})),e||this._createDragElement(t)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=M._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&M._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const n={x:-t.x,y:-t.y,width:e.width()+t.x,height:e.height()+t.y};return f.haveIntersection(n,this.getClientRect())}static create(t,e){return f._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var n,r,a,o=Q.prototype.getClassName.call(t),s=t.children;e&&(t.attrs.container=e),i[o]||(f.warn('Can not find a node with class name "'+o+'". Fallback to "Shape".'),o="Shape");if(n=new(0,i[o])(t.attrs),s)for(r=s.length,a=0;a<r;a++)n.add(Q._createNode(s[a]));return n}}Q.prototype.nodeType="Node",Q.prototype._attrsAffectingSize=[],Q.prototype.eventListeners={},Q.prototype.on.call(Q.prototype,X,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(V),this._clearSelfAndDescendantCache(G))})),Q.prototype.on.call(Q.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(Y)})),Q.prototype.on.call(Q.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(B)})),Q.prototype.on.call(Q.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(N)}));const J=x.addGetterSetter;J(Q,"zIndex"),J(Q,"absolutePosition"),J(Q,"position"),J(Q,"x",0,m()),J(Q,"y",0,m()),J(Q,"globalCompositeOperation","source-over",_()),J(Q,"opacity",1,m()),J(Q,"name","",_()),J(Q,"id","",_()),J(Q,"rotation",0,m()),x.addComponentsGetterSetter(Q,"scale",["x","y"]),J(Q,"scaleX",1,m()),J(Q,"scaleY",1,m()),x.addComponentsGetterSetter(Q,"skew",["x","y"]),J(Q,"skewX",0,m()),J(Q,"skewY",0,m()),x.addComponentsGetterSetter(Q,"offset",["x","y"]),J(Q,"offsetX",0,m()),J(Q,"offsetY",0,m()),J(Q,"dragDistance",null,m()),J(Q,"width",0,m()),J(Q,"height",0,m()),J(Q,"listening",!0,C()),J(Q,"preventDefault",!0,C()),J(Q,"filters",null,(function(t){return this._filterUpToDate=!1,t})),J(Q,"visible",!0,C()),J(Q,"transformsEnabled","all",_()),J(Q,"size"),J(Q,"dragBoundFunc"),J(Q,"draggable",!1,C()),x.backCompat(Q,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Z extends Q{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[];var n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.destroy()})),this.children=[],this._requestDraw(),this}add(...t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}var n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var n=[];return this._descendants((i=>{const r=i._isMatch(t);return r&&n.push(i),!(!r||!e)})),n}_descendants(t){let e=!1;const n=this.getChildren();for(const i of n){if(e=t(i),e)return!0;if(i.hasChildren()&&(e=i._descendants(t),e))return!0}return!1}toObject(){var t=Q.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach((e=>{t.children.push(e.toObject())})),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=Q.prototype.clone.call(this,t);return this.getChildren().forEach((function(t){e.add(t.clone())})),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),this.isCached()||null===(e=this.children)||void 0===e||e.forEach((function(e){e._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;null===(t=this.children)||void 0===t||t.forEach((function(t,e){t.index=e})),this._requestDraw()}drawScene(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas(),r=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.scene,s=i&&i.isCache;if(!this.isVisible()&&!s)return this;if(o){r.save();var l=this.getAbsoluteTransform(e).getMatrix();r.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(r),r.restore()}else this._drawChildren("drawScene",i,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),i=t||n&&n.hitCanvas,r=i&&i.getContext(),a=this._getCanvasCache();if(a&&a.hit){r.save();var o=this.getAbsoluteTransform(e).getMatrix();r.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this._drawCachedHitCanvas(r),r.restore()}else this._drawChildren("drawHit",i,e);return this}_drawChildren(t,e,n){var i,r=e&&e.getContext(),a=this.clipWidth(),o=this.clipHeight(),s=this.clipFunc(),l=a&&o||s;const h=n===this;if(l){r.save();var c=this.getAbsoluteTransform(n),d=c.getMatrix();if(r.transform(d[0],d[1],d[2],d[3],d[4],d[5]),r.beginPath(),s)s.call(this,r,this);else{var u=this.clipX(),f=this.clipY();r.rect(u,f,a,o)}r.clip(),d=c.copy().invert().getMatrix(),r.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var g=!h&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;g&&(r.save(),r._applyGlobalCompositeOperation(this)),null===(i=this.children)||void 0===i||i.forEach((function(i){i[t](e,n)})),g&&r.restore(),l&&r.restore()}getClientRect(t){var e,n,i,r,a,o=(t=t||{}).skipTransform,s=t.relativeTo,l={x:1/0,y:1/0,width:0,height:0},h=this;null===(e=this.children)||void 0===e||e.forEach((function(e){if(e.visible()){var o=e.getClientRect({relativeTo:h,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===o.width&&0===o.height||(void 0===n?(n=o.x,i=o.y,r=o.x+o.width,a=o.y+o.height):(n=Math.min(n,o.x),i=Math.min(i,o.y),r=Math.max(r,o.x+o.width),a=Math.max(a,o.y+o.height)))}}));for(var c=this.find("Shape"),d=!1,u=0;u<c.length;u++){if(c[u]._isVisible(this)){d=!0;break}}return l=d&&void 0!==n?{x:n,y:i,width:r-n,height:a-i}:{x:0,y:0,width:0,height:0},o?l:this._transformedRect(l,s)}}x.addComponentsGetterSetter(Z,"clip",["x","y","width","height"]),x.addGetterSetter(Z,"clipX",void 0,m()),x.addGetterSetter(Z,"clipY",void 0,m()),x.addGetterSetter(Z,"clipWidth",void 0,m()),x.addGetterSetter(Z,"clipHeight",void 0,m()),x.addGetterSetter(Z,"clipFunc");const tt=new Map,et=void 0!==i._global.PointerEvent;function nt(t){return tt.get(t)}function it(t){return{evt:t,pointerId:t.pointerId}}function rt(t,e){return tt.get(t)===e}function at(t,e){ot(t);e.getStage()&&(tt.set(t,e),et&&e._fire("gotpointercapture",it(new PointerEvent("gotpointercapture"))))}function ot(t,e){const n=tt.get(t);if(!n)return;const i=n.getStage();i&&i.content,tt.delete(t),et&&n._fire("lostpointercapture",it(new PointerEvent("lostpointercapture")))}var st="mouseleave",lt="mouseover",ht="mouseenter",ct="mousemove",dt="mousedown",ut="mouseup",ft="pointermove",gt="pointerdown",pt="pointerup",mt="pointercancel",vt="pointerout",yt="pointerleave",_t="pointerover",bt="pointerenter",Ct="contextmenu",wt="touchstart",St="touchend",xt="touchmove",Tt="touchcancel",Et="wheel",kt=[[ht,"_pointerenter"],[dt,"_pointerdown"],[ct,"_pointermove"],[ut,"_pointerup"],[st,"_pointerleave"],[wt,"_pointerdown"],[xt,"_pointermove"],[St,"_pointerup"],[Tt,"_pointercancel"],[lt,"_pointerover"],[Et,"_wheel"],[Ct,"_contextmenu"],[gt,"_pointerdown"],[ft,"_pointermove"],[pt,"_pointerup"],[mt,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const At={mouse:{[vt]:"mouseout",[yt]:st,[_t]:lt,[bt]:ht,[ft]:ct,[gt]:dt,[pt]:ut,[mt]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[vt]:"touchout",[yt]:"touchleave",[_t]:"touchover",[bt]:"touchenter",[ft]:xt,[gt]:wt,[pt]:St,[mt]:Tt,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[vt]:vt,[yt]:yt,[_t]:_t,[bt]:bt,[ft]:ft,[gt]:gt,[pt]:pt,[mt]:mt,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Ot=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Dt=t=>{const e=Ot(t);return"pointer"===e?i.pointerEventsEnabled&&At.pointer:"touch"===e?At.touch:"mouse"===e?At.mouse:void 0};function Pt(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&f.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const It=[];class Lt extends Z{constructor(t){super(Pt(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),It.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{Pt(this.attrs)})),this._checkVisibility()}_validateAdd(t){const e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||f.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this}clone(t){return t||(t={}),t.container="undefined"!=typeof document&&document.createElement("div"),Z.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&f._isInDocument(t)&&this.container().removeChild(t);var e=It.indexOf(this);return e>-1&&It.splice(e,1),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(f.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(t){return this._pointerPositions.find((e=>e.id===t))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new I({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),n=e.getContext()._context,i=this.children;return(t.x||t.y)&&n.translate(-1*t.x,-1*t.y),i.forEach((function(e){if(e.isVisible()){var i=e._toKonvaCanvas(t);n.drawImage(i._canvas,t.x,t.y,i.getWidth()/i.getPixelRatio(),i.getHeight()/i.getPixelRatio())}})),e}getIntersection(t){if(!t)return null;var e,n=this.children;for(e=n.length-1;e>=0;e--){const i=n[e].getIntersection(t);if(i)return i}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach((n=>{n.setSize({width:t,height:e}),n.draw()}))}add(t,...e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(t);var r=this.children.length;return r>5&&f.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),i.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return rt(t,this)}setPointerCapture(t){at(t,this)}releaseCapture(t){ot(t)}getLayers(){return this.children}_bindContentEvents(){i.isBrowser&&kt.forEach((([t,e])=>{this.content.addEventListener(t,(t=>{this[e](t)}))}))}_pointerenter(t){this.setPointersPositions(t);const e=Dt(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=Dt(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=Dt(t.type),n=Ot(t.type);if(e){this.setPointersPositions(t);var r=this._getTargetShape(n),a=!M.isDragging||i.hitOnDragEnabled;r&&a?(r._fireAndBubble(e.pointerout,{evt:t}),r._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[n+"targetShape"]=null):a&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=Dt(t.type),n=Ot(t.type);if(e){this.setPointersPositions(t);var r=!1;this._changedPointerPositions.forEach((a=>{var o=this.getIntersection(a);M.justDragged=!1,i["_"+n+"ListenClick"]=!0;if(!(o&&o.isListening()))return;i.capturePointerEventsEnabled&&o.setPointerCapture(a.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(e.pointerdown,{evt:t,pointerId:a.id}),r=!0;const s=t.type.indexOf("touch")>=0;o.preventDefault()&&t.cancelable&&s&&t.preventDefault()})),r||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=Dt(t.type),n=Ot(t.type);if(!e)return;if(M.isDragging&&M.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t),!(!M.isDragging||i.hitOnDragEnabled))return;var r={};let a=!1;var o=this._getTargetShape(n);this._changedPointerPositions.forEach((i=>{const s=nt(i.id)||this.getIntersection(i),l=i.id,h={evt:t,pointerId:l};var c=o!==s;if(c&&o&&(o._fireAndBubble(e.pointerout,Object.assign({},h),s),o._fireAndBubble(e.pointerleave,Object.assign({},h),s)),s){if(r[s._id])return;r[s._id]=!0}s&&s.isListening()?(a=!0,c&&(s._fireAndBubble(e.pointerover,Object.assign({},h),o),s._fireAndBubble(e.pointerenter,Object.assign({},h),o),this[n+"targetShape"]=s),s._fireAndBubble(e.pointermove,Object.assign({},h))):o&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),a||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=Dt(t.type),n=Ot(t.type);if(!e)return;this.setPointersPositions(t);const r=this[n+"ClickStartShape"],a=this[n+"ClickEndShape"];var o={};let s=!1;this._changedPointerPositions.forEach((l=>{const h=nt(l.id)||this.getIntersection(l);if(h){if(h.releaseCapture(l.id),o[h._id])return;o[h._id]=!0}const c=l.id,d={evt:t,pointerId:c};let u=!1;i["_"+n+"InDblClickWindow"]&&i["_"+n+"InDblClickWindowId"]===c?(u=!0,clearTimeout(this[n+"DblTimeout"])):M.justDragged||(i["_"+n+"InDblClickWindow"]=!0,i["_"+n+"InDblClickWindowId"]=c,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){i["_"+n+"InDblClickWindow"]=!1}),i.dblClickWindow),h&&h.isListening()?(s=!0,this[n+"ClickEndShape"]=h,h._fireAndBubble(e.pointerup,Object.assign({},d)),i["_"+n+"ListenClick"]&&r&&r===h&&(h._fireAndBubble(e.pointerclick,Object.assign({},d)),u&&a&&a===h&&h._fireAndBubble(e.pointerdblclick,Object.assign({},d)))):(this[n+"ClickEndShape"]=null,i["_"+n+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:c}),u&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:c}))})),s||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i["_"+n+"ListenClick"]=!1,t.cancelable&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(Ct,{evt:t}):this._fire(Ct,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(Et,{evt:t}):this._fire(Et,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=nt(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(pt,it(t)),ot(t.pointerId)}_lostpointercapture(t){ot(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),n=null,i=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,(t=>{this._pointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})})),Array.prototype.forEach.call(t.changedTouches||t.touches,(t=>{this._changedPointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})}))):(n=(t.clientX-e.left)/e.scaleX,i=(t.clientY-e.top)/e.scaleY,this.pointerPos={x:n,y:i},this._pointerPositions=[{x:n,y:i,id:f._getFirstPointerId(t)}],this._changedPointerPositions=[{x:n,y:i,id:f._getFirstPointerId(t)}])}_setPointerPosition(t){f.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new I({width:this.width(),height:this.height()}),this.bufferHitCanvas=new L({pixelRatio:1,width:this.width(),height:this.height()}),i.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return f.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(t){t.batchDraw()})),this}}Lt.prototype.nodeType="Stage",r(Lt),x.addGetterSetter(Lt,"container");var Mt="hasShadow",Nt="shadowRGBA",Rt="patternImage",Gt="linearGradient",Ft="radialGradient";let Ht;function Bt(){return Ht||(Ht=f.createCanvasElement().getContext("2d"),Ht)}const jt={};class Wt extends Q{constructor(t){let e;for(super(t);e=f.getRandomColor(),!e||e in jt;);this.colorKey=e,jt[e]=this}getContext(){return f.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return f.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Mt,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Rt,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=Bt().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const e=new a;e.translate(this.fillPatternX(),this.fillPatternY()),e.rotate(i.getAngle(this.fillPatternRotation())),e.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),e.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=e.getMatrix();t.setTransform({a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]})}return t}}_getLinearGradient(){return this._getCache(Gt,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=Bt(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),r=e.createLinearGradient(n.x,n.y,i.x,i.y),a=0;a<t.length;a+=2)r.addColorStop(t[a],t[a+1]);return r}}_getRadialGradient(){return this._getCache(Ft,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=Bt(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),r=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),a=0;a<t.length;a+=2)r.addColorStop(t[a],t[a+1]);return r}}getShadowRGBA(){return this._getCache(Nt,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=f.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return Q.prototype.destroy.call(this),delete jt[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage())return!1;if(!(null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e))return!1;const n=t||this.hasFill(),i=this.hasStroke(),r=1!==this.getAbsoluteOpacity();if(n&&i&&r)return!0;const a=this.hasShadow(),o=this.shadowForStrokeEnabled();return!!(n&&i&&a&&o)}setStrokeHitEnabled(t){f.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,n=t.relativeTo,i=this.getSelfRect(),r=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=i.width+r,o=i.height+r,s=!t.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,h=s?this.shadowOffsetY():0,c=a+Math.abs(l),d=o+Math.abs(h),u=s&&this.shadowBlur()||0,f=c+2*u,g=d+2*u;let p=0;Math.round(r/2)!==r/2&&(p=1);const m={width:f+p,height:g+p,x:-Math.round(r/2+u)+Math.min(l,0)+i.x,y:-Math.round(r/2+u)+Math.min(h,0)+i.y};return e?m:this._transformedRect(m,n)}drawScene(t,e){var n,i,r=this.getLayer(),a=t||r.getCanvas(),o=a.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),h=this.hasShadow(),c=a.isCache,d=e===this;if(!this.isVisible()&&!d)return this;if(s){o.save();var u=this.getAbsoluteTransform(e).getMatrix();return o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()&&!c){(i=(n=this.getStage().bufferCanvas).getContext()).clear(),i.save(),i._applyLineJoin(this);var f=this.getAbsoluteTransform(e).getMatrix();i.transform(f[0],f[1],f[2],f[3],f[4],f[5]),l.call(this,i,this),i.restore();var g=n.pixelRatio;h&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(n._canvas,0,0,n.width/g,n.height/g)}else{if(o._applyLineJoin(this),!d){f=this.getAbsoluteTransform(e).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}h&&o._applyShadow(this),l.call(this,o,this)}return o.restore(),this}drawHit(t,e,n=!1){if(!this.shouldDrawHit(e,n))return this;var i=this.getLayer(),r=t||i.hitCanvas,a=r&&r.getContext(),o=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||f.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){a.save();var h=this.getAbsoluteTransform(e).getMatrix();return a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;a.save(),a._applyLineJoin(this);if(!(this===e)){var c=this.getAbsoluteTransform(e).getMatrix();a.transform(c[0],c[1],c[2],c[3],c[4],c[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(t=0){var e,n,i,r,a,o=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=o.hit,h=l.getContext(),c=l.getWidth(),d=l.getHeight();h.clear(),h.drawImage(s._canvas,0,0,c,d);try{for(i=(n=(e=h.getImageData(0,0,c,d)).data).length,r=f._hexToRgb(this.colorKey),a=0;a<i;a+=4)n[a+3]>t?(n[a]=r.r,n[a+1]=r.g,n[a+2]=r.b,n[a+3]=255):n[a+3]=0;h.putImageData(e,0,0)}catch(t){f.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}hasPointerCapture(t){return rt(t,this)}setPointerCapture(t){at(t,this)}releaseCapture(t){ot(t)}}Wt.prototype._fillFunc=function(t){t.fill()},Wt.prototype._strokeFunc=function(t){t.stroke()},Wt.prototype._fillFuncHit=function(t){t.fill()},Wt.prototype._strokeFuncHit=function(t){t.stroke()},Wt.prototype._centroid=!1,Wt.prototype.nodeType="Shape",r(Wt),Wt.prototype.eventListeners={},Wt.prototype.on.call(Wt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Mt)})),Wt.prototype.on.call(Wt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Nt)})),Wt.prototype.on.call(Wt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(Rt)})),Wt.prototype.on.call(Wt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(Gt)})),Wt.prototype.on.call(Wt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(Ft)})),x.addGetterSetter(Wt,"stroke",void 0,b()),x.addGetterSetter(Wt,"strokeWidth",2,m()),x.addGetterSetter(Wt,"fillAfterStrokeEnabled",!1),x.addGetterSetter(Wt,"hitStrokeWidth","auto",y()),x.addGetterSetter(Wt,"strokeHitEnabled",!0,C()),x.addGetterSetter(Wt,"perfectDrawEnabled",!0,C()),x.addGetterSetter(Wt,"shadowForStrokeEnabled",!0,C()),x.addGetterSetter(Wt,"lineJoin"),x.addGetterSetter(Wt,"lineCap"),x.addGetterSetter(Wt,"sceneFunc"),x.addGetterSetter(Wt,"hitFunc"),x.addGetterSetter(Wt,"dash"),x.addGetterSetter(Wt,"dashOffset",0,m()),x.addGetterSetter(Wt,"shadowColor",void 0,_()),x.addGetterSetter(Wt,"shadowBlur",0,m()),x.addGetterSetter(Wt,"shadowOpacity",1,m()),x.addComponentsGetterSetter(Wt,"shadowOffset",["x","y"]),x.addGetterSetter(Wt,"shadowOffsetX",0,m()),x.addGetterSetter(Wt,"shadowOffsetY",0,m()),x.addGetterSetter(Wt,"fillPatternImage"),x.addGetterSetter(Wt,"fill",void 0,b()),x.addGetterSetter(Wt,"fillPatternX",0,m()),x.addGetterSetter(Wt,"fillPatternY",0,m()),x.addGetterSetter(Wt,"fillLinearGradientColorStops"),x.addGetterSetter(Wt,"strokeLinearGradientColorStops"),x.addGetterSetter(Wt,"fillRadialGradientStartRadius",0),x.addGetterSetter(Wt,"fillRadialGradientEndRadius",0),x.addGetterSetter(Wt,"fillRadialGradientColorStops"),x.addGetterSetter(Wt,"fillPatternRepeat","repeat"),x.addGetterSetter(Wt,"fillEnabled",!0),x.addGetterSetter(Wt,"strokeEnabled",!0),x.addGetterSetter(Wt,"shadowEnabled",!0),x.addGetterSetter(Wt,"dashEnabled",!0),x.addGetterSetter(Wt,"strokeScaleEnabled",!0),x.addGetterSetter(Wt,"fillPriority","color"),x.addComponentsGetterSetter(Wt,"fillPatternOffset",["x","y"]),x.addGetterSetter(Wt,"fillPatternOffsetX",0,m()),x.addGetterSetter(Wt,"fillPatternOffsetY",0,m()),x.addComponentsGetterSetter(Wt,"fillPatternScale",["x","y"]),x.addGetterSetter(Wt,"fillPatternScaleX",1,m()),x.addGetterSetter(Wt,"fillPatternScaleY",1,m()),x.addComponentsGetterSetter(Wt,"fillLinearGradientStartPoint",["x","y"]),x.addComponentsGetterSetter(Wt,"strokeLinearGradientStartPoint",["x","y"]),x.addGetterSetter(Wt,"fillLinearGradientStartPointX",0),x.addGetterSetter(Wt,"strokeLinearGradientStartPointX",0),x.addGetterSetter(Wt,"fillLinearGradientStartPointY",0),x.addGetterSetter(Wt,"strokeLinearGradientStartPointY",0),x.addComponentsGetterSetter(Wt,"fillLinearGradientEndPoint",["x","y"]),x.addComponentsGetterSetter(Wt,"strokeLinearGradientEndPoint",["x","y"]),x.addGetterSetter(Wt,"fillLinearGradientEndPointX",0),x.addGetterSetter(Wt,"strokeLinearGradientEndPointX",0),x.addGetterSetter(Wt,"fillLinearGradientEndPointY",0),x.addGetterSetter(Wt,"strokeLinearGradientEndPointY",0),x.addComponentsGetterSetter(Wt,"fillRadialGradientStartPoint",["x","y"]),x.addGetterSetter(Wt,"fillRadialGradientStartPointX",0),x.addGetterSetter(Wt,"fillRadialGradientStartPointY",0),x.addComponentsGetterSetter(Wt,"fillRadialGradientEndPoint",["x","y"]),x.addGetterSetter(Wt,"fillRadialGradientEndPointX",0),x.addGetterSetter(Wt,"fillRadialGradientEndPointY",0),x.addGetterSetter(Wt,"fillPatternRotation",0),x.backCompat(Wt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var zt=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],qt=zt.length;class Ut extends Z{constructor(t){super(t),this.canvas=new I,this.hitCanvas=new L({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Q.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Q.prototype.moveUp.call(this))return!1;var t=this.getStage();return!(!t||!t.content)&&(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Q.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Q.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return Q.prototype.remove.call(this),t&&t.parentNode&&f._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&f.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),Q.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){const t=this.visible();this.canvas._canvas.style.display=t?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){f.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){f.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,f.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,n=!1;;){for(let i=0;i<qt;i++){const r=zt[i],a=this._getIntersection({x:t.x+r.x*e,y:t.y+r.y*e}),o=a.shape;if(o)return o;if(n=!!a.antialiased,!a.antialiased)break}if(!n)return null;e+=1}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,i=n[3];if(255===i){const t=f._rgbToHex(n[0],n[1],n[2]),e=jt["#"+t];return e?{shape:e}:{antialiased:!0}}return i>0?{antialiased:!0}:{}}drawScene(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),Z.prototype.drawScene.call(this,i,e),this._fire("draw",{node:this}),this}drawHit(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Z.prototype.drawHit.call(this,i,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){f.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return f.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}}Ut.prototype.nodeType="Layer",r(Ut),x.addGetterSetter(Ut,"imageSmoothingEnabled",!0),x.addGetterSetter(Ut,"clearBeforeDraw",!0),x.addGetterSetter(Ut,"hitGraphEnabled",!0,C());class Vt extends Ut{constructor(t){super(t),this.listening(!1),f.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Vt.prototype.nodeType="FastLayer",r(Vt);class Yt extends Z{_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&f.throw("You may only add groups and shapes to groups.")}}Yt.prototype.nodeType="Group",r(Yt);var Xt=e.performance&&e.performance.now?function(){return e.performance.now()}:function(){return(new Date).getTime()};class $t{constructor(t,e){this.id=$t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Xt(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this}getLayers(){return this.layers}addLayer(t){var e,n=this.layers,i=n.length;for(e=0;e<i;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t,e=$t.animations,n=e.length;for(t=0;t<n;t++)if(e[t].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Xt(),$t._addAnimation(this),this}stop(){return $t._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var e,n=t.id,i=this.animations,r=i.length;for(e=0;e<r;e++)if(i[e].id===n){this.animations.splice(e,1);break}}static _runFrames(){var t,e,n,i,r,a,o,s,l={},h=this.animations;for(i=0;i<h.length;i++)if(e=(t=h[i]).layers,n=t.func,t._updateFrameObject(Xt()),a=e.length,!n||!1!==n.call(t,t.frame))for(r=0;r<a;r++)void 0!==(o=e[r])._id&&(l[o._id]=o);for(s in l)l.hasOwnProperty(s)&&l[s].batchDraw()}static _animationLoop(){var t=$t;t.animations.length?(t._runFrames(),f.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,f.requestAnimFrame(this._animationLoop))}}$t.animations=[],$t.animIdCounter=0,$t.animRunning=!1;var Kt={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Qt=0,Jt=["fill","stroke","shadowColor"];class Zt{constructor(t,e,n,i,r,a,o){this.prop=t,this.propFunc=e,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class te{constructor(t){var e,n,r=this,a=t.node,o=a._id,s=t.easing||ee.Linear,l=!!t.yoyo;e=void 0===t.duration?.3:0===t.duration?.001:t.duration,this.node=a,this._id=Qt++;var h=a.getLayer()||(a instanceof i.Stage?a.getLayers():null);for(n in h||f.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new $t((function(){r.tween.onEnterFrame()}),h),this.tween=new Zt(n,(function(t){r._tweenFunc(t)}),s,0,1,1e3*e,l),this._addListeners(),te.attrs[o]||(te.attrs[o]={}),te.attrs[o][this._id]||(te.attrs[o][this._id]={}),te.tweens[o]||(te.tweens[o]={}),t)void 0===Kt[n]&&this._addAttr(n,t[n]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,e){var n,i,r,a,o,s,l,h,c=this.node,d=c._id;if((r=te.tweens[d][t])&&delete te.attrs[d][r][t],n=c.getAttr(t),f._isArray(e))if(i=[],o=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?(l=n,n=f._prepareArrayForTween(n,e,c.closed())):(s=e,e=f._prepareArrayForTween(e,n,c.closed()))),0===t.indexOf("fill"))for(a=0;a<o;a++)if(a%2==0)i.push(e[a]-n[a]);else{var u=f.colorToRGBA(n[a]);h=f.colorToRGBA(e[a]),n[a]=u,i.push({r:h.r-u.r,g:h.g-u.g,b:h.b-u.b,a:h.a-u.a})}else for(a=0;a<o;a++)i.push(e[a]-n[a]);else-1!==Jt.indexOf(t)?(n=f.colorToRGBA(n),i={r:(h=f.colorToRGBA(e)).r-n.r,g:h.g-n.g,b:h.b-n.b,a:h.a-n.a}):i=e-n;te.attrs[d][this._id][t]={start:n,diff:i,end:e,trueEnd:s,trueStart:l},te.tweens[d][t]=this._id}_tweenFunc(t){var e,n,i,r,a,o,s,l,h=this.node,c=te.attrs[h._id][this._id];for(e in c){if(i=(n=c[e]).start,r=n.diff,l=n.end,f._isArray(i))if(a=[],s=Math.max(i.length,l.length),0===e.indexOf("fill"))for(o=0;o<s;o++)o%2==0?a.push((i[o]||0)+r[o]*t):a.push("rgba("+Math.round(i[o].r+r[o].r*t)+","+Math.round(i[o].g+r[o].g*t)+","+Math.round(i[o].b+r[o].b*t)+","+(i[o].a+r[o].a*t)+")");else for(o=0;o<s;o++)a.push((i[o]||0)+r[o]*t);else a=-1!==Jt.indexOf(e)?"rgba("+Math.round(i.r+r.r*t)+","+Math.round(i.g+r.g*t)+","+Math.round(i.b+r.b*t)+","+(i.a+r.a*t)+")":i+r*t;h.setAttr(e,a)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,e=te.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,e=te.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(1e3*t),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t,e=this.node._id,n=this._id,i=te.tweens[e];for(t in this.pause(),i)delete te.tweens[e][t];delete te.attrs[e][n]}}te.attrs={},te.tweens={},Q.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new te(t).play()};const ee={BackEaseIn(t,e,n,i){var r=1.70158;return n*(t/=i)*t*((r+1)*t-r)+e},BackEaseOut(t,e,n,i){var r=1.70158;return n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},BackEaseInOut(t,e,n,i){var r=1.70158;return(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},ElasticEaseIn(t,e,n,i,r,a){var o=0;return 0===t?e:1==(t/=i)?e+n:(a||(a=.3*i),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)+e)},ElasticEaseOut(t,e,n,i,r,a){var o=0;return 0===t?e:1==(t/=i)?e+n:(a||(a=.3*i),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*i-o)*(2*Math.PI)/a)+n+e)},ElasticEaseInOut(t,e,n,i,r,a){var o=0;return 0===t?e:2==(t/=i/2)?e+n:(a||(a=i*(.3*1.5)),!r||r<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*.5+n+e)},BounceEaseOut:(t,e,n,i)=>(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e,BounceEaseIn:(t,e,n,i)=>n-ee.BounceEaseOut(i-t,0,n,i)+e,BounceEaseInOut:(t,e,n,i)=>t<i/2?.5*ee.BounceEaseIn(2*t,0,n,i)+e:.5*ee.BounceEaseOut(2*t-i,0,n,i)+.5*n+e,EaseIn:(t,e,n,i)=>n*(t/=i)*t+e,EaseOut:(t,e,n,i)=>-n*(t/=i)*(t-2)+e,EaseInOut:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,StrongEaseIn:(t,e,n,i)=>n*(t/=i)*t*t*t*t+e,StrongEaseOut:(t,e,n,i)=>n*((t=t/i-1)*t*t*t*t+1)+e,StrongEaseInOut:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e,Linear:(t,e,n,i)=>n*t/i+e},ne=f._assign(i,{Util:f,Transform:a,Node:Q,Container:Z,Stage:Lt,stages:It,Layer:Ut,FastLayer:Vt,Group:Yt,DD:M,Shape:Wt,shapes:jt,Animation:$t,Tween:te,Easings:ee,Context:k,Canvas:P});class ie extends Wt{_sceneFunc(t){var e=i.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}function re(t,e,n,i,r,a,o){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),l=Math.sqrt(Math.pow(r-n,2)+Math.pow(a-i,2)),h=o*s/(s+l),c=o*l/(s+l);return[n-h*(r-t),i-h*(a-e),n+c*(r-t),i+c*(a-e)]}function ae(t,e){var n,i,r=t.length,a=[];for(n=2;n<r-2;n+=2)i=re(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),isNaN(i[0])||(a.push(i[0]),a.push(i[1]),a.push(t[n]),a.push(t[n+1]),a.push(i[2]),a.push(i[3]));return a}ie.prototype._centroid=!0,ie.prototype.className="Arc",ie.prototype._attrsAffectingSize=["innerRadius","outerRadius"],r(ie),x.addGetterSetter(ie,"innerRadius",0,m()),x.addGetterSetter(ie,"outerRadius",0,m()),x.addGetterSetter(ie,"angle",0,m()),x.addGetterSetter(ie,"clockwise",!1,C());class oe extends Wt{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(t){var e,n,i,r=this.points(),a=r.length,o=this.tension(),s=this.closed(),l=this.bezier();if(a){if(t.beginPath(),t.moveTo(r[0],r[1]),0!==o&&a>4){for(n=(e=this.getTensionPoints()).length,i=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);i<n-2;)t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);s||t.quadraticCurveTo(e[n-2],e[n-1],r[a-2],r[a-1])}else if(l)for(i=2;i<a;)t.bezierCurveTo(r[i++],r[i++],r[i++],r[i++],r[i++],r[i++]);else for(i=2;i<a;i+=2)t.lineTo(r[i],r[i+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():ae(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,n=this.tension(),i=re(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),r=re(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=ae(t,n);return[i[2],i[3]].concat(a).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],i[0],i[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,i=(t=0!==this.tension()?[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.points())[0],r=t[0],a=t[1],o=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],i=Math.min(i,e),r=Math.max(r,e),a=Math.min(a,n),o=Math.max(o,n);return{x:i,y:a,width:r-i,height:o-a}}}oe.prototype.className="Line",oe.prototype._attrsAffectingSize=["points","bezier","tension"],r(oe),x.addGetterSetter(oe,"closed",!1),x.addGetterSetter(oe,"bezier",!1),x.addGetterSetter(oe,"tension",0,m()),x.addGetterSetter(oe,"points",[],function(){if(i.isUnminified)return function(t,e){return f._isArray(t)?t.forEach((function(t){f._isNumber(t)||f.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):f.warn(g(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}}());class se extends Wt{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this.dataArray=se.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength;this.on("dataChange.konva",(function(){this.dataArray=se.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength}))}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var n=!1,i=0;i<e.length;i++){var r=e[i].command,a=e[i].points;switch(r){case"L":t.lineTo(a[0],a[1]);break;case"M":t.moveTo(a[0],a[1]);break;case"C":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":t.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],s=a[1],l=a[2],h=a[3],c=a[4],d=a[5],u=a[6],f=a[7],g=l>h?l:h,p=l>h?1:l/h,m=l>h?h/l:1;t.translate(o,s),t.rotate(u),t.scale(p,m),t.arc(0,0,g,c,c+d,1-f),t.scale(1/p,1/m),t.rotate(-u),t.translate(-o,-s);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach((function(e){if("A"===e.command){var n=e.points[4],i=e.points[5],r=e.points[4]+i,a=Math.PI/180;if(Math.abs(n-r)<a&&(a=Math.abs(n-r)),i<0)for(let i=n-a;i>r;i-=a){const n=se.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],i,0);t.push(n.x,n.y)}else for(let i=n+a;i<r;i+=a){const n=se.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],i,0);t.push(n.x,n.y)}}else if("C"===e.command)for(let n=0;n<=1;n+=.01){const i=se.getPointOnCubicBezier(n,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);t.push(i.x,i.y)}else t=t.concat(e.points)}));for(var e,n,i=t[0],r=t[0],a=t[1],o=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],isNaN(e)||(i=Math.min(i,e),r=Math.max(r,e)),isNaN(n)||(a=Math.min(a,n),o=Math.max(o,n));return{x:Math.round(i),y:Math.round(a),width:Math.round(r-i),height:Math.round(o-a)}}getLength(){return this.pathLength}getPointAtLength(t){var e,n=0,i=this.dataArray.length;if(!i)return null;for(;n<i&&t>this.dataArray[n].pathLength;)t-=this.dataArray[n].pathLength,++n;if(n===i)return{x:(e=this.dataArray[n-1].points.slice(-2))[0],y:e[1]};if(t<.01)return{x:(e=this.dataArray[n].points.slice(0,2))[0],y:e[1]};var r=this.dataArray[n],a=r.points;switch(r.command){case"L":return se.getPointOnLine(t,r.start.x,r.start.y,a[0],a[1]);case"C":return se.getPointOnCubicBezier(t/r.pathLength,r.start.x,r.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return se.getPointOnQuadraticBezier(t/r.pathLength,r.start.x,r.start.y,a[0],a[1],a[2],a[3]);case"A":var o=a[0],s=a[1],l=a[2],h=a[3],c=a[4],d=a[5],u=a[6];return c+=d*t/r.pathLength,se.getPointOnEllipticalArc(o,s,l,h,c,u)}return null}static getLineLength(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))}static getPointOnLine(t,e,n,i,r,a,o){void 0===a&&(a=e),void 0===o&&(o=n);var s=(r-n)/(i-e+1e-8),l=Math.sqrt(t*t/(1+s*s));i<e&&(l*=-1);var h,c=s*l;if(i===e)h={x:a,y:o+c};else if((o-n)/(a-e+1e-8)===s)h={x:a+l,y:o+c};else{var d,u,f=this.getLineLength(e,n,i,r),g=(a-e)*(i-e)+(o-n)*(r-n);d=e+(g/=f*f)*(i-e),u=n+g*(r-n);var p=this.getLineLength(a,o,d,u),m=Math.sqrt(t*t-p*p);l=Math.sqrt(m*m/(1+s*s)),i<e&&(l*=-1),h={x:d+l,y:u+(c=s*l)}}return h}static getPointOnCubicBezier(t,e,n,i,r,a,o,s,l){function h(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function u(t){return(1-t)*(1-t)*(1-t)}return{x:s*h(t)+a*c(t)+i*d(t)+e*u(t),y:l*h(t)+o*c(t)+r*d(t)+n*u(t)}}static getPointOnQuadraticBezier(t,e,n,i,r,a,o){function s(t){return t*t}function l(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}return{x:a*s(t)+i*l(t)+e*h(t),y:o*s(t)+r*l(t)+n*h(t)}}static getPointOnEllipticalArc(t,e,n,i,r,a){var o=Math.cos(a),s=Math.sin(a),l=n*Math.cos(r),h=i*Math.sin(r);return{x:t+(l*o-h*s),y:e+(l*s+h*o)}}static parsePathData(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)e=e.replace(new RegExp(n[i],"g"),"|"+n[i]);var r,a=e.split("|"),o=[],s=[],l=0,h=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(i=1;i<a.length;i++){var d=a[i],u=d.charAt(0);for(d=d.slice(1),s.length=0;r=c.exec(d);)s.push(r[0]);for(var f=[],g=0,p=s.length;g<p;g++)if("00"!==s[g]){var m=parseFloat(s[g]);isNaN(m)?f.push(0):f.push(m)}else f.push(0,0);for(;f.length>0&&!isNaN(f[0]);){var v,y,_,b,C,w,S,x,T,E,k=null,A=[],O=l,D=h;switch(u){case"l":l+=f.shift(),h+=f.shift(),k="L",A.push(l,h);break;case"L":l=f.shift(),h=f.shift(),A.push(l,h);break;case"m":var P=f.shift(),I=f.shift();if(l+=P,h+=I,k="M",o.length>2&&"z"===o[o.length-1].command)for(var L=o.length-2;L>=0;L--)if("M"===o[L].command){l=o[L].points[0]+P,h=o[L].points[1]+I;break}A.push(l,h),u="l";break;case"M":l=f.shift(),h=f.shift(),k="M",A.push(l,h),u="L";break;case"h":l+=f.shift(),k="L",A.push(l,h);break;case"H":l=f.shift(),k="L",A.push(l,h);break;case"v":h+=f.shift(),k="L",A.push(l,h);break;case"V":h=f.shift(),k="L",A.push(l,h);break;case"C":A.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),h=f.shift(),A.push(l,h);break;case"c":A.push(l+f.shift(),h+f.shift(),l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),k="C",A.push(l,h);break;case"S":y=l,_=h,"C"===(v=o[o.length-1]).command&&(y=l+(l-v.points[2]),_=h+(h-v.points[3])),A.push(y,_,f.shift(),f.shift()),l=f.shift(),h=f.shift(),k="C",A.push(l,h);break;case"s":y=l,_=h,"C"===(v=o[o.length-1]).command&&(y=l+(l-v.points[2]),_=h+(h-v.points[3])),A.push(y,_,l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),k="C",A.push(l,h);break;case"Q":A.push(f.shift(),f.shift()),l=f.shift(),h=f.shift(),A.push(l,h);break;case"q":A.push(l+f.shift(),h+f.shift()),l+=f.shift(),h+=f.shift(),k="Q",A.push(l,h);break;case"T":y=l,_=h,"Q"===(v=o[o.length-1]).command&&(y=l+(l-v.points[0]),_=h+(h-v.points[1])),l=f.shift(),h=f.shift(),k="Q",A.push(y,_,l,h);break;case"t":y=l,_=h,"Q"===(v=o[o.length-1]).command&&(y=l+(l-v.points[0]),_=h+(h-v.points[1])),l+=f.shift(),h+=f.shift(),k="Q",A.push(y,_,l,h);break;case"A":b=f.shift(),C=f.shift(),w=f.shift(),S=f.shift(),x=f.shift(),T=l,E=h,l=f.shift(),h=f.shift(),k="A",A=this.convertEndpointToCenterParameterization(T,E,l,h,S,x,b,C,w);break;case"a":b=f.shift(),C=f.shift(),w=f.shift(),S=f.shift(),x=f.shift(),T=l,E=h,l+=f.shift(),h+=f.shift(),k="A",A=this.convertEndpointToCenterParameterization(T,E,l,h,S,x,b,C,w)}o.push({command:k||u,points:A,start:{x:O,y:D},pathLength:this.calcLength(O,D,k||u,A)})}"z"!==u&&"Z"!==u||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(t,e,n,i){var r,a,o,s,l=se;switch(n){case"L":return l.getLineLength(t,e,i[0],i[1]);case"C":for(r=0,a=l.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),s=.01;s<=1;s+=.01)o=l.getPointOnCubicBezier(s,t,e,i[0],i[1],i[2],i[3],i[4],i[5]),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return r;case"Q":for(r=0,a=l.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]),s=.01;s<=1;s+=.01)o=l.getPointOnQuadraticBezier(s,t,e,i[0],i[1],i[2],i[3]),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return r;case"A":r=0;var h=i[4],c=i[5],d=i[4]+c,u=Math.PI/180;if(Math.abs(h-d)<u&&(u=Math.abs(h-d)),a=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),c<0)for(s=h-u;s>d;s-=u)o=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(s=h+u;s<d;s+=u)o=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],s,0),r+=l.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=l.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),r+=l.getLineLength(a.x,a.y,o.x,o.y)}return 0}static convertEndpointToCenterParameterization(t,e,n,i,r,a,o,s,l){var h=l*(Math.PI/180),c=Math.cos(h)*(t-n)/2+Math.sin(h)*(e-i)/2,d=-1*Math.sin(h)*(t-n)/2+Math.cos(h)*(e-i)/2,u=c*c/(o*o)+d*d/(s*s);u>1&&(o*=Math.sqrt(u),s*=Math.sqrt(u));var f=Math.sqrt((o*o*(s*s)-o*o*(d*d)-s*s*(c*c))/(o*o*(d*d)+s*s*(c*c)));r===a&&(f*=-1),isNaN(f)&&(f=0);var g=f*o*d/s,p=f*-s*c/o,m=(t+n)/2+Math.cos(h)*g-Math.sin(h)*p,v=(e+i)/2+Math.sin(h)*g+Math.cos(h)*p,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},C=b([1,0],[(c-g)/o,(d-p)/s]),w=[(c-g)/o,(d-p)/s],S=[(-1*c-g)/o,(-1*d-p)/s],x=b(w,S);return _(w,S)<=-1&&(x=Math.PI),_(w,S)>=1&&(x=0),0===a&&x>0&&(x-=2*Math.PI),1===a&&x<0&&(x+=2*Math.PI),[m,v,o,s,C,x,h,a]}}se.prototype.className="Path",se.prototype._attrsAffectingSize=["data"],r(se),x.addGetterSetter(se,"data");class le extends oe{_sceneFunc(t){super._sceneFunc(t);var e=2*Math.PI,n=this.points(),i=n,r=0!==this.tension()&&n.length>4;r&&(i=this.getTensionPoints());var a,o,s=this.pointerLength(),l=n.length;if(r){const t=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[l-2],n[l-1]],e=se.calcLength(i[i.length-4],i[i.length-3],"C",t),r=se.getPointOnQuadraticBezier(Math.min(1,1-s/e),t[0],t[1],t[2],t[3],t[4],t[5]);a=n[l-2]-r.x,o=n[l-1]-r.y}else a=n[l-2]-n[l-4],o=n[l-1]-n[l-3];var h=(Math.atan2(o,a)+e)%e,c=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(n[l-2],n[l-1]),t.rotate(h),t.moveTo(0,0),t.lineTo(-s,c/2),t.lineTo(-s,-c/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(n[0],n[1]),r?(a=(i[0]+i[2])/2-n[0],o=(i[1]+i[3])/2-n[1]):(a=n[2]-n[0],o=n[3]-n[1]),t.rotate((Math.atan2(-o,-a)+e)%e),t.moveTo(0,0),t.lineTo(-s,c/2),t.lineTo(-s,-c/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}}}le.prototype.className="Arrow",r(le),x.addGetterSetter(le,"pointerLength",10,m()),x.addGetterSetter(le,"pointerWidth",10,m()),x.addGetterSetter(le,"pointerAtBeginning",!1),x.addGetterSetter(le,"pointerAtEnding",!0);class he extends Wt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}he.prototype._centroid=!0,he.prototype.className="Circle",he.prototype._attrsAffectingSize=["radius"],r(he),x.addGetterSetter(he,"radius",0,m());class ce extends Wt{_sceneFunc(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}ce.prototype.className="Ellipse",ce.prototype._centroid=!0,ce.prototype._attrsAffectingSize=["radiusX","radiusY"],r(ce),x.addComponentsGetterSetter(ce,"radius",["x","y"]),x.addGetterSetter(ce,"radiusX",0,m()),x.addGetterSetter(ce,"radiusY",0,m());class de extends Wt{constructor(t){super(t),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),n=this.getHeight(),i=this.attrs.image;let r;if(i){const t=this.attrs.cropWidth,a=this.attrs.cropHeight;r=t&&a?[i,this.cropX(),this.cropY(),t,a,0,0,e,n]:[i,0,0,e,n]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)),i&&t.drawImage.apply(t,r)}_hitFunc(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(t,e){var n=f.createImageElement();n.onload=function(){var t=new de({image:n});e(t)},n.crossOrigin="Anonymous",n.src=t}}de.prototype.className="Image",r(de),x.addGetterSetter(de,"image"),x.addComponentsGetterSetter(de,"crop",["x","y","width","height"]),x.addGetterSetter(de,"cropX",0,m()),x.addGetterSetter(de,"cropY",0,m()),x.addGetterSetter(de,"cropWidth",0,m()),x.addGetterSetter(de,"cropHeight",0,m());var ue=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],fe="up",ge="right",pe="down",me="left",ve=ue.length;class ye extends Yt{constructor(t){super(t),this.on("add.konva",(function(t){this._addListeners(t.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var e,n=this,i=function(){n._sync()};for(e=0;e<ve;e++)t.on(ue[e]+"Change.konva",i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t,e,n,i,r,a,o,s=this.getText(),l=this.getTag();if(s&&l){switch(t=s.width(),e=s.height(),n=l.pointerDirection(),i=l.pointerWidth(),o=l.pointerHeight(),r=0,a=0,n){case fe:r=t/2,a=-1*o;break;case ge:r=t+i,a=e/2;break;case pe:r=t/2,a=e+o;break;case me:r=-1*i,a=e/2}l.setAttrs({x:-1*r,y:-1*a,width:t,height:e}),s.setAttrs({x:-1*r,y:-1*a})}}}ye.prototype.className="Label",r(ye);class _e extends Wt{_sceneFunc(t){var e=this.width(),n=this.height(),i=this.pointerDirection(),r=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let s=0,l=0,h=0,c=0;"number"==typeof o?s=l=h=c=Math.min(o,e/2,n/2):(s=Math.min(o[0]||0,e/2,n/2),l=Math.min(o[1]||0,e/2,n/2),c=Math.min(o[2]||0,e/2,n/2),h=Math.min(o[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(s,0),i===fe&&(t.lineTo((e-r)/2,0),t.lineTo(e/2,-1*a),t.lineTo((e+r)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),i===ge&&(t.lineTo(e,(n-a)/2),t.lineTo(e+r,n/2),t.lineTo(e,(n+a)/2)),t.lineTo(e,n-c),t.arc(e-c,n-c,c,0,Math.PI/2,!1),i===pe&&(t.lineTo((e+r)/2,n),t.lineTo(e/2,n+a),t.lineTo((e-r)/2,n)),t.lineTo(h,n),t.arc(h,n-h,h,Math.PI/2,Math.PI,!1),i===me&&(t.lineTo(0,(n+a)/2),t.lineTo(-1*r,n/2),t.lineTo(0,(n-a)/2)),t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,n=this.pointerWidth(),i=this.pointerHeight(),r=this.pointerDirection(),a=this.width(),o=this.height();return r===fe?(e-=i,o+=i):r===pe?o+=i:r===me?(t-=1.5*n,a+=n):r===ge&&(a+=1.5*n),{x:t,y:e,width:a,height:o}}}_e.prototype.className="Tag",r(_e),x.addGetterSetter(_e,"pointerDirection","none"),x.addGetterSetter(_e,"pointerWidth",0,m()),x.addGetterSetter(_e,"pointerHeight",0,m()),x.addGetterSetter(_e,"cornerRadius",0,v(4));class be extends Wt{_sceneFunc(t){var e=this.cornerRadius(),n=this.width(),i=this.height();if(t.beginPath(),e){let r=0,a=0,o=0,s=0;"number"==typeof e?r=a=o=s=Math.min(e,n/2,i/2):(r=Math.min(e[0]||0,n/2,i/2),a=Math.min(e[1]||0,n/2,i/2),s=Math.min(e[2]||0,n/2,i/2),o=Math.min(e[3]||0,n/2,i/2)),t.moveTo(r,0),t.lineTo(n-a,0),t.arc(n-a,a,a,3*Math.PI/2,0,!1),t.lineTo(n,i-s),t.arc(n-s,i-s,s,0,Math.PI/2,!1),t.lineTo(o,i),t.arc(o,i-o,o,Math.PI/2,Math.PI,!1),t.lineTo(0,r),t.arc(r,r,r,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,i);t.closePath(),t.fillStrokeShape(this)}}be.prototype.className="Rect",r(be),x.addGetterSetter(be,"cornerRadius",0,v(4));class Ce extends Wt{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,n=[];for(var i=0;i<t;i++)n.push({x:e*Math.sin(2*i*Math.PI/t),y:-1*e*Math.cos(2*i*Math.PI/t)});return n}getSelfRect(){const t=this._getPoints();var e=t[0].x,n=t[0].y,i=t[0].x,r=t[0].y;return t.forEach((t=>{e=Math.min(e,t.x),n=Math.max(n,t.x),i=Math.min(i,t.y),r=Math.max(r,t.y)})),{x:e,y:i,width:n-e,height:r-i}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}Ce.prototype.className="RegularPolygon",Ce.prototype._centroid=!0,Ce.prototype._attrsAffectingSize=["radius"],r(Ce),x.addGetterSetter(Ce,"radius",0,m()),x.addGetterSetter(Ce,"sides",0,m());var we=2*Math.PI;class Se extends Wt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,we,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),we,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}Se.prototype.className="Ring",Se.prototype._centroid=!0,Se.prototype._attrsAffectingSize=["innerRadius","outerRadius"],r(Se),x.addGetterSetter(Se,"innerRadius",0,m()),x.addGetterSetter(Se,"outerRadius",0,m());class xe extends Wt{constructor(t){super(t),this._updated=!0,this.anim=new $t((()=>{var t=this._updated;return this._updated=!1,t})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(t){var e=this.animation(),n=this.frameIndex(),i=4*n,r=this.animations()[e],a=this.frameOffsets(),o=r[i+0],s=r[i+1],l=r[i+2],h=r[i+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,h),t.closePath(),t.fillStrokeShape(this)),c)if(a){var d=a[e],u=2*n;t.drawImage(c,o,s,l,h,d[u+0],d[u+1],l,h)}else t.drawImage(c,o,s,l,h,0,0,l,h)}_hitFunc(t){var e=this.animation(),n=this.frameIndex(),i=4*n,r=this.animations()[e],a=this.frameOffsets(),o=r[i+2],s=r[i+3];if(t.beginPath(),a){var l=a[e],h=2*n;t.rect(l[h+0],l[h+1],o,s)}else t.rect(0,0,o,s);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}}xe.prototype.className="Sprite",r(xe),x.addGetterSetter(xe,"animation"),x.addGetterSetter(xe,"animations"),x.addGetterSetter(xe,"frameOffsets"),x.addGetterSetter(xe,"image"),x.addGetterSetter(xe,"frameIndex",0,m()),x.addGetterSetter(xe,"frameRate",17,m()),x.backCompat(xe,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Te extends Wt{_sceneFunc(t){var e=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var r=1;r<2*i;r++){var a=r%2==0?n:e,o=a*Math.sin(r*Math.PI/i),s=-1*a*Math.cos(r*Math.PI/i);t.lineTo(o,s)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}function Ee(t){return Array.from(t)}Te.prototype.className="Star",Te.prototype._centroid=!0,Te.prototype._attrsAffectingSize=["innerRadius","outerRadius"],r(Te),x.addGetterSetter(Te,"numPoints",5,m()),x.addGetterSetter(Te,"innerRadius",0,m()),x.addGetterSetter(Te,"outerRadius",0,m());var ke,Ae="auto",Oe="justify",De="left",Pe="middle",Ie="normal",Le=" ",Me=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Ne=Me.length;function Re(){return ke||(ke=f.createCanvasElement().getContext("2d"))}class Ge extends Wt{constructor(t){super(function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<Ne;e++)this.on(Me[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,n=e.length;if(this.text()){var i,r=this.padding(),a=this.fontSize(),o=this.lineHeight()*a,s=this.verticalAlign(),l=0,h=this.align(),c=this.getWidth(),d=this.letterSpacing(),u=this.fill(),f=this.textDecoration(),g=-1!==f.indexOf("underline"),p=-1!==f.indexOf("line-through"),m=0,v=(m=o/2,0),y=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",Pe),t.setAttr("textAlign",De),s===Pe?l=(this.getHeight()-n*o-2*r)/2:"bottom"===s&&(l=this.getHeight()-n*o-2*r),t.translate(r,l+r),i=0;i<n;i++){v=0,y=0;var _,b,C,w=e[i],S=w.text,x=w.width,T=i!==n-1;if(t.save(),"right"===h?v+=c-x-2*r:"center"===h&&(v+=(c-x-2*r)/2),g&&(t.save(),t.beginPath(),t.moveTo(v,m+y+Math.round(a/2)),b=0===(_=S.split(" ").length-1),C=h===Oe&&T&&!b?c-2*r:x,t.lineTo(v+Math.round(C),m+y+Math.round(a/2)),t.lineWidth=a/15,t.strokeStyle=u,t.stroke(),t.restore()),p&&(t.save(),t.beginPath(),t.moveTo(v,m+y),b=0===(_=S.split(" ").length-1),C=h===Oe&&T&&!b?c-2*r:x,t.lineTo(v+Math.round(C),m+y),t.lineWidth=a/15,t.strokeStyle=u,t.stroke(),t.restore()),0!==d||h===Oe){_=S.split(" ").length-1;for(var E=Ee(S),k=0;k<E.length;k++){var A=E[k];" "===A&&i!==n-1&&h===Oe&&(v+=(c-2*r-x)/_),this._partialTextX=v,this._partialTextY=m+y,this._partialText=A,t.fillStrokeShape(this),v+=this.measureSize(A).width+d}}else this._partialTextX=v,this._partialTextY=m+y,this._partialText=S,t.fillStrokeShape(this);t.restore(),n>1&&(m+=o)}}}_hitFunc(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=f._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this}getWidth(){return this.attrs.width===Ae||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===Ae||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return f.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e,n=Re(),i=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:i}}_getContextFont(){return this.fontStyle()+Le+this.fontVariant()+Le+(this.fontSize()+"px ")+this.fontFamily().split(",").map((t=>{const e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t=`"${t}"`),t})).join(", ")}_addTextLine(t){this.align()===Oe&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})}_getTextWidth(t){var e=this.letterSpacing(),n=t.length;return Re().measureText(t).width+(n?e*(n-1):0)}_setTextData(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,i=this.lineHeight()*e,r=this.attrs.width,a=this.attrs.height,o=r!==Ae&&void 0!==r,s=a!==Ae&&void 0!==a,l=this.padding(),h=r-2*l,c=a-2*l,d=0,u=this.wrap(),f="none"!==u,g="char"!==u&&f,p=this.ellipsis();this.textArr=[],Re().font=this._getContextFont();for(var m=p?this._getTextWidth("…"):0,v=0,y=t.length;v<y;++v){var _=t[v],b=this._getTextWidth(_);if(o&&b>h)for(;_.length>0;){for(var C=0,w=_.length,S="",x=0;C<w;){var T=C+w>>>1,E=_.slice(0,T+1),k=this._getTextWidth(E)+m;k<=h?(C=T+1,S=E,x=k):w=T}if(!S)break;if(g){var A,O=_[S.length];(A=(O===Le||"-"===O)&&x<=h?S.length:Math.max(S.lastIndexOf(Le),S.lastIndexOf("-"))+1)>0&&(C=A,S=S.slice(0,C),x=this._getTextWidth(S))}if(S=S.trimRight(),this._addTextLine(S),n=Math.max(n,x),d+=i,!f||s&&d+i>c){var D=this.textArr[this.textArr.length-1];if(D)if(p)this._getTextWidth(D.text+"…")<h||(D.text=D.text.slice(0,D.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(D.text+"…");break}if((_=(_=_.slice(C)).trimLeft()).length>0&&(b=this._getTextWidth(_))<=h){this._addTextLine(_),d+=i,n=Math.max(n,b);break}}else this._addTextLine(_),d+=i,n=Math.max(n,b);if(s&&d+i>c)break}this.textHeight=e,this.textWidth=n}getStrokeScaleEnabled(){return!0}}Ge.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},Ge.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},Ge.prototype.className="Text",Ge.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],r(Ge),x.overWriteSetter(Ge,"width",y()),x.overWriteSetter(Ge,"height",y()),x.addGetterSetter(Ge,"fontFamily","Arial"),x.addGetterSetter(Ge,"fontSize",12,m()),x.addGetterSetter(Ge,"fontStyle",Ie),x.addGetterSetter(Ge,"fontVariant",Ie),x.addGetterSetter(Ge,"padding",0,m()),x.addGetterSetter(Ge,"align",De),x.addGetterSetter(Ge,"verticalAlign","top"),x.addGetterSetter(Ge,"lineHeight",1,m()),x.addGetterSetter(Ge,"wrap","word"),x.addGetterSetter(Ge,"ellipsis",!1,C()),x.addGetterSetter(Ge,"letterSpacing",0,m()),x.addGetterSetter(Ge,"text","",_()),x.addGetterSetter(Ge,"textDecoration","");var Fe="normal";function He(t){t.fillText(this.partialText,0,0)}function Be(t){t.strokeText(this.partialText,0,0)}class je extends Wt{constructor(t){super(t),this.dummyCanvas=f.createCanvasElement(),this.dataArray=[],this.dataArray=se.parsePathData(this.attrs.data),this.on("dataChange.konva",(function(){this.dataArray=se.parsePathData(this.attrs.data),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva",this._setTextData),this._setTextData()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),i=this.fontSize(),r=this.glyphInfo;"underline"===e&&t.beginPath();for(var a=0;a<r.length;a++){t.save();var o=r[a].p0;t.translate(o.x,o.y),t.rotate(r[a].rotation),this.partialText=r[a].text,t.fillStrokeShape(this),"underline"===e&&(0===a&&t.moveTo(0,i/2+1),t.lineTo(i,i/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=i/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var i=0;i<e.length;i++){var r=e[i].p1;t.lineTo(r.x,r.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return f.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return Ge.prototype.setText.call(this,t)}_getContextFont(){return Ge.prototype._getContextFont.call(this)}_getTextSize(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),i=this.align(),r=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var o=0,s=0;s<t.dataArray.length;s++)t.dataArray[s].pathLength>0&&(o+=t.dataArray[s].pathLength);var l=0;"center"===i&&(l=Math.max(0,o/2-a/2)),"right"===i&&(l=Math.max(0,o-a));for(var h,c,d,u=Ee(this.text()),f=this.text().split(" ").length-1,g=-1,p=0,m=function(){p=0;for(var e=t.dataArray,n=g+1;n<e.length;n++){if(e[n].pathLength>0)return g=n,e[n];"M"===e[n].command&&(h={x:e[n].points[0],y:e[n].points[1]})}return{}},v=function(e){var r=t._getTextSize(e).width+n;" "===e&&"justify"===i&&(r+=(o-a)/f);var s=0,l=0;for(c=void 0;Math.abs(r-s)/r>.01&&l<20;){l++;for(var u=s;void 0===d;)(d=m())&&u+d.pathLength<r&&(u+=d.pathLength,d=void 0);if(d==={}||void 0===h)return;var g=!1;switch(d.command){case"L":se.getLineLength(h.x,h.y,d.points[0],d.points[1])>r?c=se.getPointOnLine(r,h.x,h.y,d.points[0],d.points[1],h.x,h.y):d=void 0;break;case"A":var v=d.points[4],y=d.points[5],_=d.points[4]+y;0===p?p=v+1e-8:r>s?p+=Math.PI/180*y/Math.abs(y):p-=Math.PI/360*y/Math.abs(y),(y<0&&p<_||y>=0&&p>_)&&(p=_,g=!0),c=se.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],p,d.points[6]);break;case"C":0===p?p=r>d.pathLength?1e-8:r/d.pathLength:r>s?p+=(r-s)/d.pathLength/2:p=Math.max(p-(s-r)/d.pathLength/2,0),p>1&&(p=1,g=!0),c=se.getPointOnCubicBezier(p,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===p?p=r/d.pathLength:r>s?p+=(r-s)/d.pathLength:p-=(s-r)/d.pathLength,p>1&&(p=1,g=!0),c=se.getPointOnQuadraticBezier(p,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}void 0!==c&&(s=se.getLineLength(h.x,h.y,c.x,c.y)),g&&(g=!1,d=void 0)}},y=l/(t._getTextSize("C").width+n)-1,_=0;_<y&&(v("C"),void 0!==h&&void 0!==c);_++)h=c;for(var b=0;b<u.length&&(v(u[b]),void 0!==h&&void 0!==c);b++){var C=se.getLineLength(h.x,h.y,c.x,c.y),w=0;if(r)try{w=r(u[b-1],u[b])*this.fontSize()}catch(t){w=0}h.x+=w,c.x+=w,this.textWidth+=w;var S=se.getPointOnLine(w+C/2,h.x,h.y,c.x,c.y),x=Math.atan2(c.y-h.y,c.x-h.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:u[b],rotation:x,p0:h,p1:c}),h=c}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,i=t[0]||0,r=t[0]||0,a=t[1]||0,o=t[1]||0,s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],i=Math.min(i,e),r=Math.max(r,e),a=Math.min(a,n),o=Math.max(o,n);var l=this.fontSize();return{x:i-l/2,y:a-l/2,width:r-i+l,height:o-a+l}}}je.prototype._fillFunc=He,je.prototype._strokeFunc=Be,je.prototype._fillFuncHit=He,je.prototype._strokeFuncHit=Be,je.prototype.className="TextPath",je.prototype._attrsAffectingSize=["text","fontSize","data"],r(je),x.addGetterSetter(je,"data"),x.addGetterSetter(je,"fontFamily","Arial"),x.addGetterSetter(je,"fontSize",12,m()),x.addGetterSetter(je,"fontStyle",Fe),x.addGetterSetter(je,"align","left"),x.addGetterSetter(je,"letterSpacing",0,m()),x.addGetterSetter(je,"textBaseline","middle"),x.addGetterSetter(je,"fontVariant",Fe),x.addGetterSetter(je,"text",""),x.addGetterSetter(je,"textDecoration",null),x.addGetterSetter(je,"kerningFunc",null);var We="tr-konva",ze=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((t=>t+".tr-konva")).join(" "),qe="nodesRect",Ue=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],Ve={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const Ye="ontouchstart"in i._global;var Xe=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function $e(t,e,n){const i=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),r=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:i,y:r})}function Ke(t,e){const n=function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t);return $e(t,e,n)}class Qe extends Yt{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ze,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return f.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return We+this._id}setNodes(t=[]){return this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((t=>{const e=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},n=t._attrsAffectingSize.map((t=>t+"Change."+this._getEventNamespace())).join(" ");t.on(n,e),t.on(Ue.map((t=>t+`.${this._getEventNamespace()}`)).join(" "),e),t.on(`absoluteTransformChange.${this._getEventNamespace()}`,e),this._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,(n=>{e=t.getAbsolutePosition(),this.isDragging()||t===this.findOne(".back")||this.startDrag(n,!1)})),t.on(`dragmove.${this._getEventNamespace()}`,(n=>{if(!e)return;const i=t.getAbsolutePosition(),r=i.x-e.x,a=i.y-e.y;this.nodes().forEach((e=>{if(e===t)return;if(e.isDragging())return;const i=e.getAbsolutePosition();e.setAbsolutePosition({x:i.x+r,y:i.y+a}),e.startDrag(n)})),e=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((t=>{t.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(qe),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(qe,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),n){var r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=t.getAbsoluteScale(n),o=t.getAbsolutePosition(n),s=r.x*a.x-t.offsetX()*a.x,l=r.y*a.y-t.offsetY()*a.y;const h=(i.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return $e({x:o.x+s*Math.cos(h)+l*Math.sin(-h),y:o.y+l*Math.cos(h)+s*Math.sin(h),width:r.width*a.x,height:r.height*a.y,rotation:h},-i.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const t=[];this.nodes().map((e=>{const n=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var i=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],r=e.getAbsoluteTransform();i.forEach((function(e){var n=r.point(e);t.push(n)}))}));const e=new a;var n,r,o,s;e.rotate(-i.getAngle(this.rotation())),t.forEach((function(t){var i=e.point(t);void 0===n&&(n=o=i.x,r=s=i.y),n=Math.min(n,i.x),r=Math.min(r,i.y),o=Math.max(o,i.x),s=Math.max(s,i.y)})),e.invert();const l=e.point({x:n,y:r});return{x:l.x,y:l.y,width:o-n,height:s-r,rotation:i.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Xe.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new be({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Ye?10:"auto"}),n=this;e.on("mousedown touchstart",(function(t){n._handleMouseDown(t)})),e.on("dragstart",(t=>{e.stopDrag(),t.cancelBubble=!0})),e.on("dragend",(t=>{t.cancelBubble=!0})),e.on("mouseenter",(()=>{var n=i.getAngle(this.rotation()),r=function(t,e){if("rotater"===t)return"crosshair";e+=f.degToRad(Ve[t]||0);var n=(f.radToDeg(e)%360+360)%360;return f._inRange(n,337.5,360)||f._inRange(n,0,22.5)?"ns-resize":f._inRange(n,22.5,67.5)?"nesw-resize":f._inRange(n,67.5,112.5)?"ew-resize":f._inRange(n,112.5,157.5)?"nwse-resize":f._inRange(n,157.5,202.5)?"ns-resize":f._inRange(n,202.5,247.5)?"nesw-resize":f._inRange(n,247.5,292.5)?"ew-resize":f._inRange(n,292.5,337.5)?"nwse-resize":(f.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(t,n);e.getStage().content&&(e.getStage().content.style.cursor=r),this._cursorChange=!0})),e.on("mouseout",(()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(e)}_createBack(){var t=new Wt({name:"back",width:0,height:0,draggable:!0,sceneFunc(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*f._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:(t,e)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();t.beginPath(),t.rect(-n,-n,e.width()+2*n,e.height()+2*n),t.fillStrokeShape(e)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",(t=>{t.cancelBubble=!0})),t.on("dragmove",(t=>{t.cancelBubble=!0})),t.on("dragend",(t=>{t.cancelBubble=!0})),this.on("dragmove",(t=>{this.update()}))}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,i=e.height,r=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/r),this.cos=Math.abs(n/r),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var a=t.target.getAbsolutePosition(),o=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this._nodes.forEach((e=>{e._fire("transformstart",{evt:t,target:e})}))}_handleMouseMove(t){var e,n,r,a=this.findOne("."+this._movingAnchorName),o=a.getStage();o.setPointersPositions(t);const s=o.getPointerPosition();let l={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y};const h=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(h,l,t)),a.setAbsolutePosition(l);const c=a.getAbsolutePosition();if(h.x!==c.x||h.y!==c.y)if("rotater"!==this._movingAnchorName){var d=this.keepRatio()||t.shiftKey,u=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(d){var f=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(f.x-a.x(),2)+Math.pow(f.y-a.y(),2));var g=this.findOne(".top-left").x()>f.x?-1:1,p=this.findOne(".top-left").y()>f.y?-1:1;e=r*this.cos*g,n=r*this.sin*p,this.findOne(".top-left").x(f.x-e),this.findOne(".top-left").y(f.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(a.y());else if("top-right"===this._movingAnchorName){if(d){f=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(a.x()-f.x,2)+Math.pow(f.y-a.y(),2));g=this.findOne(".top-right").x()<f.x?-1:1,p=this.findOne(".top-right").y()>f.y?-1:1;e=r*this.cos*g,n=r*this.sin*p,this.findOne(".top-right").x(f.x+e),this.findOne(".top-right").y(f.y-n)}var m=a.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(a.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(a.x());else if("bottom-left"===this._movingAnchorName){if(d){f=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(f.x-a.x(),2)+Math.pow(a.y()-f.y,2));g=f.x<a.x()?-1:1,p=a.y()<f.y?-1:1;e=r*this.cos*g,n=r*this.sin*p,a.x(f.x-e),a.y(f.y+n)}m=a.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(a.y());else if("bottom-right"===this._movingAnchorName){if(d){f=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(a.x()-f.x,2)+Math.pow(a.y()-f.y,2));g=this.findOne(".bottom-right").x()<f.x?-1:1,p=this.findOne(".bottom-right").y()<f.y?-1:1;e=r*this.cos*g,n=r*this.sin*p,this.findOne(".bottom-right").x(f.x+e),this.findOne(".bottom-right").y(f.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(u=this.centeredScaling()||t.altKey){var v=this.findOne(".top-left"),y=this.findOne(".bottom-right"),_=v.x(),b=v.y(),C=this.getWidth()-y.x(),w=this.getHeight()-y.y();y.move({x:-_,y:-b}),v.move({x:C,y:w})}var S=this.findOne(".top-left").getAbsolutePosition();e=S.x,n=S.y;var x=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:x,height:T,rotation:i.getAngle(this.rotation())},t)}else{var E=this._getNodeRect();e=a.x()-E.width/2,n=-a.y()+E.height/2;let r=Math.atan2(-n,e)+Math.PI/2;E.height<0&&(r-=Math.PI);const o=i.getAngle(this.rotation())+r,s=i.getAngle(this.rotationSnapTolerance()),l=function(t,e,n){let r=e;for(let a=0;a<t.length;a++){const o=i.getAngle(t[a]),s=Math.abs(o-e)%(2*Math.PI);Math.min(s,2*Math.PI-s)<n&&(r=o)}return r}(this.rotationSnaps(),o,s),h=Ke(E,l-E.rotation);this._fitNodesInto(h,t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((e=>{e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}}_fitNodesInto(t,e){var n=this._getNodeRect();if(f._inRange(t.width,2*-this.padding()-1,1))return void this.update();if(f._inRange(t.height,2*-this.padding()-1,1))return void this.update();const r=this.flipEnabled();var o=new a;if(o.rotate(i.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const e=o.point({x:2*-this.padding(),y:0});if(t.x+=e.x,t.y+=e.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,!r)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const e=o.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.width+=2*this.padding(),!r)return void this.update()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const e=o.point({x:0,y:2*-this.padding()});if(t.x+=e.x,t.y+=e.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!r)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const e=o.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!r)return void this.update()}if(this.boundBoxFunc()){const e=this.boundBoxFunc()(n,t);e?t=e:f.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,l=new a;l.translate(n.x,n.y),l.rotate(n.rotation),l.scale(n.width/s,n.height/s);const h=new a;h.translate(t.x,t.y),h.rotate(t.rotation),h.scale(t.width/s,t.height/s);const c=h.multiply(l.invert());this._nodes.forEach((t=>{var n;const i=t.getParent().getAbsoluteTransform(),r=t.getTransform().copy();r.translate(t.offsetX(),t.offsetY());const o=new a;o.multiply(i.copy().invert()).multiply(c).multiply(i).multiply(r);const s=o.decompose();t.setAttrs(s),this._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()})),this.rotation(f._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(f._getRotation(e.rotation));var n=e.width,i=e.height,r=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),s=this.anchorSize();this.find("._anchor").forEach((t=>{t.setAttrs({width:s,height:s,offsetX:s/2,offsetY:s/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:s/2+o,offsetY:s/2+o,visible:a&&r.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:s/2+o,visible:a&&r.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:s/2-o,offsetY:s/2+o,visible:a&&r.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:s/2+o,visible:a&&r.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:s/2-o,visible:a&&r.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:s/2+o,offsetY:s/2-o,visible:a&&r.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:s/2-o,visible:a&&r.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:s/2-o,offsetY:s/2-o,visible:a&&r.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*f._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Yt.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Q.prototype.toObject.call(this)}}Qe.prototype.className="Transformer",r(Qe),x.addGetterSetter(Qe,"enabledAnchors",Xe,(function(t){return t instanceof Array||f.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===Xe.indexOf(t)&&f.warn("Unknown anchor name: "+t+". Available names are: "+Xe.join(", "))})),t||[]})),x.addGetterSetter(Qe,"flipEnabled",!0,C()),x.addGetterSetter(Qe,"resizeEnabled",!0),x.addGetterSetter(Qe,"anchorSize",10,m()),x.addGetterSetter(Qe,"rotateEnabled",!0),x.addGetterSetter(Qe,"rotationSnaps",[]),x.addGetterSetter(Qe,"rotateAnchorOffset",50,m()),x.addGetterSetter(Qe,"rotationSnapTolerance",5,m()),x.addGetterSetter(Qe,"borderEnabled",!0),x.addGetterSetter(Qe,"anchorStroke","rgb(0, 161, 255)"),x.addGetterSetter(Qe,"anchorStrokeWidth",1,m()),x.addGetterSetter(Qe,"anchorFill","white"),x.addGetterSetter(Qe,"anchorCornerRadius",0,m()),x.addGetterSetter(Qe,"borderStroke","rgb(0, 161, 255)"),x.addGetterSetter(Qe,"borderStrokeWidth",1,m()),x.addGetterSetter(Qe,"borderDash"),x.addGetterSetter(Qe,"keepRatio",!0),x.addGetterSetter(Qe,"centeredScaling",!1),x.addGetterSetter(Qe,"ignoreStroke",!1),x.addGetterSetter(Qe,"padding",0,m()),x.addGetterSetter(Qe,"node"),x.addGetterSetter(Qe,"nodes"),x.addGetterSetter(Qe,"boundBoxFunc"),x.addGetterSetter(Qe,"anchorDragBoundFunc"),x.addGetterSetter(Qe,"shouldOverdrawWholeArea",!1),x.addGetterSetter(Qe,"useSingleNodeRotation",!0),x.backCompat(Qe,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Je extends Wt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,i.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}function Ze(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}Je.prototype.className="Wedge",Je.prototype._centroid=!0,Je.prototype._attrsAffectingSize=["radius"],r(Je),x.addGetterSetter(Je,"radius",0,m()),x.addGetterSetter(Je,"angle",0,m()),x.addGetterSetter(Je,"clockwise",!1),x.backCompat(Je,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var tn=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],en=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];x.addGetterSetter(Q,"blurRadius",0,m(),x.afterSetFilter);x.addGetterSetter(Q,"brightness",0,m(),x.afterSetFilter);x.addGetterSetter(Q,"contrast",0,m(),x.afterSetFilter);function nn(t,e,n,i,r){var a=n-e,o=r-i;return 0===a?i+o/2:0===o?i:o*((t-e)/a)+i}x.addGetterSetter(Q,"embossStrength",.5,m(),x.afterSetFilter),x.addGetterSetter(Q,"embossWhiteLevel",.5,m(),x.afterSetFilter),x.addGetterSetter(Q,"embossDirection","top-left",null,x.afterSetFilter),x.addGetterSetter(Q,"embossBlend",!1,null,x.afterSetFilter);x.addGetterSetter(Q,"enhance",0,m(),x.afterSetFilter);x.addGetterSetter(Q,"hue",0,m(),x.afterSetFilter),x.addGetterSetter(Q,"saturation",0,m(),x.afterSetFilter),x.addGetterSetter(Q,"luminance",0,m(),x.afterSetFilter);x.addGetterSetter(Q,"hue",0,m(),x.afterSetFilter),x.addGetterSetter(Q,"saturation",0,m(),x.afterSetFilter),x.addGetterSetter(Q,"value",0,m(),x.afterSetFilter);function rn(t,e,n){var i=4*(n*t.width+e),r=[];return r.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),r}function an(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}x.addGetterSetter(Q,"kaleidoscopePower",2,m(),x.afterSetFilter),x.addGetterSetter(Q,"kaleidoscopeAngle",0,m(),x.afterSetFilter);x.addGetterSetter(Q,"threshold",0,m(),x.afterSetFilter);x.addGetterSetter(Q,"noise",.2,m(),x.afterSetFilter);x.addGetterSetter(Q,"pixelSize",8,m(),x.afterSetFilter);x.addGetterSetter(Q,"levels",.5,m(),x.afterSetFilter);x.addGetterSetter(Q,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),x.addGetterSetter(Q,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),x.addGetterSetter(Q,"blue",0,p,x.afterSetFilter);x.addGetterSetter(Q,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),x.addGetterSetter(Q,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),x.addGetterSetter(Q,"blue",0,p,x.afterSetFilter),x.addGetterSetter(Q,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}));x.addGetterSetter(Q,"threshold",.5,m(),x.afterSetFilter);const on=ne.Util._assign(ne,{Arc:ie,Arrow:le,Circle:he,Ellipse:ce,Image:de,Label:ye,Tag:_e,Line:oe,Path:se,Rect:be,RegularPolygon:Ce,Ring:Se,Sprite:xe,Star:Te,Text:Ge,TextPath:je,Transformer:Qe,Wedge:Je,Filters:{Blur:function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,i,r,a,o,s,l,h,c,d,u,f,g,p,m,v,y,_,b,C,w,S,x,T,E=t.data,k=t.width,A=t.height,O=e+e+1,D=k-1,P=A-1,I=e+1,L=I*(I+1)/2,M=new Ze,N=null,R=M,G=null,F=null,H=tn[e],B=en[e];for(r=1;r<O;r++)R=R.next=new Ze,r===I&&(N=R);for(R.next=M,l=s=0,i=0;i<A;i++){for(v=y=_=b=h=c=d=u=0,f=I*(C=E[s]),g=I*(w=E[s+1]),p=I*(S=E[s+2]),m=I*(x=E[s+3]),h+=L*C,c+=L*w,d+=L*S,u+=L*x,R=M,r=0;r<I;r++)R.r=C,R.g=w,R.b=S,R.a=x,R=R.next;for(r=1;r<I;r++)a=s+((D<r?D:r)<<2),h+=(R.r=C=E[a])*(T=I-r),c+=(R.g=w=E[a+1])*T,d+=(R.b=S=E[a+2])*T,u+=(R.a=x=E[a+3])*T,v+=C,y+=w,_+=S,b+=x,R=R.next;for(G=M,F=N,n=0;n<k;n++)E[s+3]=x=u*H>>B,0!==x?(x=255/x,E[s]=(h*H>>B)*x,E[s+1]=(c*H>>B)*x,E[s+2]=(d*H>>B)*x):E[s]=E[s+1]=E[s+2]=0,h-=f,c-=g,d-=p,u-=m,f-=G.r,g-=G.g,p-=G.b,m-=G.a,a=l+((a=n+e+1)<D?a:D)<<2,h+=v+=G.r=E[a],c+=y+=G.g=E[a+1],d+=_+=G.b=E[a+2],u+=b+=G.a=E[a+3],G=G.next,f+=C=F.r,g+=w=F.g,p+=S=F.b,m+=x=F.a,v-=C,y-=w,_-=S,b-=x,F=F.next,s+=4;l+=k}for(n=0;n<k;n++){for(y=_=b=v=c=d=u=h=0,f=I*(C=E[s=n<<2]),g=I*(w=E[s+1]),p=I*(S=E[s+2]),m=I*(x=E[s+3]),h+=L*C,c+=L*w,d+=L*S,u+=L*x,R=M,r=0;r<I;r++)R.r=C,R.g=w,R.b=S,R.a=x,R=R.next;for(o=k,r=1;r<=e;r++)s=o+n<<2,h+=(R.r=C=E[s])*(T=I-r),c+=(R.g=w=E[s+1])*T,d+=(R.b=S=E[s+2])*T,u+=(R.a=x=E[s+3])*T,v+=C,y+=w,_+=S,b+=x,R=R.next,r<P&&(o+=k);for(s=n,G=M,F=N,i=0;i<A;i++)E[3+(a=s<<2)]=x=u*H>>B,x>0?(x=255/x,E[a]=(h*H>>B)*x,E[a+1]=(c*H>>B)*x,E[a+2]=(d*H>>B)*x):E[a]=E[a+1]=E[a+2]=0,h-=f,c-=g,d-=p,u-=m,f-=G.r,g-=G.g,p-=G.b,m-=G.a,a=n+((a=i+I)<P?a:P)*k<<2,h+=v+=G.r=E[a],c+=y+=G.g=E[a+1],d+=_+=G.b=E[a+2],u+=b+=G.a=E[a+3],G=G.next,f+=C=F.r,g+=w=F.g,p+=S=F.b,m+=x=F.a,v-=C,y-=w,_-=S,b-=x,F=F.next,s+=k}}(t,e)},Brighten:function(t){var e,n=255*this.brightness(),i=t.data,r=i.length;for(e=0;e<r;e+=4)i[e]+=n,i[e+1]+=n,i[e+2]+=n},Contrast:function(t){var e,n=Math.pow((this.contrast()+100)/100,2),i=t.data,r=i.length,a=150,o=150,s=150;for(e=0;e<r;e+=4)a=i[e],o=i[e+1],s=i[e+2],a/=255,a-=.5,a*=n,a+=.5,o/=255,o-=.5,o*=n,o+=.5,s/=255,s-=.5,s*=n,s+=.5,a=(a*=255)<0?0:a>255?255:a,o=(o*=255)<0?0:o>255?255:o,s=(s*=255)<0?0:s>255?255:s,i[e]=a,i[e+1]=o,i[e+2]=s},Emboss:function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),i=this.embossDirection(),r=this.embossBlend(),a=0,o=0,s=t.data,l=t.width,h=t.height,c=4*l,d=h;switch(i){case"top-left":a=-1,o=-1;break;case"top":a=-1,o=0;break;case"top-right":a=-1,o=1;break;case"right":a=0,o=1;break;case"bottom-right":a=1,o=1;break;case"bottom":a=1,o=0;break;case"bottom-left":a=1,o=-1;break;case"left":a=0,o=-1;break;default:f.error("Unknown emboss direction: "+i)}do{var u=(d-1)*c,g=a;d+g<1&&(g=0),d+g>h&&(g=0);var p=(d-1+g)*l*4,m=l;do{var v=u+4*(m-1),y=o;m+y<1&&(y=0),m+y>l&&(y=0);var _=p+4*(m-1+y),b=s[v]-s[_],C=s[v+1]-s[_+1],w=s[v+2]-s[_+2],S=b,x=S>0?S:-S;if((C>0?C:-C)>x&&(S=C),(w>0?w:-w)>x&&(S=w),S*=e,r){var T=s[v]+S,E=s[v+1]+S,k=s[v+2]+S;s[v]=T>255?255:T<0?0:T,s[v+1]=E>255?255:E<0?0:E,s[v+2]=k>255?255:k<0?0:k}else{var A=n-S;A<0?A=0:A>255&&(A=255),s[v]=s[v+1]=s[v+2]=A}}while(--m)}while(--d)},Enhance:function(t){var e,n,i,r,a=t.data,o=a.length,s=a[0],l=s,h=a[1],c=h,d=a[2],u=d,f=this.enhance();if(0!==f){for(r=0;r<o;r+=4)(e=a[r+0])<s?s=e:e>l&&(l=e),(n=a[r+1])<h?h=n:n>c&&(c=n),(i=a[r+2])<d?d=i:i>u&&(u=i);var g,p,m,v,y,_,b,C,w;for(l===s&&(l=255,s=0),c===h&&(c=255,h=0),u===d&&(u=255,d=0),f>0?(p=l+f*(255-l),m=s-f*(s-0),y=c+f*(255-c),_=h-f*(h-0),C=u+f*(255-u),w=d-f*(d-0)):(p=l+f*(l-(g=.5*(l+s))),m=s+f*(s-g),y=c+f*(c-(v=.5*(c+h))),_=h+f*(h-v),C=u+f*(u-(b=.5*(u+d))),w=d+f*(d-b)),r=0;r<o;r+=4)a[r+0]=nn(a[r+0],s,l,m,p),a[r+1]=nn(a[r+1],h,c,_,y),a[r+2]=nn(a[r+2],d,u,w,C)}},Grayscale:function(t){var e,n,i=t.data,r=i.length;for(e=0;e<r;e+=4)n=.34*i[e]+.5*i[e+1]+.16*i[e+2],i[e]=n,i[e+1]=n,i[e+2]=n},HSL:function(t){var e,n,i,r,a,o=t.data,s=o.length,l=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,c=127*this.luminance(),d=1*l*Math.cos(h*Math.PI/180),u=1*l*Math.sin(h*Math.PI/180),f=.299+.701*d+.167*u,g=.587-.587*d+.33*u,p=.114-.114*d-.497*u,m=.299-.299*d-.328*u,v=.587+.413*d+.035*u,y=.114-.114*d+.293*u,_=.299-.3*d+1.25*u,b=.587-.586*d-1.05*u,C=.114+.886*d-.2*u;for(e=0;e<s;e+=4)n=o[e+0],i=o[e+1],r=o[e+2],a=o[e+3],o[e+0]=f*n+g*i+p*r+c,o[e+1]=m*n+v*i+y*r+c,o[e+2]=_*n+b*i+C*r+c,o[e+3]=a},HSV:function(t){var e,n,i,r,a,o=t.data,s=o.length,l=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,d=l*h*Math.cos(c*Math.PI/180),u=l*h*Math.sin(c*Math.PI/180),f=.299*l+.701*d+.167*u,g=.587*l-.587*d+.33*u,p=.114*l-.114*d-.497*u,m=.299*l-.299*d-.328*u,v=.587*l+.413*d+.035*u,y=.114*l-.114*d+.293*u,_=.299*l-.3*d+1.25*u,b=.587*l-.586*d-1.05*u,C=.114*l+.886*d-.2*u;for(e=0;e<s;e+=4)n=o[e+0],i=o[e+1],r=o[e+2],a=o[e+3],o[e+0]=f*n+g*i+p*r,o[e+1]=m*n+v*i+y*r,o[e+2]=_*n+b*i+C*r,o[e+3]=a},Invert:function(t){var e,n=t.data,i=n.length;for(e=0;e<i;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]},Kaleidoscope:function(t){var e,n,i,r,a,o,s,l,h,c=t.width,d=t.height,u=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),p=Math.floor(c*(g%360)/360);if(!(u<1)){var m=f.createCanvasElement();m.width=c,m.height=d;var v=m.getContext("2d").getImageData(0,0,c,d);!function(t,e,n){var i,r,a,o,s=t.data,l=e.data,h=t.width,c=t.height,d=n.polarCenterX||h/2,u=n.polarCenterY||c/2,f=0,g=0,p=0,m=0,v=Math.sqrt(d*d+u*u);r=h-d,a=c-u,v=(o=Math.sqrt(r*r+a*a))>v?o:v;var y,_,b,C,w=c,S=h,x=360/S*Math.PI/180;for(_=0;_<S;_+=1)for(b=Math.sin(_*x),C=Math.cos(_*x),y=0;y<w;y+=1)r=Math.floor(d+v*y/w*C),f=s[0+(i=4*((a=Math.floor(u+v*y/w*b))*h+r))],g=s[i+1],p=s[i+2],m=s[i+3],l[0+(i=4*(_+y*h))]=f,l[i+1]=g,l[i+2]=p,l[i+3]=m}(t,v,{polarCenterX:c/2,polarCenterY:d/2});for(var y=c/Math.pow(2,u);y<=8;)y*=2,u-=1;var _=y=Math.ceil(y),b=0,C=_,w=1;for(p+y>c&&(b=_,C=0,w=-1),n=0;n<d;n+=1)for(e=b;e!==C;e+=w)l=4*(c*n+Math.round(e+p)%c),r=v.data[l+0],a=v.data[l+1],o=v.data[l+2],s=v.data[l+3],h=4*(c*n+e),v.data[h+0]=r,v.data[h+1]=a,v.data[h+2]=o,v.data[h+3]=s;for(n=0;n<d;n+=1)for(_=Math.floor(y),i=0;i<u;i+=1){for(e=0;e<_+1;e+=1)l=4*(c*n+e),r=v.data[l+0],a=v.data[l+1],o=v.data[l+2],s=v.data[l+3],h=4*(c*n+2*_-e-1),v.data[h+0]=r,v.data[h+1]=a,v.data[h+2]=o,v.data[h+3]=s;_*=2}!function(t,e,n){var i,r,a,o,s,l,h=t.data,c=e.data,d=t.width,u=t.height,f=n.polarCenterX||d/2,g=n.polarCenterY||u/2,p=0,m=0,v=0,y=0,_=Math.sqrt(f*f+g*g);r=d-f,a=u-g,_=(l=Math.sqrt(r*r+a*a))>_?l:_;var b,C,w,S=u,x=d,T=n.polarRotation||0;for(r=0;r<d;r+=1)for(a=0;a<u;a+=1)o=r-f,s=a-g,b=Math.sqrt(o*o+s*s)*S/_,C=(C=(180*Math.atan2(s,o)/Math.PI+360+T)%360)*x/360,w=Math.floor(C),p=h[0+(i=4*(Math.floor(b)*d+w))],m=h[i+1],v=h[i+2],y=h[i+3],c[0+(i=4*(a*d+r))]=p,c[i+1]=m,c[i+2]=v,c[i+3]=y}(v,t,{polarRotation:0})}},Mask:function(t){var e=function(t,e){var n=rn(t,0,0),i=rn(t,t.width-1,0),r=rn(t,0,t.height-1),a=rn(t,t.width-1,t.height-1),o=e||10;if(an(n,i)<o&&an(i,a)<o&&an(a,r)<o&&an(r,n)<o){for(var s=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([i,n,a,r]),l=[],h=0;h<t.width*t.height;h++){var c=an(s,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);l[h]=c<o?0:255}return l}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var i=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,c=0,d=0;d<r;d++)for(var u=0;u<r;u++){var f=s+d-a,g=l+u-a;if(f>=0&&f<n&&g>=0&&g<e){var p=i[d*r+u];c+=t[f*e+g]*p}}o[h]=c}return o}(e=function(t,e,n){for(var i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,c=0,d=0;d<r;d++)for(var u=0;u<r;u++){var f=s+d-a,g=l+u-a;if(f>=0&&f<n&&g>=0&&g<e){var p=i[d*r+u];c+=t[f*e+g]*p}}o[h]=c>=1020?255:0}return o}(e=function(t,e,n){for(var i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),a=Math.floor(r/2),o=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var h=s*e+l,c=0,d=0;d<r;d++)for(var u=0;u<r;u++){var f=s+d-a,g=l+u-a;if(f>=0&&f<n&&g>=0&&g<e){var p=i[d*r+u];c+=t[f*e+g]*p}}o[h]=2040===c?255:0}return o}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},Noise:function(t){var e,n=255*this.noise(),i=t.data,r=i.length,a=n/2;for(e=0;e<r;e+=4)i[e+0]+=a-2*a*Math.random(),i[e+1]+=a-2*a*Math.random(),i[e+2]+=a-2*a*Math.random()},Pixelate:function(t){var e,n,i,r,a,o,s,l,h,c,d,u,g,p,m=Math.ceil(this.pixelSize()),v=t.width,y=t.height,_=Math.ceil(v/m),b=Math.ceil(y/m),C=t.data;if(m<=0)f.error("pixelSize value can not be <= 0");else for(u=0;u<_;u+=1)for(g=0;g<b;g+=1){for(r=0,a=0,o=0,s=0,h=(l=u*m)+m,d=(c=g*m)+m,p=0,e=l;e<h;e+=1)if(!(e>=v))for(n=c;n<d;n+=1)n>=y||(r+=C[(i=4*(v*n+e))+0],a+=C[i+1],o+=C[i+2],s+=C[i+3],p+=1);for(r/=p,a/=p,o/=p,s/=p,e=l;e<h;e+=1)if(!(e>=v))for(n=c;n<d;n+=1)n>=y||(C[(i=4*(v*n+e))+0]=r,C[i+1]=a,C[i+2]=o,C[i+3]=s)}},Posterize:function(t){var e,n=Math.round(254*this.levels())+1,i=t.data,r=i.length,a=255/n;for(e=0;e<r;e+=1)i[e]=Math.floor(i[e]/a)*a},RGB:function(t){var e,n,i=t.data,r=i.length,a=this.red(),o=this.green(),s=this.blue();for(e=0;e<r;e+=4)n=(.34*i[e]+.5*i[e+1]+.16*i[e+2])/255,i[e]=n*a,i[e+1]=n*o,i[e+2]=n*s,i[e+3]=i[e+3]},RGBA:function(t){var e,n,i=t.data,r=i.length,a=this.red(),o=this.green(),s=this.blue(),l=this.alpha();for(e=0;e<r;e+=4)n=1-l,i[e]=a*l+i[e]*n,i[e+1]=o*l+i[e+1]*n,i[e+2]=s*l+i[e+2]*n},Sepia:function(t){var e,n,i,r,a=t.data,o=a.length;for(e=0;e<o;e+=4)n=a[e+0],i=a[e+1],r=a[e+2],a[e+0]=Math.min(255,.393*n+.769*i+.189*r),a[e+1]=Math.min(255,.349*n+.686*i+.168*r),a[e+2]=Math.min(255,.272*n+.534*i+.131*r)},Solarize:function(t){var e=t.data,n=t.width,i=4*n,r=t.height;do{var a=(r-1)*i,o=n;do{var s=a+4*(o-1),l=e[s],h=e[s+1],c=e[s+2];l>127&&(l=255-l),h>127&&(h=255-h),c>127&&(c=255-c),e[s]=l,e[s+1]=h,e[s+2]=c}while(--o)}while(--r)},Threshold:function(t){var e,n=255*this.threshold(),i=t.data,r=i.length;for(e=0;e<r;e+=1)i[e]=i[e]<n?0:255}}});n(734),n(226);window.$=window.jQuery=n(755);const sn="https://cdngarenanow-a.akamaihd.net/webmain/static/resource/wallpaper/",ln=sn+"hero/",hn=[{name:"toro",value:"toro",tag:"tank",skinsCount:3,bgCount:3},{name:"raz",value:"raz",tag:"mage",skinsCount:4,bgCount:4},{name:"zephys",value:"zephys",tag:"warrior",skinsCount:5,bgCount:5},{name:"veera",value:"veera",tag:"mage",skinsCount:5,bgCount:5},{name:"violet",value:"violet",tag:"archer",skinsCount:8,bgCount:8},{name:"yorn",value:"yorn",tag:"archer",skinsCount:5,bgCount:5},{name:"omega",value:"omega",tag:"tank",skinsCount:2,bgCount:2},{name:"butterfly",value:"butterfly",tag:"assassin",skinsCount:7,bgCount:7},{name:"mina",value:"mina",tag:"tank",skinsCount:3,bgCount:3},{name:"azzenka",value:"azzenka",tag:"mage",skinsCount:3,bgCount:3},{name:"lubu",value:"lubu",tag:"warrior",skinsCount:6,bgCount:6},{name:"zanis",value:"zanis",tag:"warrior",skinsCount:6,bgCount:6},{name:"valhein",value:"valhein",tag:"archer",skinsCount:6,bgCount:6},{name:"thane",value:"thane",tag:"tank",skinsCount:3,bgCount:3},{name:"ilumia",value:"ilumia",tag:"mage",skinsCount:3,bgCount:3},{name:"lauriel",value:"lauriel",tag:"mage",skinsCount:5,bgCount:5},{name:"nakroth",value:"nakroth",tag:"assassin",skinsCount:5,bgCount:5},{name:"diaochan",value:"diaochan",tag:"mage",skinsCount:4,bgCount:4},{name:"aleister",value:"aleister",tag:"mage",skinsCount:3,bgCount:3},{name:"wukong",value:"wukong",tag:"assassin",skinsCount:6,bgCount:6},{name:"krixi",value:"krixi",tag:"mage",skinsCount:6,bgCount:6},{name:"gildur",value:"gildur",tag:"tank",skinsCount:2,bgCount:2},{name:"kahli",value:"kahli",tag:"mage",skinsCount:4,bgCount:4},{name:"chaugnar",value:"chaugnar",tag:"support",skinsCount:3,bgCount:3},{name:"ormarr",value:"ormarr",tag:"warrior",skinsCount:4,bgCount:4},{name:"alice",value:"alice",tag:"support",skinsCount:3,bgCount:3},{name:"mganga",value:"mganga",tag:"mage",skinsCount:3,bgCount:3},{name:"maloch",value:"maloch",tag:"warrior",skinsCount:3,bgCount:3},{name:"taara",value:"taara",tag:"tank",skinsCount:3,bgCount:3},{name:"preyta",value:"preyta",tag:"mage",skinsCount:3,bgCount:3},{name:"cresht",value:"cresht",tag:"tank",skinsCount:3,bgCount:3},{name:"fennik",value:"fennik",tag:"archer",skinsCount:3,bgCount:3},{name:"grakk",value:"grakk",tag:"tank",skinsCount:3,bgCount:3},{name:"natalya",value:"natalya",tag:"mage",skinsCount:5,bgCount:5},{name:"lumburr",value:"lumburr",tag:"support",skinsCount:2,bgCount:2},{name:"jinna",value:"jinna",tag:"mage",skinsCount:3,bgCount:3},{name:"payna",value:"payna",tag:"support",skinsCount:3,bgCount:3},{name:"arthur",value:"arthur",tag:"warrior",skinsCount:4,bgCount:4},{name:"kriknak",value:"kriknak",tag:"assassin",skinsCount:3,bgCount:3},{name:"airi",value:"airi",tag:"warrior",skinsCount:8,bgCount:8},{name:"batman",value:"batman",tag:"assassin",skinsCount:2,bgCount:2},{name:"slimz",value:"slimz",tag:"archer",skinsCount:3,bgCount:3},{name:"skud",value:"skud",tag:"warrior",skinsCount:4,bgCount:4},{name:"zuka",value:"zuka",tag:"warrior",skinsCount:6,bgCount:6},{name:"murad",value:"murad",tag:"assassin",skinsCount:7,bgCount:7},{name:"telannas",value:"telannas",tag:"archer",skinsCount:6,bgCount:6},{name:"Zill",value:"qier",tag:"mage",skinsCount:4,bgCount:4},{name:"ignis",value:"ignis",tag:"mage",skinsCount:2,bgCount:2},{name:"joker",value:"joker",tag:"archer",skinsCount:2,bgCount:2},{name:"superman",value:"superman",tag:"warrior",skinsCount:2,bgCount:2},{name:"kilgroth",value:"kilgroth",tag:"warrior",skinsCount:2,bgCount:2},{name:"xeniel",value:"xeniel",tag:"tank",skinsCount:5,bgCount:5},{name:"arduin",value:"arduin",tag:"warrior",skinsCount:3,bgCount:3},{name:"Ryoma",value:"longma",tag:"warrior",skinsCount:4,bgCount:4},{name:"astrid",value:"aicuisi",tag:"warrior",skinsCount:3,bgCount:3},{name:"moren",value:"moen",tag:"archer",skinsCount:3,bgCount:3},{name:"wonderwoman",value:"wonderwoman",tag:"warrior",skinsCount:2,bgCount:2},{name:"tulen",value:"tulun",tag:"mage",skinsCount:7,bgCount:7},{name:"lindis",value:"lindi",tag:"archer",skinsCount:5,bgCount:5},{name:"timi",value:"timi",tag:"support",skinsCount:2,bgCount:2},{name:"omen",value:"yecha",tag:"warrior",skinsCount:3,bgCount:3},{name:"max",value:"maikesi",tag:"warrior",skinsCount:3,bgCount:3},{name:"liliana",value:"lilian",tag:"mage",skinsCount:6,bgCount:6},{name:"wisp",value:"lingling",tag:"archer",skinsCount:3,bgCount:3},{name:"arum",value:"airui",tag:"tank",skinsCount:4,bgCount:4},{name:"rourke",value:"luoke",tag:"warrior",skinsCount:3,bgCount:3},{name:"roxie",value:"nuokexi",tag:"warrior",skinsCount:4,bgCount:4},{name:"baldum",value:"bodun",tag:"tank",skinsCount:2,bgCount:2},{name:"marja",value:"majia",tag:"mage",skinsCount:3,bgCount:3},{name:"emily",value:"aimili",tag:"warrior",skinsCount:3,bgCount:3},{name:"annete",value:"annaite",tag:"support",skinsCount:3,bgCount:3},{name:"y'bneth",value:"gumu",tag:"tank",skinsCount:2,bgCount:2},{name:"elsu",value:"su",tag:"archer",skinsCount:5,bgCount:5},{name:"richter/Riktor",value:"ruike",tag:"warrior",skinsCount:3,bgCount:3},{name:"Sephera",value:"lan",tag:"mage",skinsCount:2,bgCount:2},{name:"quillen",value:"kuilun",tag:"assassin",skinsCount:4,bgCount:4},{name:"Darcy",value:"daerxi",tag:"mage",skinsCount:3,bgCount:3},{name:"Capheny",value:"kafenni",tag:"archer",skinsCount:2,bgCount:2},{name:"Verez",value:"feilei",tag:"warrior",skinsCount:3,bgCount:3},{name:"Hayate",value:"haiya",tag:"archer",skinsCount:2,bgCount:2},{name:"Errol",value:"ailuo",tag:"warrior",skinsCount:2,bgCount:2},{name:"Florentino",value:"foluolun",tag:"warrior",skinsCount:3,bgCount:3},{name:"Yena",value:"yena",tag:"warrior",skinsCount:2,bgCount:2},{name:"Enzo",value:"enzo",tag:"assassin",skinsCount:2,bgCount:2},{name:"Qi",value:"qi",tag:"warrior",skinsCount:2,bgCount:2},{name:"Zip",value:"zip",tag:"support",skinsCount:2,bgCount:2}],cn=["Staatliches","Lilita One","Germania One","ZCOOL XiaoWei","Baloo Chettan","Arimo","Assistant","Libre Barcode 39","Noto Serif","Margarine","Saira Extra Condensed","Mrs Sheppards","Sree Krushnadevaraya","Encode Sans Expanded","Italiana","Iceberg","Sniglet","Bai Jamjuree","Miss Fajardose","Pavanam","Noto Sans SC","Scope One","Gothic A1","BioRhyme Expanded","Noto Sans","Lalezar","Kumar One","Heebo","Sunflower","Noto Serif TC","Markazi Text","Patrick Hand","Flavors","Dokdo","Aleo","Over the Rainbow","Lovers Quarrel","B612 Mono","Playball","Galada","Unkempt","Allerta Stencil","Mukta Malar","Spicy Rice","Ruge Boogie","Khula","Srisakdi","Mogra","Faustina","Tauri","Mouse Memoirs","Molengo","Halant","Esteban","Combo","Fresca","IBM Plex Sans Condensed","Electrolize","Sumana","Mallanna","Do Hyeon","Secular One","Charm","Angkor","Lakki Reddy","KoHo","Sarala","Nova Slim","Black And White Picture","Black Han Sans","Major Mono Display","Suravaram","Astloch","Overpass Mono","Miltonian Tattoo","Gilda Display","Armata","Butterfly Kids","Gugi","Bevan","M PLUS 1p","Barlow Condensed","Give You Glory","Dekko","Abhaya Libre","Annie Use Your Telescope","Balthazar","Alfa Slab One","B612","Love Ya Like A Sister","Bungee","Lemonada","Kosugi","Miriam Libre","Kodchasan","Archivo","Pridi","Rhodium Libre","Nanum Pen Script","Smythe","Fugaz One","Taprom","Knewave","Stylish","Lateef","Galindo","Delius","Diplomata SC","Source Code Pro","Fira Sans Condensed","Tajawal","Candal","Bigelow Rules","Six Caps","Mrs Saint Delafield","Yeon Sung","Thasadith","Amarante","Alike","Chewy","Mr De Haviland","Fasthand","Unna","Reenie Beanie","Noto Sans TC","Redressed","Butcherman","Press Start 2P","Almendra Display","Macondo","Ropa Sans","Rubik","Cute Font","Smokum","Stint Ultra Expanded","Aldrich","Clicker Script","Rajdhani","IBM Plex Sans","Italianno","Nunito Sans","Miniver","Antic Didone","Asset","Purple Purse","Euphoria Script","Mitr","Caesar Dressing","Rum Raisin","Play","Noto Serif JP","Graduate","Cabin Condensed","Varela","Slabo 27px","Nanum Gothic","Nanum Myeongjo","Poly","El Messiri","Space Mono","Kreon","Ramaraja","Seymour One","Sahitya","Bilbo Swash Caps","Almendra","Dorsa","Prosto One","Jockey One","IM Fell Great Primer","Iceland","Brawler","Changa","Donegal One","Jacques Francois Shadow","Quintessential","Bowlby One","Covered By Your Grace","Ruthie","Caudex","Scada","Rye","Chelsea Market","Libre Barcode 128","Syncopate","Duru Sans","Oxygen Mono","Unlock","Jolly Lodger","Zilla Slab Highlight","Vollkorn SC","Overlock SC","IM Fell Great Primer SC","Orbitron","Catamaran","Alegreya Sans SC","Alegreya SC","Encode Sans Semi Expanded","UnifrakturCook","Architects Daughter","Mandali","Sintony","Megrim","Ramabhadra","Poor Story","Barlow","Cambay","Kite One","Caveat","Croissant One","Baloo Bhai","Didact Gothic","Pirata One","Engagement","Itim","Fenix","Quantico","Norican","Rosario","Montez","Cardo","Delius Swash Caps","Nova Flat","Montserrat Alternates","Mukta Mahee","Miltonian","Arvo","Qwigley","Gamja Flower","Patrick Hand SC","Fredericka the Great","Metal Mania","Kanit","Suez One","Belgrano","Vidaloka","Rufina","Saira Condensed","Kavivanar","Cantarell","Gentium Book Basic","Noto Serif KR","Cambo","Uncial Antiqua","Pragati Narrow","Peralta","Asul","Athiti","Anton","Jua","Eczar","Prompt","Nanum Brush Script","Geostar Fill","Englebert","Audiowide","Mukta","Chivo","Encode Sans","Nunito","Amaranth","Ravi Prakash","Swanky and Moo Moo","Inknut Antiqua","Libre Barcode 39 Text","Vampiro One","Londrina Shadow","Princess Sofia","Varela Round","Sirin Stencil","Cedarville Cursive","Libre Barcode 39 Extended Text","Bad Script","Cormorant Unicase","Allura","Radley","Noto Sans JP","Petrona","Creepster","Simonetta","Chakra Petch","Ruda","Lobster Two","Ubuntu Condensed","Passero One","Pattaya","Geostar","Farsan","Lekton","Hind Siliguri","Fascinate Inline","Krona One","Glass Antiqua","Kurale","Noto Sans KR","Montserrat Subrayada","Palanquin","Keania One","Oleo Script","Saira","Voces","Federo","Kosugi Maru","Fira Mono","Holtwood One SC","Pathway Gothic One","Vast Shadow","Berkshire Swash","Martel Sans","Montserrat","Original Surfer","Open Sans Condensed","Cutive Mono","Actor","Kranky","Mountains of Christmas","Sancreek","Text Me One","Oxygen","Bungee Shade","Hanalei","Buenard","Adamina","Ribeye","Scheherazade","Asap","PT Serif Caption","Kaushan Script","Biryani","Teko","Sedgwick Ave Display","Nobile","Rouge Script","Sawarabi Gothic","Noticia Text","Spinnaker","David Libre","Crushed","Merriweather","Autour One","Sacramento","Modak","Nanum Gothic Coding","League Script","Basic","Inder","Merriweather Sans","La Belle Aurore","Roboto Slab","Permanent Marker","Sawarabi Mincho","Barrio","Elsie Swash Caps","Hind","Marcellus","Rancho","Quattrocento","Nova Cut","Coming Soon","Great Vibes","Raleway","Krub","Alef","Metrophobic","Jacques Francois","Cormorant Garamond","The Girl Next Door","Noto Serif SC","Fjord One","Mystery Quest","Suranna","Rasa","Parisienne","Libre Baskerville","Fruktur","Kotta One","Judson","IM Fell DW Pica SC","Oswald","Source Serif Pro","Poppins","Aubrey","Amiri","Trirong","Fontdiner Swanky","Revalia","Cuprum","Philosopher","Taviraj","Barlow Semi Condensed","Work Sans","Kalam","Lora","Baloo","Julius Sans One","Yanone Kaffeesatz","Henny Penny","Ruluko","Emilys Candy","Bitter","Hammersmith One","Spectral SC","Caveat Brush","Francois One","Cinzel Decorative","Cantata One","Sevillana","Aladin","Chango","Imprima","Linden Hill","Merienda One","Fira Sans","Vibur","Allan","Cherry Cream Soda","Source Sans Pro","Marko One","Open Sans","News Cycle","Calligraffitti","Enriqueta","Days One","Dynalight","Rubik Mono One","Tinos","Amatic SC","Volkhov","IM Fell Double Pica SC","Arbutus","Average","Ubuntu","Kenia","Oleo Script Swash Caps","Exo 2","Nothing You Could Do","Arapey","Sofia","Trochut","Josefin Sans","Dancing Script","Cabin","Gidugu","Mukta Vaani","Courgette","Roboto Condensed","Prata","Marcellus SC","Squada One","Trocchi","Crimson Text","Numans","Paytone One","Old Standard TT","Maven Pro","Quicksand","IM Fell French Canon SC","Monda","Kristi","IM Fell DW Pica","Mako","Mina","Happy Monkey","Goudy Bookletter 1911","Allerta","Sarina","Cabin Sketch","Homemade Apple","Gaegu","Tillana","Titillium Web","Codystar","Average Sans","Denk One","Inconsolata","Rationale","Kavoon","Faster One","PT Serif","Lily Script One","Sarpanch","Unica One","Cutive","Palanquin Dark","Petit Formal Script","Snowburst One","Rakkas","Playfair Display","Damion","Dosis","Crete Round","Signika","Devonshire","Junge","Monsieur La Doulaise","Buda","Doppio One","Sonsie One","Arizonia","Nixie One","Fjalla One","Yrsa","Indie Flower","Antic Slab","Questrial","Quattrocento Sans","Yellowtail","Habibi","Khand","Lobster","Lato","Sorts Mill Goudy","Cairo","Sarabun","Comfortaa","Averia Gruesa Libre","Fauna One","McLaren","Neuton","Reem Kufi","Carrois Gothic SC","Vollkorn","Bangers","Pangolin","UnifrakturMaguntia","Paprika","Satisfy","Dawning of a New Day","Harmattan","Sanchez","Shadows Into Light","Lancelot","Cookie","Federant","Kirang Haerang","PT Mono","Poiret One","Finger Paint","Economica","Just Me Again Down Here","Bubblegum Sans","Pacifico","Flamenco","GFS Neohellenic","Share Tech Mono","Ewert","Carrois Gothic","Stalemate","Cormorant Infant","Risque","Signika Negative","Share","Aguafina Script","Dhurjati","Lemon","Piedra","Abril Fatface","Roboto","Grand Hotel","IM Fell English","Akronim","Racing Sans One","Leckerli One","Changa One","Stint Ultra Condensed","Averia Sans Libre","Cousine","Bigshot One","Acme","VT323","Gudea","Overpass","Amiko","Nova Round","IBM Plex Serif","IM Fell Double Pica","Metamorphous","Abel","Zeyada","Freckle Face","Meddon","Pinyon Script","Lustria","Yesteryear","Cagliostro","IM Fell French Canon","Andika","Belleza","Waiting for the Sunrise","Muli","Artifika","Expletus Sans","Russo One","Michroma","Yeseva One","Trade Winds","Josefin Slab","Rambla","Maitree","PT Sans Caption","Telex","Arbutus Slab","Kameron","Chela One","GFS Didot","Bree Serif","Archivo Black","Spectral","Ranchers","Alike Angular","Karla","Charmonman","Libre Franklin","Monoton","Fondamento","Alegreya","Just Another Hand","Walter Turncoat","Bayon","Nova Mono","Loved by the King","Coda Caption","Gravitas One","Slackey","Geo","Pompiere","Mr Bedfort","Oldenburg","Schoolbell","Mali","Archivo Narrow","Katibeh","Playfair Display SC","Gabriela","Galdeano","Hanuman","Wendy One","Sue Ellen Francisco","Gloria Hallelujah","Erica One","Fanwood Text","Emblema One","Black Ops One","Magra","Nova Oval","Fira Sans Extra Condensed","Anonymous Pro","Libre Barcode 39 Extended","Righteous","Odor Mean Chey","Seaweed Script","Domine","Patua One","Marmelad","Sofadi One","Sura","Hind Vadodara","Sigmar One","Coustard","Short Stack","Peddana","Goblin One","Alex Brush","Della Respira","Amita","Hi Melody","Herr Von Muellerhoff","Wallpoet","Londrina Outline","Dr Sugiyama","Wire One","Yatra One","Ultra","Niconne","Oregano","Offside","Eagle Lake","Podkova","Pontano Sans","Neucha","Overlock","EB Garamond","PT Sans","Ledger","Oranienbaum","Spirax","Hanalei Fill","Headland One","Kumar One Outline","Cantora One","Wellfleet","Mr Dafoe","BenchNine","Mada","Milonga","Martel","Snippet","Freehand","Shojumaru","Salsa","MedievalSharp","Karma","Cinzel","Joti One","New Rocker","BioRhyme","Marvel","Sail","Forum","Montaga","Trykker","Concert One","Eater","Ceviche One","Mate","Glegoo","Irish Grover","Cormorant","Bentham","PT Sans Narrow","Rokkitt","Sunshiney","Moulpali","Advent Pro","Tangerine","Shanti","Alice","Asar","Arsenal","Bellefair","Capriola","Stardos Stencil","Homenaje","Slabo 13px","Tenor Sans","Meera Inimai","Passion One","Baloo Tammudu","Tienne","Mate SC","Baloo Bhaina","Notable","Kelly Slab","Fredoka One","Baloo Thambi","Boogaloo","Meie Script","Viga","Carme","Baloo Da","Bubbler One","Gentium Basic","Crafty Girls","Frijole","Strait","M PLUS Rounded 1c","Saira Semi Condensed","Romanesco","Cormorant SC","Sansita","Londrina Sketch","Skranji","Raleway Dots","Roboto Mono","Quando","Inika","Sriracha","Averia Serif Libre","Alegreya Sans","Nosifer","Prociono","Atma","ABeeZee","Stalinist One","Almendra SC","Ribeye Marrow","Carter One","Life Savers","Limelight","Rammetto One","Atomic Age","Kdam Thmor","Orienta","Monofett","Port Lligat Slab","Rock Salt","Lusitana","Julee","Copse","Vesper Libre","Share Tech","Mirza","Special Elite","Chau Philomene One","Battambang","Arima Madurai","Macondo Swash Caps","Manuale","Gafata","Handlee","Merienda","Gurajada","Tulpen One","Andada","Chonburi","Chathura","Tenali Ramakrishna","Preahvihear","Bowlby One SC","Maiden Orange","Bahiana","Titan One","Rosarivo","Fascinate","Felipa","Ovo","Fahkwang","Jaldi","Plaster","Exo","Yantramanav","Timmana","Suwannaphum","Gorditas","Nokora","Cherry Swash","Jim Nightshade","Averia Libre","Bonbon","Bungee Inline","Luckiest Guy","Khmer","Content","Marck Script","Delius Unicase","Warnes","Antic","Port Lligat Sans","Bungee Hairline","Griffy","Song Myung","Gochi Hand","Nova Script","Nova Square","Siemreap","Diplomata","Poller One","Baloo Paaji","ZCOOL QingKe HuangYou","Bungee Outline","Condiment","East Sea Dokdo","Amethysta","Baloo Tamma","Gruppo","Hind Madurai","Baumans","Libre Barcode 128 Text","Anaheim","Kantumruy","Modern Antiqua","Metal","Shadows Into Light Two","Londrina Solid","Medula One","Contrail One","Chenla","Stoke","Rochester","Coda","Laila","Molle","Convergence","Encode Sans Semi Condensed","Supermercado One","Jomhuria","Ubuntu Mono","Corben","Jura","ZCOOL KuaiLe","Underdog","Asap Condensed","Zilla Slab","Kadwa","Voltaire","Rozha One","Hind Guntur","IM Fell English SC","Puritan","Proza Libre","Ruslan Display","Frank Ruhl Libre","Baloo Bhaijaan","Aclonica","Elsie","Niramit","Bilbo","Istok Web","Koulen","Arya","IBM Plex Mono","Shrikhand","Moul","Bokor","Chicle","Dangrek","NTR","Aref Ruqaa","Cormorant Upright","Sedgwick Ave","K2D","Coiny","Padauk","Ranga","Encode Sans Condensed"],dn=["penta","quad","triple","mvp","winstreak","legendary","6kills","7kills","8kills","aov-logo-1","aov-logo-2","aov-logo-3","aov-logo-4","aov-logo-5","fire-splash","splash-blue","tencent-1"];window.mobileAndTabletcheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e};var un=mobileAndTabletcheck();const fn=.8*screen.width,gn=.8*screen.height,pn=window.devicePixelRatio+.5,mn=730,vn=410.625,yn=540;var _n=null,bn=null,Cn=null,wn=["Staatliches"];if(un)var Sn="mobile",xn=fn,Tn=gn,En=pn;else Sn="mobile",xn=yn,Tn=960,En=2;var kn=!1;function An(t,e){var n="";$.each(hn,(function(i,r){n="";for(var a=1;a<=r[t+"Count"];a++)n=n+'<img loading="lazy" title="'+r.name.toUpperCase()+'" data-hero="'+r.value+'" data-number='+a+' data-sub="'+t+'" class="'+t+" "+t+"-"+r.value+'" src="'+ln+r.value+"/"+t+"-thumb/"+a+'.jpg" width=50/>';e.append(n)}))}window.location.href.indexOf("?mobile_app=true")>-1&&(kn=!0),$((function(){var t,e;kn&&($("#download-image").removeClass("btn-primary").addClass("btn-success"),$("#download-image > span").text("Save Image to Device"),$(".fb-comment").hide()),$("#aov-canvas-wrapper").css({width:xn,height:Tn,margin:un?"auto":"initial"}),An("bg",$("#bg-wrapper > div")),An("skins",$("#skin-wrapper > div")),t=$("#util"),e="",$.each(dn,(function(t,n){e=e+'<img loading="lazy" src="images/utils-thumb/'+n+'.jpg" data-source="images/utils/'+n+'.png" data-sub="custom-utils" height="70" /> '})),t.append(e),function(t,e=0){for(var n="",i=e;i>=1;i--)n=n+'<img loading="lazy" src="'+sn+"tw-title-thumb/"+i+'.jpg" data-sub="tw-title" width="140" data-number="'+i+'" /> ';t.append(n)}($("#util"),14),function(t){var e='<option value="impact">Impact</option>';$.each(cn,(function(t,n){e=e+'<option value="'+n+'">'+n+"</option>"})),t.html(e)}($("#text-font")),$("#selected-mode").change((function(){!function(t="default"){"default"==t&&(t=Sn);"desktop"==t?($(".main .canvas-section").removeClass("col-md-6").addClass("col-md-12"),$(".main .tool-section").removeClass("col-md-6").addClass("col-md-8"),stage.width(mn),stage.height(vn),En=3,stage.draw(),$("#aov-canvas-wrapper").width(mn).height(vn),Sn="desktop"):"square"==t?function(){$(".main .canvas-section").removeClass("col-md-12").addClass("col-md-6"),$(".main .tool-section").removeClass("col-md-8").addClass("col-md-6"),un?(stage.width(fn),stage.height(fn),En=pn):(stage.width(yn),stage.height(yn),En=2);stage.draw(),$("#aov-canvas-wrapper").width(stage.width()).height(stage.height()),Sn="mobile"}():function(){$(".main .canvas-section").removeClass("col-md-12").addClass("col-md-6"),$(".main .tool-section").removeClass("col-md-8").addClass("col-md-6"),un?(stage.width(fn),stage.height(gn),En=pn):(stage.width(yn),stage.height(960),En=2);stage.draw(),$("#aov-canvas-wrapper").width(stage.width()).height(stage.height()),Sn="mobile"}()}($(this).val())}))})),window.stage=new on.Stage({container:"container",width:xn,height:Tn}),window.active_target=null,window.layer=new on.Layer,layer.draw(),window.tr=null,window.deleteButton=null;var On=document.getElementById("context-menu");function Dn(t){if(t.evt.preventDefault(),t.target!==stage){active_target=t.target,On.style.display="initial";stage.container().getBoundingClientRect();On.style.top=$(".canvas-section").offset().top+stage.getPointerPosition().y+4+"px",On.style.left=$(".canvas-section").offset().left+stage.getPointerPosition().x+16+"px"}}function Pn(t){if(active_target=t,null!=_n)return _n.attachTo(t),bn.setX(_n.getWidth()),_n.zIndex(999999),void layer.draw();_n=new on.Transformer({anchorStroke:"red",anchorFill:"yellow",anchorSize:20,borderStroke:"#fff",borderDash:[3,3],enabledAnchors:["bottom-right"],centeredScaling:!0}),layer.add(_n),_n.attachTo(t);var e=new Image;e.setAttribute("crossOrigin","anonymous"),e.onload=function(){bn=new on.Image({x:_n.getWidth(),y:0,image:e}),_n.add(bn),layer.draw(),_n.on("transform",(()=>{bn.x(_n.getWidth()),layer.draw()})),bn.on("click tap",(()=>{In()})),bn.on("mouseenter",(function(){stage.container().style.cursor="pointer"})),bn.on("mouseleave",(function(){stage.container().style.cursor="default"}))},e.src="images/del.png";var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){Cn=new on.Image({x:0,y:0,image:n}),_n.add(Cn),layer.draw(),_n.on("transform",(()=>{Cn.x(0)})),Cn.on("click tap",(()=>{flipHorizontal()})),Cn.on("mouseenter",(function(){stage.container().style.cursor="pointer"})),Cn.on("mouseleave",(function(){stage.container().style.cursor="default"}))},n.src="images/flip.png",layer.draw()}function In(){_n.detach(),active_target.destroy(),layer.draw()}function Ln(){return un?$("#left-wrapper > div"):$("#left-wrapper")}function Mn(t,e="width"){Ln().LoadingOverlay("show",{text:"Loading Image...",textResizeFactor:.3});var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){Ln().LoadingOverlay("hide"),un&&("bg-collapse"==$(".collapse.show").attr("id")?$("#btn-hero-nav").click():$(".collapse.show").removeClass("show"));var t,i,r,a,o=stage.attrs,s=n.width/n.height,l=o.width/o.height;s<l||"height"==e?(t=o.height,i=n.width*(t/n.height),r=(o.width-i)/2,a=0):s>l?(i=o.width,t=n.height*(i/n.width),r=0,a=(o.height-t)/2):(t=o.height,i=o.width,r=0,a=0),"contains"==e&&(i<o.width&&(t*=o.width/i,i=o.width),t<o.height&&(i*=o.height/t,t=o.height),r=0,a=0);var h=new on.Image({x:r,y:a,image:n,draggable:!0,keepRatio:!0,width:i,height:t});layer.add(h),stage.add(layer),stage.find("Transformer").detach(),Pn(h),$("html, body").animate({scrollTop:$("#aov-canvas-wrapper").offset().top-50},1e3)},n.src=t}stage.on("dragstart click tap",(function(t){Pn(t.target)})),window.addEventListener("click",(()=>{On.style.display="none"})),stage.on("dblclick dbltap",(function(t){Dn(t)})),stage.on("contextmenu",(function(t){Dn(t)})),$("html").keyup((function(t){46==t.keyCode&&(active_target.destroy(),stage.find("Transformer").detach(),layer.draw())})),$("#bf-button").click((function(){active_target.zIndex(active_target.zIndex()+1),layer.draw()})),$("#sb-button").click((function(){active_target.zIndex(active_target.zIndex()-1),layer.draw()})),$("#stb-button").click((function(){active_target.zIndex(0),layer.draw()})),$("#btf-button").click((function(){active_target.zIndex(999998),layer.draw()})),$("#fh-button").click((function(){flipHorizontal()})),$("#fv-button").click((function(){flipVertical()})),$("#delete-button").click((function(){In()})),window.flipHorizontal=function(){Pn(active_target);var t=active_target.getWidth();active_target.scaleX(-1*active_target.scaleX()),layer.draw(),active_target.getOffsetX()>0?active_target.setOffsetX(0):active_target.setOffsetX(t),layer.draw()},window.flipVertical=function(){Pn(active_target);var t=active_target.getHeight();active_target.scaleY(-1*active_target.scaleY()),layer.draw(),active_target.getOffsetY()>0?active_target.setOffsetY(0):active_target.setOffsetY(t),layer.draw()},$((function(){$(".clickable-image > div > img").click((function(){var t=$(this).data("sub"),e=$(this).data("hero"),n=$(this).data("number"),i=$(this).data("source"),r=".png",a="width";"bg"==t&&(r=".jpg",a="desktop"==Sn?"contains":"height");Mn("tw-title"==t?sn+t+"/"+n+r:"custom-utils"===t?i:ln+e+"/"+t+"/"+n+r,a)})),$("#text-font").on("change",(function(){var t,e,n,i=$(this).val();-1===$.inArray(i,wn)&&"Impact"!=i&&(t="https://fonts.googleapis.com/css?family="+i,e=document.getElementsByTagName("head")[0],(n=document.createElement("link")).href=t,n.type="text/css",n.rel="stylesheet",e.append(n),wn.push(i))})),$("#tambah-text").click((function(){var t="1"==$("#stroke-enabled").prop("checked")?$("#stroke-color").val():null;!function(t,e="orange",n="arial",i="left",r="#000"){var a=null!=r?1:0,o=new on.Text({x:stage.getWidth()/2,y:15,text:t,fontSize:35,fontFamily:n,fill:e,stroke:r,strokeWidth:a,draggable:!0,align:i});layer.add(o),stage.add(layer),Pn(o)}($("#text").val(),$("#text-color").val(),$("#text-font").val(),$("#text-align").val(),t),un&&$(".collapse").removeClass("show")})),$("#download-image").click((function(){$("body").LoadingOverlay("show"),stage.find("Transformer").detach(),Nn("aov-wallpaper.png")})),$("#filter-hero").on("change keyup paste",(function(){""===$(this).val()?$("#skin-wrapper > div > img").show():($("#skin-wrapper > div > img").hide(),$("#skin-wrapper > div > img").filter((function(){return $(this).attr("title").toLowerCase().includes($("#filter-hero").val())})).show())})),$("#filter-bg").on("change keyup paste",(function(){""===$(this).val()?$("#bg-wrapper > div > img").show():($("#bg-wrapper > div > img").hide(),$("#bg-wrapper > div > img").filter((function(){return $(this).attr("title").toLowerCase().includes($("#filter-bg").val())})).show())})),$("#text, #text-color, #text-font, #text-align, #stroke-enabled, #stroke-color").on("change keyup paste",(function(){!function(t="",e="black",n="arial",i="left",r=0,a="#000"){if(""==t)return void $("#text-prev-wrapper").html("");$("#text-prev-wrapper").html('<center>Preview:</center><br /><p style="text-align:'+i+";font-size:35px;color:"+e+";font-family: '"+n+"';padding:10px; -webkit-text-stroke: "+r+"px "+a+';">'+t+"</p>")}($("#text").val(),$("#text-color").val(),$("#text-font").val(),$("#text-align").val(),1==$("#stroke-enabled").prop("checked")?1:0,$("#stroke-color").val())})),$(".menu-btn").click((function(t){$($(this).data("target")).hasClass("show")||$(this).parent().parent().find(".collapse").removeClass("show")})),$("#custom-image").on("change",(function(t){!function(t){if(t.files&&t.files[0]){var e=new FileReader;e.onload=function(t){Mn(t.target.result)},e.readAsDataURL(t.files[0])}}(this)})),$(document).click((t=>{un&&($(t.target).closest("#left-wrapper").length||$(".collapse").removeClass("show"))}))}));var Nn=function(t){var e=document.createElement("a"),n=stage.toDataURL({pixelRatio:En}),i=function(t){var e=t.split(","),n=e[0].match(/:(.*?);/)[1],i=atob(e[1]),r=i.length,a=new Uint8Array(r);for(;r--;)a[r]=i.charCodeAt(r);return new Blob([a],{type:n})}(n),r=URL.createObjectURL(i);try{kn?window.exportImage.postMessage(n):(e.download=t,e.href=r,e.click())}catch(t){}finally{$("body").LoadingOverlay("hide")}};var Rn=0;stage.getContent().addEventListener("touchmove",(function(t){var e,n,i=t.touches[0],r=t.touches[1];if(i&&r&&active_target){var a=(e={x:i.clientX,y:i.clientY},n={x:r.clientX,y:r.clientY},Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)));Rn||(Rn=a);var o=active_target.scaleX()*a/Rn;active_target.scaleX(o),active_target.scaleY(o),bn.x(_n.getWidth()),layer.draw(),Rn=a}}),!1),stage.getContent().addEventListener("touchend",(function(){Rn=0}),!1)})()})();